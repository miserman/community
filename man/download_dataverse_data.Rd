% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/download_dataverse_data.R,
%   R/download_dataverse_info.R
\name{download_dataverse_data}
\alias{download_dataverse_data}
\alias{download_dataverse_info}
\title{Download Dataverse Dataset Files}
\usage{
download_dataverse_data(id, outdir = tempdir(), files = NULL,
  version = ":latest", server = NULL, key = NULL, load = TRUE,
  refresh = FALSE, branch = NULL, verbose = FALSE)

download_dataverse_info(id, server = NULL, key = NULL, refresh = FALSE,
  branch = NULL, verbose = FALSE)
}
\arguments{
\item{id}{The dataset's persistent ID (e.g., \code{"doi:10.18130/V3/SWK71R"}), or a GitHub repository
(\code{"username/repo"}) with a \code{R/sysdata.rda} file containing a \code{dataset_doi}.}

\item{outdir}{Directory in which to save files; defaults to a temporary directory.}

\item{files}{Names (full or partial) of files to download, or a number or vector of numbers
identifying file by index as listed on Dataverse; downloads all files in a dataset if not specified.}

\item{version}{Version of the dataset to download. Specifying this will download all files,
even if only a selection is requested.}

\item{server}{Dataverse server; tries to get this from the DOI redirect, but falls back on
\code{Sys.getenv("DATAVERSE_SERVER")}, then \code{getOption("dataverse.server")}, then
\code{"dataverse.lib.virginia.edu"}.}

\item{key}{Dataverse API key; only needed if the requested dataset is not published. If not specified,
looks for the key in \code{Sys.getenv("DATAVERSE_KEY")} and \code{getOption("dataverse.key")}.}

\item{load}{Logical; if \code{FALSE}, files will be downloaded but not loaded.}

\item{refresh}{Logical; if \code{TRUE}, downloads and replaces any existing files.}

\item{branch}{Name of the repository branch, if \code{id} is the name of a repository; uses the default branch
if not specified.}

\item{verbose}{Logical; if \code{TRUE}, prints status updates and warnings.}
}
\value{
\code{download_dataverse_data}: If \code{load} is \code{TRUE}, an invisible list with
an entry for each data file if there are multiple files, or the loaded data file if a single file
is requested. Tabular data files are loaded as \code{data.table}s. If \code{load} is \code{FALSE},
a list with the dataset's metadata.

\code{download_dataverse_info}: A list with the dataset's metadata.
}
\description{
Download one or all files in a Dataverse dataset.
}
\examples{
\dontrun{
metadata <- download_dataverse_info("doi:10.18130/V3/SWK71R", verbose = TRUE)
data <- download_dataverse_data("doi:10.18130/V3/SWK71R", verbose = TRUE)
}
}
