{"version":3,"file":"community.min.js","sources":["../../../js/site/palettes.ts","../../../js/site/patterns.ts","../../../js/site/value_types.ts","../../../js/site/defaults.ts","../../../js/site/summary_levels.ts","../../../js/site/tutorials.ts","../../../js/site/index.js","../../../js/site/utils.ts"],"sourcesContent":["export const palettes: {[index: string]: {name: string; type: string; colors: string[] | (number[] | number[][])[]}} = {\r\n  // discrete palettes from https://colorbrewer2.org\r\n  rdylbu7: {\r\n    name: 'Red-Yellow-Blue (7)',\r\n    type: 'discrete',\r\n    colors: ['#d73027', '#fc8d59', '#fee090', '#adadad', '#e0f3f8', '#91bfdb', '#4575b4'],\r\n  },\r\n  orrd7: {\r\n    name: 'Orange-Red (7)',\r\n    type: 'discrete',\r\n    colors: ['#fef0d9', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#990000'],\r\n  },\r\n  gnbu7: {\r\n    name: 'Green-Blue (7)',\r\n    type: 'discrete',\r\n    colors: ['#a8ddb5', '#ccebc5', '#f0f9e8', '#adadad', '#4eb3d3', '#2b8cbe', '#08589e'],\r\n  },\r\n  brbg7: {\r\n    name: 'Brown-Teal (7)',\r\n    type: 'discrete',\r\n    colors: ['#8c510a', '#d8b365', '#f6e8c3', '#adadad', '#c7eae5', '#5ab4ac', '#01665e'],\r\n  },\r\n  puor7: {\r\n    name: 'Purple-Orange (7)',\r\n    type: 'discrete',\r\n    colors: ['#b35806', '#f1a340', '#fee0b6', '#adadad', '#d8daeb', '#998ec3', '#542788'],\r\n  },\r\n  prgn6: {\r\n    name: 'Purple-Green (6)',\r\n    type: 'discrete',\r\n    colors: ['#762a83', '#af8dc3', '#e7d4e8', '#d9f0d3', '#7fbf7b', '#1b7837'],\r\n  },\r\n  reds5: {\r\n    name: 'Red (5)',\r\n    type: 'discrete',\r\n    colors: ['#f1eef6', '#d7b5d8', '#df65b0', '#dd1c77', '#980043'],\r\n  },\r\n  greens5: {\r\n    name: 'Green (5)',\r\n    type: 'discrete',\r\n    colors: ['#ffffcc', '#c2e699', '#78c679', '#31a354', '#006837'],\r\n  },\r\n  paired4: {\r\n    name: 'Blue-Green (4)',\r\n    type: 'discrete',\r\n    colors: ['#1f78b4', '#a6cee3', '#b2df8a', '#33a02c'],\r\n  },\r\n  greys4: {\r\n    name: 'Grey (4)',\r\n    type: 'discrete',\r\n    colors: ['#f7f7f7', '#cccccc', '#969696', '#525252'],\r\n  },\r\n  grey: {\r\n    name: 'Grey',\r\n    type: 'continuous',\r\n    colors: [\r\n      [\r\n        [70, 70, 70],\r\n        [80, 80, 80],\r\n      ],\r\n      [150, 150, 150],\r\n      [\r\n        [230, 230, 230],\r\n        [-80, -80, -80],\r\n      ],\r\n    ],\r\n  },\r\n  brown: {\r\n    name: 'Brown',\r\n    type: 'continuous',\r\n    colors: [\r\n      [\r\n        [131, 30, 0],\r\n        [62, 85, 95],\r\n      ],\r\n      [193, 115, 95],\r\n      [\r\n        [255, 200, 190],\r\n        [-62, -85, -95],\r\n      ],\r\n    ],\r\n  },\r\n  purple: {\r\n    name: 'Purple',\r\n    type: 'continuous',\r\n    colors: [\r\n      [\r\n        [90, 14, 213],\r\n        [52.5, 89, 16],\r\n      ],\r\n      [142.5, 103, 229],\r\n      [\r\n        [195, 192, 245],\r\n        [-52.5, -89, -16],\r\n      ],\r\n    ],\r\n  },\r\n  prgn: {\r\n    name: 'Purple-Green',\r\n    type: 'continuous-divergent',\r\n    colors: [\r\n      [\r\n        [27, 120, 55],\r\n        [207, 107, 168.5],\r\n      ],\r\n      [234, 227, 223.5],\r\n      [\r\n        [118, 42, 131],\r\n        [116, 185, 92.5],\r\n      ],\r\n    ],\r\n  },\r\n  puor: {\r\n    name: 'Purple-Orange',\r\n    type: 'continuous-divergent',\r\n    colors: [\r\n      [\r\n        [179, 88, 6],\r\n        [56, 133, 202.5],\r\n      ],\r\n      [235, 221, 208.5],\r\n      [\r\n        [84, 39, 136],\r\n        [151, 182, 72.5],\r\n      ],\r\n    ],\r\n  },\r\n  rdbu: {\r\n    name: 'Red-Blue',\r\n    type: 'continuous-divergent',\r\n    colors: [\r\n      [\r\n        [69, 117, 180],\r\n        [170, 116.5, 16],\r\n      ],\r\n      [239, 233.5, 196],\r\n      [\r\n        [215, 48, 39],\r\n        [24, 185.5, 157],\r\n      ],\r\n    ],\r\n  },\r\n  vik: {\r\n    name: 'vik',\r\n    type: 'continuous-polynomial',\r\n    colors: [\r\n      [97.031, 18.4251, 0.4149],\r\n      [461.7602, 637.5326, 244.4647],\r\n      [-2434.798, -2838.5427, -5893.4695],\r\n      [9665.3469, 14405.823, 44072.722],\r\n      [-2575.9109, -25871.106, -109792.1319],\r\n      [-42510.0569, 8528.3288, 120953.8594],\r\n      [63342.3061, 14006.291, -59644.4457],\r\n      [-26045.0391, -8868.9621, 10155.5667],\r\n    ],\r\n  },\r\n  lajolla: {\r\n    name: 'lajolla',\r\n    type: 'continuous-polynomial',\r\n    colors: [\r\n      [256.0016, 255.9138, 204.945],\r\n      [-187.6735, -46.2889, -768.5655],\r\n      [1022.785, -1057.5602, 1782.0325],\r\n      [-2032.382, 1490.8271, -1785.9056],\r\n      [966.8373, -617.1949, 567.7715],\r\n    ],\r\n  },\r\n}\r\n","export const patterns: {[index: string]: RegExp} = {\r\n  seps: /[\\s,/._-]+/g,\r\n  period: /\\./,\r\n  all_periods: /\\./g,\r\n  word_start: /\\b(\\w)/g,\r\n  settings: /^settings\\./,\r\n  features: /^features\\./,\r\n  filter: /^filter\\./,\r\n  data: /^data\\./,\r\n  variables: /^variables\\./,\r\n  properties: /prop/,\r\n  palette: /^pal/,\r\n  datasets: /^dat/,\r\n  variable: /^var/,\r\n  levels: /^lev/,\r\n  ids: /^ids/,\r\n  minmax: /^m[inax]{2}$/,\r\n  int_types: /^(?:year|int|integer)$/,\r\n  end_punct: /[.?!]$/,\r\n  mustache: /\\{(.*?)\\}/g,\r\n  measure_name: /(?:^measure|_name)$/,\r\n  http: /^https?:\\/\\//,\r\n  bool: /^(?:true|false)$/,\r\n  number: /^[\\d-][\\d.,]*$/,\r\n  leading_zeros: /^0+/,\r\n  url_spaces: /%20/g,\r\n  hashes: /#/g,\r\n  embed_setting: /^(?:hide_|navcolor|close_menus)/,\r\n  median: /^med/i,\r\n  location_string: /^[^?]*/,\r\n  time_ref: /\\{time\\}/g,\r\n  pre_colon: /^[^:]*:/,\r\n  exclude_query: /^(?:features|time_range|id)$/,\r\n  space: /\\s+/,\r\n  has_equation: /<math/,\r\n  bracket_content: /(?:^|>)[^<]*(?:<|$)/,\r\n  math_tags: /^(?:semantics|annotation|annotation\\-xml|m)/,\r\n  math_attributes: /^(?:xmlns|display|displaystyle|style|encoding|stretchy|alttext|scriptlevel|fence|math)/,\r\n  escapes: /([.[\\](){}?*-])/g,\r\n}\r\n","export const value_types: {[index: string]: Function} = {\r\n  percent: function (v: number): string {\r\n    return v + '%'\r\n  },\r\n  'drive time': function (v: number): string {\r\n    return v + ' minutes'\r\n  },\r\n  minutes: function (v: number): string {\r\n    return v + ' minutes'\r\n  },\r\n  dollar: function (v: number): string {\r\n    return '$' + v\r\n  },\r\n  'internet speed': function (v: number): string {\r\n    return v + ' MB/s'\r\n  },\r\n}\r\n","export const defaults: {[index: string]: string} = {\r\n  time: 'time',\r\n  dataview: 'default_view',\r\n  palette: 'vik',\r\n  background_highlight: '#adadad',\r\n  border: '#7e7e7e',\r\n  border_highlight_true: '#ffffff',\r\n  border_highlight_false: '#000000',\r\n  missing: '#00000000',\r\n}\r\n","export const summary_levels: {[index: string]: string} = {\r\n  dataset: 'Overall',\r\n  filtered: 'Filtered',\r\n  children: 'Unfiltered selection',\r\n  all: 'Selection',\r\n}\r\n","import {patterns} from './patterns'\r\nimport type {ActiveElement, RegisteredElements} from '../types'\r\n\r\ntype Actions = string[] | {[index: string]: string}\r\ntype TutorialStep = {\r\n  focus: string\r\n  description?: string\r\n  option?: string | string[]\r\n  before?: Actions\r\n  after?: Actions\r\n  wait?: number\r\n  time?: number\r\n  disable_continue?: boolean\r\n}\r\ntype Tutorial = {\r\n  name: string\r\n  title: string\r\n  description: string\r\n  steps: TutorialStep[]\r\n  reset?: boolean\r\n  manager?: TutorialManager\r\n  n_steps?: number\r\n  current_step?: number\r\n  run?: Function\r\n}\r\nexport type Tutorials = {[index: string]: Tutorial}\r\n\r\nexport class TutorialManager {\r\n  tutorials: Tutorials\r\n  site_elements: RegisteredElements\r\n  container = document.createElement('div')\r\n  backdrop = document.createElement('div')\r\n  highlight = document.createElement('div')\r\n  menu = document.createElement('div')\r\n  frame = document.createElement('div')\r\n  header = document.createElement('p')\r\n  dialog = document.createElement('p')\r\n  timer = document.createElement('div')\r\n  running_timer: number | NodeJS.Timer\r\n  focuser: number | NodeJS.Timer\r\n  progress = document.createElement('div')\r\n  continue = document.createElement('button')\r\n  in_progress = ''\r\n  waiting = false\r\n  current_step = 0\r\n  current_time = 0\r\n  current_element: HTMLElement\r\n  current_site_element: ActiveElement\r\n  site_reset: Function\r\n  constructor(tutorials: Tutorials, elements?: RegisteredElements, resetter?: Function) {\r\n    this.tutorials = tutorials\r\n    this.site_elements = elements || {}\r\n    this.site_reset = resetter || (() => {})\r\n    this.start_tutorial = this.start_tutorial.bind(this)\r\n    this.progress_tutorial = this.progress_tutorial.bind(this)\r\n    this.execute_step = this.execute_step.bind(this)\r\n    this.end_tutorial = this.end_tutorial.bind(this)\r\n\r\n    // prepare menu\r\n    document.body.appendChild(this.menu)\r\n    this.menu.id = 'community_tutorials_menu'\r\n    this.menu.className = 'modal fade'\r\n    this.menu.tabIndex = -1\r\n    let e = document.createElement('div')\r\n    this.menu.appendChild(e)\r\n    e.className = 'modal-dialog modal-dialog-scrollable'\r\n    e.appendChild((e = document.createElement('div')))\r\n    e.className = 'modal-content'\r\n    e.appendChild((e = document.createElement('div')))\r\n    e.className = 'modal-header'\r\n    e.appendChild((e = document.createElement('p')))\r\n    e.className = 'modal-title h5'\r\n    e.innerText = 'Tutorials'\r\n    let close = document.createElement('button')\r\n    e.insertAdjacentElement('afterend', close)\r\n    close.type = 'button'\r\n    close.className = 'btn-close'\r\n    close.setAttribute('data-bs-dismiss', 'modal')\r\n    close.setAttribute('aria-label', 'Close')\r\n    const l = document.createElement('div')\r\n    this.menu.lastElementChild.lastElementChild.appendChild(l)\r\n    l.className = 'modal-body'\r\n    Object.keys(tutorials).forEach(name => {\r\n      const t = tutorials[name],\r\n        e = document.createElement('div'),\r\n        description = document.createElement('div'),\r\n        start = document.createElement('button')\r\n      t.manager = this\r\n      t.n_steps = t.steps.length\r\n      let p = document.createElement('div')\r\n      l.appendChild(e)\r\n      e.className = 'tutorial-listing card'\r\n      e.appendChild(p)\r\n      p.className = 'card-header'\r\n      p.innerText = t.title || name\r\n      e.appendChild((p = document.createElement('div')))\r\n      p.className = 'card-body'\r\n      p.appendChild(description)\r\n      description.appendChild(document.createElement('p'))\r\n      ;(description.firstElementChild as HTMLParagraphElement).innerText = t.description || ''\r\n      if (t.steps.length && t.steps[0].before && !Array.isArray(t.steps[0].before)) {\r\n        const before = t.steps[0].before,\r\n          setting_display = document.createElement('div'),\r\n          header = document.createElement('span')\r\n        setting_display.className = 'tutorial-initial-settings'\r\n        setting_display.appendChild(header)\r\n        header.innerText = 'Initial Settings'\r\n        header.className = 'h6'\r\n        Object.keys(t.steps[0].before).forEach((k, i) => {\r\n          const row = document.createElement('p')\r\n          let part = document.createElement('span')\r\n          part.className = 'syntax-variable'\r\n          part.innerText = k.replace(patterns.settings, '')\r\n          row.appendChild(part)\r\n          part = document.createElement('span')\r\n          part.className = 'syntax-operator'\r\n          part.innerText = ' = '\r\n          row.appendChild(part)\r\n          part = document.createElement('span')\r\n          part.className = 'syntax-value'\r\n          part.innerText = before[k]\r\n          row.appendChild(part)\r\n          setting_display.appendChild(row)\r\n        })\r\n        description.appendChild(setting_display)\r\n      }\r\n      p.appendChild(start)\r\n      start.type = 'button'\r\n      start.className = 'btn'\r\n      start.innerText = 'Start'\r\n      start.dataset.name = name\r\n      start.addEventListener('click', this.start_tutorial)\r\n    })\r\n\r\n    // prepare step display\r\n    document.body.appendChild(this.container)\r\n    this.container.appendChild(this.backdrop)\r\n    this.container.className = 'tutorial-container hidden'\r\n    this.container.addEventListener('keyup', this.progress_tutorial)\r\n    this.backdrop.addEventListener('click', this.progress_tutorial)\r\n    this.backdrop.className = 'tutorial-backdrop'\r\n    this.container.appendChild(this.highlight)\r\n    this.highlight.className = 'tutorial-highlight'\r\n    this.highlight.addEventListener('click', this.progress_tutorial)\r\n    this.container.appendChild(this.frame)\r\n    this.frame.className = 'tutorial-frame'\r\n    this.frame.style.left = '50%'\r\n    this.frame.tabIndex = -1\r\n    this.frame.appendChild((e = document.createElement('div')))\r\n    this.frame.id = 'community_tutorial_frame'\r\n    this.frame.role = 'dialog'\r\n    this.frame.setAttribute('aria-labelledby', 'community_tutorial_description')\r\n    e.className = 'tutorial-step card'\r\n    e.appendChild((e = document.createElement('div')))\r\n    e.className = 'card-header'\r\n    e.appendChild(this.header)\r\n    this.header.className = 'card-title'\r\n    this.header.id = 'community_tutorial_title'\r\n    close = document.createElement('button')\r\n    e.appendChild(close)\r\n    close.type = 'button'\r\n    close.className = 'btn-close'\r\n    close.setAttribute('aria-label', 'Close Tutorial')\r\n    close.addEventListener('click', this.end_tutorial)\r\n    this.frame.firstElementChild.appendChild((e = document.createElement('div')))\r\n    e.className = 'card-body'\r\n    e.appendChild(this.dialog)\r\n    this.dialog.role = 'status'\r\n    this.dialog.id = 'community_tutorial_description'\r\n    this.dialog.setAttribute('aria-labelledby', 'community_tutorial_progress')\r\n    this.dialog.setAttribute('aria-live', 'polite')\r\n    e.lastElementChild.className = 'card-text'\r\n    this.frame.firstElementChild.appendChild((e = document.createElement('div')))\r\n    e.className = 'tutorial-footer card-footer'\r\n    e.appendChild(this.progress)\r\n    this.progress.role = 'progressbar'\r\n    this.progress.id = 'community_tutorial_progress'\r\n    e.appendChild(this.timer)\r\n    this.timer.role = 'timer'\r\n    e.appendChild(this.continue)\r\n    this.continue.addEventListener('click', this.progress_tutorial)\r\n    this.continue.type = 'button'\r\n    this.continue.className = 'btn'\r\n    this.continue.innerText = 'Next'\r\n    this.continue.setAttribute('aria-controls', 'community_tutorial_frame')\r\n  }\r\n  retrieve_element(this: TutorialManager, name: string): HTMLElement {\r\n    let e: HTMLElement\r\n    if (name in this.site_elements) {\r\n      this.current_site_element = this.site_elements[name]\r\n      e = this.current_site_element.e\r\n    } else if (patterns.pre_colon.test(name)) {\r\n      const text = name.replace(patterns.pre_colon, '')\r\n      document.querySelectorAll('.nav-item button').forEach((item: HTMLButtonElement) => {\r\n        if (text === item.innerText) e = item\r\n      })\r\n    } else {\r\n      try {\r\n        e = document.querySelector(name.replace(patterns.escapes, '\\\\$1'))\r\n      } catch (error) {}\r\n    }\r\n    return e\r\n  }\r\n  start_tutorial(this: TutorialManager, event?: MouseEvent, name?: string): void {\r\n    this.end_tutorial()\r\n    document.querySelectorAll('[data-bs-dismiss]').forEach((close: HTMLButtonElement) => close.click())\r\n    this.in_progress = name ? name : (event.target as HTMLButtonElement).dataset.name\r\n    if (!(this.in_progress in this.tutorials)) {\r\n      console.error('tutorial does not exist:', this.in_progress)\r\n      this.in_progress = ''\r\n      return\r\n    }\r\n    this.container.classList.remove('hidden')\r\n    this.header.innerText = this.tutorials[this.in_progress].title || this.in_progress\r\n    this.current_step = 0\r\n    this.current_time = 0\r\n    this.dialog.innerText = 'Starting tutorial ' + this.header.innerText\r\n    this.timer.innerText = ''\r\n    this.continue.innerText = 'Next'\r\n    if (this.tutorials[this.in_progress].reset) this.site_reset()\r\n    this.progress_tutorial()\r\n  }\r\n  progress_tutorial(this: TutorialManager, event?: KeyboardEvent): void {\r\n    const isClick = !event || !event.code\r\n    if (!isClick && 'Escape' === event.code) this.end_tutorial()\r\n    if (this.in_progress && !this.waiting && (isClick || 'Enter' === event.code || 'ArrowRight' === event.code)) {\r\n      this.waiting = true\r\n      clearTimeout(this.focuser)\r\n      clearInterval(this.running_timer)\r\n      const t = this.tutorials[this.in_progress]\r\n      let step: TutorialStep\r\n      const handle_object = (obj: {[index: string]: string}) => {\r\n        Object.keys(obj).forEach((k, i) => {\r\n          if (patterns.number.test(k)) {\r\n            do_action(obj[k], i)\r\n          } else {\r\n            if (k in this.site_elements && this.site_elements[k].set) {\r\n              this.site_elements[k].set(obj[k])\r\n            }\r\n          }\r\n        })\r\n      }\r\n      const do_action = (action: string, i: number) => {\r\n        action = String(action)\r\n        if ('set' === action) {\r\n          if ('option' in step && this.current_site_element.set) this.current_site_element.set(step.option)\r\n        } else if ('click' === action) {\r\n          if (\r\n            this.current_site_element &&\r\n            this.current_site_element.toggle &&\r\n            action === this.current_site_element.id\r\n          ) {\r\n            if (!this.current_site_element.expanded) this.current_site_element.toggle({target: this.current_element})\r\n          } else {\r\n            this.current_element && this.current_element.click()\r\n          }\r\n        } else if ('close' === action) {\r\n          document.querySelectorAll('[data-bs-dismiss]').forEach((close: HTMLButtonElement) => close.click())\r\n        } else if ('value' === action.substring(0, 5)) {\r\n          this.current_site_element &&\r\n            this.current_site_element.set &&\r\n            this.current_site_element.set(action.replace(patterns.pre_colon, '').trimStart())\r\n        } else {\r\n          const e = this.retrieve_element(action)\r\n          if (e) e.click()\r\n        }\r\n      }\r\n      // handle previous step's after action\r\n      if (this.current_step > 0) {\r\n        step = t.steps[this.current_step - 1]\r\n        if ('after' in step) {\r\n          if (Array.isArray(step.after)) {\r\n            step.after.forEach(do_action)\r\n          } else {\r\n            handle_object(step.after)\r\n          }\r\n        }\r\n      }\r\n      if (this.current_step >= t.n_steps) {\r\n        this.end_tutorial()\r\n      } else {\r\n        // handle current step's before action\r\n        step = t.steps[this.current_step]\r\n        this.current_element = this.retrieve_element(step.focus)\r\n        if ('before' in step) {\r\n          if (Array.isArray(step.before)) {\r\n            step.before.forEach(do_action)\r\n          } else {\r\n            handle_object(step.before)\r\n          }\r\n        }\r\n        if (this.current_step === t.n_steps - 1) this.continue.innerText = 'Finish'\r\n        if (this.current_element && this.current_element.scrollIntoView) this.current_element.scrollIntoView()\r\n        // execute current step after actions have resolved\r\n        setTimeout(this.execute_step, 'wait' in step ? step.wait : 400)\r\n      }\r\n    }\r\n  }\r\n  execute_step(this: TutorialManager): void {\r\n    if (this.in_progress) {\r\n      const t = this.tutorials[this.in_progress]\r\n      const step = t.steps[this.current_step]\r\n      if (!this.current_element) {\r\n        const e = this.retrieve_element(step.focus)\r\n        if (!e) {\r\n          console.error('failed to retrieve element', step.focus)\r\n          return this.end_tutorial()\r\n        }\r\n        this.current_element = e\r\n        if (e.scrollIntoView) e.scrollIntoView()\r\n        setTimeout(this.execute_step, 0)\r\n        return\r\n      }\r\n      this.continue.disabled = !!step.disable_continue\r\n      const b = this.current_element.getBoundingClientRect(),\r\n        f = this.frame.getBoundingClientRect()\r\n      this.highlight.style.top = b.top + 'px'\r\n      this.highlight.style.left = b.left + 'px'\r\n      this.highlight.style.width = b.width + 'px'\r\n      this.highlight.style.height = b.height + 'px'\r\n      this.frame.style.top = (b.y < screen.availHeight / 2 ? b.y + b.height + 10 : b.y - f.height - 10) + 'px'\r\n      this.frame.style.marginLeft = -f.width / 2 + 'px'\r\n      if (step.time) {\r\n        this.current_time = step.time\r\n        this.timer.innerText = step.time + ''\r\n        this.running_timer = setInterval(() => {\r\n          this.current_time--\r\n          this.timer.innerText = this.current_time + ''\r\n          if (this.current_time <= 0) {\r\n            clearInterval(this.running_timer)\r\n            this.progress_tutorial()\r\n          }\r\n        }, 1e3)\r\n      } else {\r\n        this.timer.innerText = ''\r\n      }\r\n      this.progress.innerText = 'Step ' + (this.current_step + 1) + ' of ' + t.n_steps\r\n      this.dialog.innerText = step.description\r\n      this.current_step++\r\n      this.waiting = false\r\n      this.focuser = setTimeout(() => this.continue.focus(), 0)\r\n    }\r\n  }\r\n  end_tutorial(this: TutorialManager): void {\r\n    this.in_progress = ''\r\n    this.current_step = 0\r\n    this.container.classList.add('hidden')\r\n    this.waiting = false\r\n    clearTimeout(this.focuser)\r\n  }\r\n}\r\n","'use strict'\r\nimport {palettes} from './palettes'\r\nimport {patterns} from './patterns'\r\nimport {value_types} from './value_types'\r\nimport {defaults} from './defaults'\r\nimport {summary_levels} from './summary_levels'\r\nimport {set_description} from './utils'\r\nimport {TutorialManager} from './tutorials'\r\nconst community = function (window, document, site) {\r\n  const tooltip_icon_rule =\r\n      'button.has-note::after,.button-wrapper.has-note button::before,.has-note legend::before,.has-note label::before,.wrapper.has-note > div > label::before{display:none}',\r\n    conditionals = {\r\n      setting: function (u) {\r\n        const v = u.value(),\r\n          theme = v ? 'dark' : 'light'\r\n        if (v !== site.settings[u.setting]) {\r\n          site.settings[u.setting] = v\r\n          if ('theme_dark' === u.setting) {\r\n            v\r\n              ? document.body.classList.replace('light-theme', 'dark-theme')\r\n              : document.body.classList.replace('dark-theme', 'light-theme')\r\n            if (site.plotly) Object.keys(site.plotly).forEach(k => update_plot_theme(site.plotly[k].u))\r\n            if (site.map)\r\n              Object.keys(site.map).forEach(k => {\r\n                const u = site.map[k].u\r\n                if (u && theme in u.tiles) {\r\n                  Object.keys(u.tiles).forEach(l => {\r\n                    if (theme !== l) u.tiles[l].removeFrom(u.map)\r\n                  })\r\n                  u.tiles[theme].addTo(u.map)\r\n                }\r\n              })\r\n          } else if ('hide_url_parameters' === u.setting) {\r\n            window.history.replaceState(\r\n              Date.now(),\r\n              '',\r\n              site.settings.hide_url_parameters\r\n                ? window.location.protocol + '//' + window.location.host + window.location.pathname\r\n                : get_options_url()\r\n            )\r\n          } else if ('hide_tooltips' === u.setting) {\r\n            v ? page.script_style.sheet.insertRule(tooltip_icon_rule, 0) : page.script_style.sheet.removeRule(0)\r\n          } else if ('map_overlay' === u.setting) {\r\n            Object.keys(site.map).forEach(id => {\r\n              if ('_' !== id[0]) {\r\n                if (v) {\r\n                  site.map[id].u.update()\r\n                } else {\r\n                  site.map[id].u.overlay.clearLayers()\r\n                  site.map[id].u.overlay_control.remove()\r\n                }\r\n              }\r\n            })\r\n          } else if ('tracking' === u.setting) {\r\n            if (v && site.tag_id && !dataLayer.length) {\r\n              gtag('js', new Date())\r\n              gtag('config', site.tag_id)\r\n              gtag('consent', 'default', {analytics_storage: 'denied'})\r\n            }\r\n            gtag('consent', 'update', {analytics_storage: v ? 'granted' : 'denied'})\r\n          } else {\r\n            global_update()\r\n          }\r\n          gtag('event', 'setting', {event_category: u.setting, event_label: v})\r\n          storage.set(u.setting, site.settings[u.setting])\r\n        }\r\n      },\r\n      options: function (u) {\r\n        const no_view = !u.view || !site.dataviews[u.view].selection,\r\n          d = valueOf(u.dataset),\r\n          va = valueOf(u.variable),\r\n          k = d + (va ? va : ''),\r\n          combobox = 'combobox' === u.type\r\n        if (!(k in u.option_sets)) {\r\n          if (patterns.variable.test(u.optionSource)) {\r\n            fill_variables_options(u, d, u.option_sets)\r\n          } else if (patterns.levels.test(u.optionSource)) {\r\n            fill_levels_options(u, d, va, u.option_sets)\r\n          } else if (patterns.ids.test(u.optionSource)) {\r\n            fill_ids_options(u, d, u.option_sets)\r\n          }\r\n        }\r\n        if (k in u.option_sets) {\r\n          const fresh = k !== u.current_set && (u.sensitive || !u.current_set),\r\n            c = u[combobox ? 'listbox' : 'e']\r\n          if (fresh || u.filter || u.selection_subset) {\r\n            if (fresh) {\r\n              c.innerHTML = ''\r\n              u.values = u.option_sets[k].values\r\n              u.display = u.option_sets[k].display\r\n              u.options = u.option_sets[k].options\r\n            }\r\n            let ns = 0\r\n            if ('ID' === u.variable || patterns.ids.test(u.optionSource)) {\r\n              const value = u.value()\r\n              let selection = -1 === value || '' === value ? u.subset : u.selection_subset,\r\n                v = {}\r\n              if (!no_view) {\r\n                if (selection in _u) selection = valueOf(selection)\r\n                if ('siblings' === selection) {\r\n                  const rel = site.data.entity_tree && site.data.entity_tree[value]\r\n                  if (rel) {\r\n                    const parents = Object.keys(rel.parents)\r\n                    if (parents.length) {\r\n                      v = {}\r\n                      parents.forEach(id => {\r\n                        v = {...v, ...site.data.entity_tree[id].children}\r\n                      })\r\n                    }\r\n                  }\r\n                } else {\r\n                  v = site.dataviews[u.view].selection[selection]\r\n                }\r\n              }\r\n              u.options.forEach(si => {\r\n                if (fresh && !u.groups) c.appendChild(si)\r\n                if (no_view || (si.value || si.dataset.value) in v) {\r\n                  si.classList.remove('hidden')\r\n                  ns++\r\n                } else {\r\n                  si.classList.add('hidden')\r\n                }\r\n              })\r\n            } else if (fresh) {\r\n              u.options.forEach(si => {\r\n                si.classList.remove('hidden')\r\n                if (!u.groups) c.appendChild(si)\r\n                ns++\r\n              })\r\n            } else ns++\r\n            if (fresh && u.groups) u.groups.e.forEach(e => c.appendChild(e))\r\n            toggle_input(u, ns)\r\n            u.current_set = k\r\n            if (fresh) {\r\n              if (combobox) {\r\n                u.source = []\r\n              } else {\r\n                u.e.selectedIndex = -1\r\n                u.source = ''\r\n              }\r\n              u.id in site.url_options\r\n                ? u.set(site.url_options[u.id])\r\n                : u.state in u.values\r\n                ? u.set(u.state)\r\n                : u.reset()\r\n            }\r\n            if (u.filter) u.filter()\r\n          }\r\n        }\r\n      },\r\n      set_current: function () {\r\n        this.values = this.option_sets[this.dataset].values\r\n        this.display = this.option_sets[this.dataset].display\r\n        this.options = this.option_sets[this.dataset].options\r\n        this.source = ''\r\n        this.id in site.url_options\r\n          ? this.set(site.url_options[this.id])\r\n          : this.state in this.values\r\n          ? this.set(this.state)\r\n          : this.reset()\r\n      },\r\n      min: async function (u, c) {\r\n        let cv = c.value(),\r\n          uv = u.value(),\r\n          v = _u[u.view || c.view],\r\n          variable\r\n        if (patterns.minmax.test(cv)) cv = c.parsed.min\r\n        if (v && v.y) {\r\n          variable = valueOf(v.y)\r\n          if (variable in site.data.variables) {\r\n            if (!v.time_range.time.length) await conditionals.time_range(v, u, true)\r\n            cv = Math.max(v.time_range.time[0], parseFloat(cv))\r\n          }\r\n          u.update()\r\n        }\r\n        u.e.min = 'undefined' === typeof u.parsed.min ? parseFloat(cv) : Math.max(u.parsed.min, parseFloat(cv))\r\n        if (!u.e.value) {\r\n          u.reset()\r\n        } else if ('number' === typeof uv && isFinite(uv) && uv < cv) {\r\n          u.set(cv)\r\n        }\r\n        if (u.min_indicator) u.min_indicator.firstElementChild.innerText = cv\r\n      },\r\n      max: async function (u, c) {\r\n        let cv = c.value(),\r\n          uv = u.value(),\r\n          v = _u[u.view || c.view],\r\n          variable\r\n        if (patterns.minmax.test(cv)) cv = c.parsed.max\r\n        if (v && v.y) {\r\n          variable = valueOf(v.y)\r\n          if (variable in site.data.variables) {\r\n            if (!v.time_range.time.length) await conditionals.time_range(v, u, true)\r\n            cv = Math.min(v.time_range.time[1], parseFloat(cv))\r\n          }\r\n          u.update()\r\n        }\r\n        u.e.max = 'undefined' === typeof u.parsed.max ? parseFloat(cv) : Math.min(u.parsed.max, parseFloat(cv))\r\n        if (!u.e.value) {\r\n          u.reset()\r\n        } else if ('number' === typeof uv && isFinite(uv) && uv > cv) {\r\n          u.set(cv)\r\n        }\r\n        if (u.max_indicator) u.max_indicator.firstElementChild.innerText = cv\r\n      },\r\n      dataview: function (f) {\r\n        f = f || _u[defaults.dataview]\r\n        const state = f.value()\r\n        if (state !== f.state && _u._entity_filter.registered[f.parsed.dataset]) {\r\n          if (site.data.inited[f.parsed.dataset]) {\r\n            f.valid = true\r\n            f.n_selected.ids = 0\r\n            f.n_selected.children = 0\r\n            f.n_selected.features = 0\r\n            f.n_selected.variables = 0\r\n            f.n_selected.dataset = 0\r\n            f.n_selected.filtered = 0\r\n            f.n_selected.full_filter = 0\r\n            f.n_selected.all = 0\r\n            f.selection.ids = {}\r\n            f.selection.children = {}\r\n            f.selection.features = {}\r\n            f.selection.variables = {}\r\n            f.selection.dataset = {}\r\n            f.selection.filtered = {}\r\n            f.selection.full_filter = {}\r\n            f.selection.all = {}\r\n            _u._base_filter.c.forEach(f => {\r\n              f.passed = 0\r\n              f.failed = 0\r\n            })\r\n            _u._entity_filter.entities.forEach(e => {\r\n              const c = f.check(e),\r\n                id = e.features.id\r\n              c.all = 0\r\n              if (c.ids) {\r\n                f.selection.ids[id] = e\r\n                f.n_selected.ids++\r\n                c.all++\r\n              }\r\n              if (c.features) {\r\n                f.selection.features[id] = e\r\n                f.n_selected.features++\r\n                c.all++\r\n              }\r\n              if (c.variables) {\r\n                f.selection.variables[id] = e\r\n                f.n_selected.variables++\r\n                c.all++\r\n              }\r\n              if (c.dataset) {\r\n                f.selection.dataset[id] = e\r\n                f.n_selected.dataset++\r\n                c.all++\r\n              }\r\n              if (c.dataset && c.ids) {\r\n                f.selection.children[id] = e\r\n                f.n_selected.children++\r\n              }\r\n              if (c.features && c.variables) {\r\n                f.selection.full_filter[id] = e\r\n                f.n_selected.full_filter++\r\n              }\r\n              if (c.variables && c.features && c.ids) {\r\n                f.selection.filtered[id] = e\r\n                f.n_selected.filtered++\r\n              }\r\n              if (4 === c.all) {\r\n                f.selection.all[id] = e\r\n                f.n_selected.all++\r\n              }\r\n            })\r\n            request_queue(f.id)\r\n          } else {\r\n            f.valid = false\r\n            site.data.data_queue[f.parsed.dataset][f.id] = function () {\r\n              return conditionals.dataview(f)\r\n            }\r\n          }\r\n        }\r\n      },\r\n      time_filters: function (u) {\r\n        u.time_range.filtered[0] = Infinity\r\n        u.time_range.filtered[1] = -Infinity\r\n        const d = u.get.dataset(),\r\n          time = site.data.meta.times[d],\r\n          current = u.time_range.filtered_index + ''\r\n        if (!site.data.inited[d]) return\r\n        for (let i = time.n; i--; ) {\r\n          let pass = false\r\n          if (i >= u.time_range.index[0] && i <= u.time_range.index[1]) {\r\n            for (let f = u.time_filters.length; f--; ) {\r\n              const v = {},\r\n                tf = u.time_filters[f]\r\n              if (!(tf.value in v)) v[tf.value] = valueOf(tf.value)\r\n              pass = DataHandler.checks[tf.type](time.value[i], v[tf.value])\r\n              if (!pass) break\r\n            }\r\n          }\r\n          u.times[i] = pass\r\n          if (pass) {\r\n            if (u.time_range.filtered[0] > time.value[i]) u.time_range.filtered[0] = time.value[i]\r\n            if (u.time_range.filtered[1] < time.value[i]) u.time_range.filtered[1] = time.value[i]\r\n          }\r\n        }\r\n        u.time_range.filtered_index = [\r\n          u.time_range.index[0] + u.time_range.filtered[0] - u.time_range.time[0],\r\n          u.time_range.index[1] + u.time_range.filtered[1] - u.time_range.time[1],\r\n        ]\r\n        if (current !== u.time_range.filtered_index + '') {\r\n          const c = _c[u.id + '_filter']\r\n          if (c)\r\n            c.forEach(ci => {\r\n              if ('update' === ci.type) {\r\n                _u[ci.id].update()\r\n              } else if (ci.type in conditionals) {\r\n                conditionals[ci.type](_u[ci.id], u)\r\n              }\r\n            })\r\n        }\r\n      },\r\n      time_range: async function (u, c, passive) {\r\n        const v = c && c.value(),\r\n          d = u.get.dataset(),\r\n          tv = u.time ? valueOf(u.time) : defaults.time,\r\n          t = tv in site.data.variables ? site.data.variables[tv].info[d].min : 1,\r\n          s = _c[u.id + '_time'],\r\n          variable = v in site.data.variables ? v : valueOf(u.y)\r\n        let r = variable && (await site.data.get_variable(variable, u.id))\r\n        if (r) {\r\n          const reset = d + variable != u.time_range.dataset + u.time_range.variable\r\n          r = r.time_range[d]\r\n          if (-1 !== r[0]) {\r\n            u.time_range.dataset = d\r\n            u.time_range.variable = variable\r\n            u.time_range.index[0] = r[0]\r\n            u.time_range.time[0] = u.time_range.filtered[0] = t + r[0]\r\n            u.time_range.index[1] = r[1]\r\n            u.time_range.time[1] = u.time_range.filtered[1] = t + r[1]\r\n          }\r\n          if (!passive && s) {\r\n            s.forEach(si => {\r\n              const su = _u[si.id],\r\n                value = su.value()\r\n              if ('min' === si.type) {\r\n                if (reset || (isFinite(u.time_range.time[0]) && parseFloat(su.e.min) !== u.time_range.time[0])) {\r\n                  su.e.min = u.time_range.time[0]\r\n                  if (reset || !meta.retain_state || u.time_range.time[0] > value) {\r\n                    su.current_default = u.time_range.time[0]\r\n                    su.set(su.current_default)\r\n                  }\r\n                }\r\n              } else if ('max' === si.type) {\r\n                if (reset || (isFinite(u.time_range.time[1]) && parseFloat(su.e.max) !== u.time_range.time[1])) {\r\n                  su.e.max = u.time_range.time[1]\r\n                  if (reset || !meta.retain_state || u.time_range.time[1] < value || value < u.time_range.time[0]) {\r\n                    su.current_default = u.time_range.time[1]\r\n                    su.set(su.current_default)\r\n                  }\r\n                }\r\n              }\r\n            })\r\n            conditionals.time_filters(u)\r\n          }\r\n        } else {\r\n          u.time_range.dataset = d\r\n          u.time_range.index[0] = 0\r\n          u.time_range.time[0] = u.time_range.filtered[0] = 1\r\n          u.time_range.index[1] = 0\r\n          u.time_range.time[1] = u.time_range.filtered[1] = 1\r\n        }\r\n      },\r\n      id_filter: function () {\r\n        const ids = {}\r\n        _u._entity_filter.selected = []\r\n        _u._entity_filter.select_ids = ids\r\n        if (site.metadata.datasets) {\r\n          site.metadata.datasets.forEach(d => {\r\n            if (d in page.modal.filter.entity_inputs) {\r\n              const s = page.modal.filter.entity_inputs[d].value(),\r\n                cs = []\r\n              if (s && s.length) {\r\n                s.forEach(id => {\r\n                  const e = site.data.entities[id]\r\n                  if (e) {\r\n                    cs.push(id)\r\n                    _u._entity_filter.selected.push(id)\r\n                    ids[id] = true\r\n                    if (e.relations) {\r\n                      Object.keys(e.relations.parents).forEach(k => (ids[k] = true))\r\n                      Object.keys(e.relations.children).forEach(k => (ids[k] = true))\r\n                    }\r\n                  }\r\n                })\r\n                page.modal.filter.entity_inputs[d].source = cs\r\n              }\r\n            }\r\n          })\r\n        }\r\n      },\r\n    },\r\n    elements = {\r\n      button: {\r\n        init: function (o) {\r\n          o.target = o.e.getAttribute('data-target')\r\n          if ('copy' === o.target) o.settings.endpoint = site.endpoint\r\n          if ('filter' === o.target) {\r\n            o.e.setAttribute('data-bs-toggle', 'modal')\r\n            o.e.setAttribute('data-bs-target', '#filter_display')\r\n            o.notification = document.createElement('span')\r\n            o.notification.className = 'filter-notification hidden'\r\n            o.e.parentElement.appendChild(o.notification)\r\n            add_dependency('_base_filter', {type: 'update', id: o.id})\r\n            add_dependency('_entity_filter', {type: 'update', id: o.id})\r\n            o.update = elements.button.update.bind(o)\r\n            if (site.data) o.update()\r\n          } else\r\n            o.e.addEventListener(\r\n              'click',\r\n              o.settings.effects\r\n                ? 'export' === o.target || 'copy' === o.target\r\n                  ? function () {\r\n                      const f = {},\r\n                        s = this.settings,\r\n                        v = _u[s.dataview],\r\n                        d = v && v.parsed.dataset\r\n                      Object.keys(s.query).forEach(k => (f[k] = valueOf(s.query[k])))\r\n                      if (v) {\r\n                        if (!('include' in f) && v.y) f.include = valueOf(v.y)\r\n                        if (!('id' in f) && v.ids) f.id = valueOf(v.ids)\r\n                      }\r\n                      if ('copy' === this.target || this.api) {\r\n                        let q = []\r\n                        if ('id' in f && '' !== f.id && -1 != f.id) {\r\n                          q.push('id=' + f.id)\r\n                        } else {\r\n                          if (_u._entity_filter.selected.length) q.push('id=' + _u._entity_filter.selected.join(','))\r\n                        }\r\n                        if (v) {\r\n                          if (!f.time_range && v.time_range.filtered_index + '' !== v.time_range.index + '') {\r\n                            q.push(\r\n                              'time_range=' +\r\n                                site.data.meta.times[d].value[v.time_range.filtered_index[0]] +\r\n                                ',' +\r\n                                site.data.meta.times[d].value[v.time_range.filtered_index[1]]\r\n                            )\r\n                          }\r\n                          if (!v.features) v.features = {}\r\n                          Object.keys(v.features).forEach(k => {\r\n                            if (!(k in f)) {\r\n                              f[k] = valueOf(v.features[k])\r\n                              if (Array.isArray(f[k])) f[k] = f[k].join(',')\r\n                              q.push(k + '=' + f[k])\r\n                            }\r\n                          })\r\n                          if (_u._base_filter.c.size) _u._base_filter.value(q, v.parsed.time_agg)\r\n                        }\r\n                        Object.keys(f).forEach(k => {\r\n                          if (!patterns.exclude_query.test(k) && !(k in v.features)) q.push(k + '=' + f[k])\r\n                        })\r\n                        const k = s.endpoint + (q.length ? '?' + q.join('&') : '')\r\n                        if (this.api) {\r\n                          window.location.href = k\r\n                        } else {\r\n                          navigator.clipboard.writeText(k).then(\r\n                            () => {\r\n                              if ('Copied!' !== o.e.innerText) {\r\n                                o.text = o.e.innerText\r\n                                o.e.innerText = 'Copied!'\r\n                                setTimeout(function () {\r\n                                  o.e.innerText = o.text\r\n                                }, 500)\r\n                                gtag('event', 'export', {event_category: 'api link'})\r\n                              }\r\n                            },\r\n                            e => {\r\n                              if (e !== o.e.innerText) {\r\n                                o.text = o.e.innerText\r\n                                o.e.innerText = e\r\n                                setTimeout(function () {\r\n                                  o.e.innerText = o.text\r\n                                }, 1500)\r\n                              }\r\n                            }\r\n                          )\r\n                        }\r\n                      } else {\r\n                        if (v && 'selection' in v) {\r\n                          if (!f.time_range)\r\n                            f.time_range =\r\n                              site.data.meta.times[d].value[v.time_range.filtered_index[0]] +\r\n                              ',' +\r\n                              site.data.meta.times[d].value[v.time_range.filtered_index[1]]\r\n                          site.data.export(f, v.selection.all, true)\r\n                        } else site.data.export(f, site.data.entities, true, true)\r\n                        gtag('event', 'export', {event_category: 'download'})\r\n                      }\r\n                    }.bind(o)\r\n                  : function () {\r\n                      Object.keys(this.settings.effects).forEach(k => {\r\n                        this.settings.effects[k] === '' || -1 == this.settings.effects[k]\r\n                          ? _u[k].reset()\r\n                          : _u[k].set(this.settings.effects[k])\r\n                      })\r\n                    }.bind(o)\r\n                : 'refresh' === o.target\r\n                ? global_update\r\n                : 'reset_selection' === o.target\r\n                ? global_reset\r\n                : 'reset_storage' === o.target\r\n                ? clear_storage\r\n                : function () {\r\n                    if (this.target in _u) _u[this.target].reset()\r\n                  }.bind(o)\r\n            )\r\n        },\r\n        update: function () {\r\n          let n = Number(0 !== _u._entity_filter.selected.length)\r\n          _u._base_filter.c.forEach(f => (n += f.active))\r\n          if (n) {\r\n            this.notification.innerText = n\r\n            this.notification.classList.remove('hidden')\r\n          } else {\r\n            this.notification.classList.add('hidden')\r\n          }\r\n        },\r\n      },\r\n      buttongroup: {\r\n        retrieve: function () {\r\n          for (let i = this.options.length; i--; )\r\n            if (this.options[i].checked) {\r\n              this.set(i)\r\n              break\r\n            }\r\n        },\r\n        setter: function (v) {\r\n          this.previous = this.value()\r\n          this.current_index = 'string' === typeof v ? this.values.indexOf(v) : v\r\n          if (-1 !== this.current_index) {\r\n            this.source =\r\n              this.values[this.current_index] in _u\r\n                ? _u[this.values[this.current_index]]\r\n                : this.values[this.current_index]\r\n            this.options[this.current_index].checked = true\r\n          } else this.source = undefined\r\n          request_queue(this.id)\r\n        },\r\n        listener: function (e) {\r\n          this.set(e.target.value)\r\n        },\r\n        adder: function (i, value, display, noadd) {\r\n          let e = [document.createElement('input'), document.createElement('label')]\r\n          e[0].className = 'btn-check'\r\n          e[0].type = 'radio'\r\n          e[0].name = this.e.id + '_options'\r\n          e[0].autocomplete = 'off'\r\n          e[0].value = value\r\n          e[0].id = this.e.id + '_option' + i\r\n          e[1].className = 'btn btn-primary'\r\n          e[1].innerText = display || site.data.format_label(value)\r\n          e[1].setAttribute('for', e[0].id)\r\n          if (!noadd) {\r\n            this.e.appendChild(e[0])\r\n            this.e.appendChild(e[1])\r\n          }\r\n          return e[0]\r\n        },\r\n      },\r\n      radio: {\r\n        retrieve: function () {\r\n          for (let i = this.options.length; i--; ) {\r\n            if (this.options[i].checked) {\r\n              this.set(i)\r\n              break\r\n            }\r\n          }\r\n        },\r\n        setter: function (v) {\r\n          this.current_index = 'string' === typeof v ? this.values.indexOf(v) : v\r\n          if (-1 !== this.current_index) {\r\n            this.source =\r\n              this.values[this.current_index] in _u\r\n                ? _u[this.values[this.current_index]]\r\n                : this.values[this.current_index]\r\n            this.options[this.current_index].checked = true\r\n          } else this.source = undefined\r\n          request_queue(this.id)\r\n        },\r\n        listener: function (e) {\r\n          this.set(e.target.value)\r\n        },\r\n        adder: function (value, display, noadd) {\r\n          const e = document.createElement('div'),\r\n            s = 'TRUE' === this.e.getAttribute('data-switch')\r\n          e.className = 'form-check' + (s ? ' form-switch' : '')\r\n          e.appendChild(document.createElement('input'))\r\n          e.appendChild(document.createElement('label'))\r\n          e.firstElementChild.autocomplete = 'off'\r\n          e.firstElementChild.className = 'form-check-input'\r\n          if (s) e.firstElementChild.role = 'switch'\r\n          e.firstElementChild.type = 'radio'\r\n          e.firstElementChild.name = this.e.id + '_options'\r\n          e.firstElementChild.id = this.e.id + '_option' + this.e.childElementCount\r\n          e.firstElementChild.value = value\r\n          e.lastElementChild.innerText = display || site.data.format_label(value)\r\n          e.lastElementChild.className = 'form-check-label'\r\n          e.lastElementChild.setAttribute('for', e.firstElementChild.id)\r\n          if (!noadd) this.e.appendChild(e)\r\n          return e.firstElementChild\r\n        },\r\n      },\r\n      checkbox: {\r\n        retrieve: function () {\r\n          this.source = []\r\n          this.current_index = []\r\n          this.off_default = false\r\n          this.options.forEach(o => {\r\n            if (o.checked) {\r\n              this.source.push(this.values[i])\r\n              this.current_index.push(i)\r\n            } else {\r\n              this.off_default = true\r\n            }\r\n          })\r\n          request_queue(this.id)\r\n        },\r\n        setter: function (v) {\r\n          if ('object' === typeof v) {\r\n            this.source = []\r\n            this.current_index = []\r\n            this.off_default = false\r\n            this.values.forEach((cv, i) => {\r\n              if (-1 !== v.indexOf(cv)) {\r\n                this.source.push(cv)\r\n                this.current_index.push(i)\r\n                this.options[i].checked = true\r\n              } else {\r\n                this.off_default = true\r\n                this.options[i].checked = false\r\n              }\r\n            })\r\n          } else {\r\n            if ('string' === typeof v) {\r\n              return this.set('' === v ? this.values : v.split(','))\r\n            } else {\r\n              if (-1 !== v) {\r\n                this.options[v].checked = true\r\n                this.off_default = false\r\n                this.options.forEach(o => {\r\n                  if (!o.checked) this.off_default = true\r\n                })\r\n              }\r\n            }\r\n          }\r\n          request_queue(this.id)\r\n        },\r\n        listener: function (e) {\r\n          if (e.target.checked) {\r\n            this.source.push(e.target.value)\r\n            this.current_index.push(this.values.indexOf(e.target.value))\r\n            this.off_default = false\r\n            this.options.forEach(o => {\r\n              if (!o.checked) this.off_default = true\r\n            })\r\n          } else {\r\n            let i = this.source.indexOf(e.target.value)\r\n            if (i !== -1) {\r\n              this.off_default = true\r\n              this.source.splice(i, 1)\r\n              this.current_index.splice(i, 1)\r\n            }\r\n          }\r\n          request_queue(this.id)\r\n        },\r\n        adder: function (value, display, noadd) {\r\n          let e = document.createElement('div'),\r\n            s = 'TRUE' === this.e.getAttribute('data-switch')\r\n          e.className = 'form-check' + (s ? ' form-switch' : '')\r\n          e.appendChild(document.createElement('input'))\r\n          e.appendChild(document.createElement('label'))\r\n          e.firstElementChild.autocomplete = 'off'\r\n          e.firstElementChild.className = 'form-check-input'\r\n          if (s) e.firstElementChild.role = 'switch'\r\n          e.firstElementChild.type = 'checkbox'\r\n          e.firstElementChild.name = this.e.id + '_options'\r\n          e.firstElementChild.id = this.e.id + '_option' + this.e.childElementCount\r\n          e.firstElementChild.value = value\r\n          e.lastElementChild.innerText = display || site.data.format_label(value)\r\n          e.lastElementChild.className = 'form-check-label'\r\n          e.lastElementChild.setAttribute('for', e.firstElementChild.id)\r\n          if (!noadd) this.e.appendChild(e)\r\n          return e.firstElementChild\r\n        },\r\n      },\r\n      switch: {\r\n        retrieve: function () {\r\n          this.set(this.e.checked)\r\n        },\r\n        setter: function (v) {\r\n          if ('string' === typeof v) v = 'on' === v || 'true' === v\r\n          if (v !== this.source) {\r\n            this.previous = this.e.checked\r\n            this.e.checked = this.source = v\r\n            request_queue(this.id)\r\n          }\r\n        },\r\n        listener: function () {\r\n          this.set(this.e.checked)\r\n        },\r\n      },\r\n      number: {\r\n        init: function (o) {\r\n          const up = o.e.parentElement.parentElement.querySelector('.number-up')\r\n          const down = o.e.parentElement.parentElement.querySelector('.number-down')\r\n          if (down) {\r\n            down.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.set(Math.max(this.parsed.min, this.value() - 1))\r\n              }.bind(o)\r\n            )\r\n          }\r\n          if (up) {\r\n            up.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.set(Math.min(this.parsed.max, this.value() + 1))\r\n              }.bind(o)\r\n            )\r\n          }\r\n        },\r\n        retrieve: function () {\r\n          this.set(this.e.value)\r\n        },\r\n        setter: function (v, check) {\r\n          if (!v) v = null\r\n          if ('string' === typeof v) v = parseFloat(v)\r\n          if (isFinite(v) && v !== this.source) {\r\n            this.previous = parseFloat(this.e.value)\r\n            if (check) {\r\n              if (isFinite(this.parsed.min) && v < this.parsed.min) {\r\n                v = this.parsed.min\r\n              } else if (isFinite(this.parsed.max) && v > this.parsed.max) {\r\n                v = this.parsed.max\r\n              }\r\n            }\r\n            this.off_default = v !== this.current_default\r\n            this.e.value = this.source = v\r\n            this.current_index = v - this.parsed.min\r\n            if ('range' === this.e.type) {\r\n              this.e.nextElementSibling.firstElementChild.innerText = this.e.value\r\n            }\r\n            request_queue(this.id)\r\n          }\r\n        },\r\n        listener: function (e) {\r\n          this.set(this.e.value, true)\r\n        },\r\n      },\r\n      intext: {\r\n        retrieve: function () {\r\n          this.set(this.e.value)\r\n        },\r\n        setter: function (v, check) {\r\n          this.previous = this.e.value\r\n          this.e.value = this.source = v\r\n          request_queue(this.id)\r\n        },\r\n        listener: function (e) {\r\n          this.set(this.e.value, true)\r\n        },\r\n      },\r\n      text: {\r\n        init: function (o) {\r\n          if (site.text && o.id in site.text) {\r\n            o.text = site.text[o.id].text\r\n            o.condition = site.text[o.id].condition || []\r\n            o.depends = new Map()\r\n            o.text.forEach(oi => {\r\n              if ('text' in oi) {\r\n                init_text(o, oi)\r\n                o.e.appendChild(oi.parts)\r\n              } else {\r\n                o.e.appendChild(document.createElement('span'))\r\n                oi.forEach(t => init_text(o, t))\r\n              }\r\n            })\r\n            o.condition.forEach(c => {\r\n              if (c.id in _u) add_dependency(c.id, {type: 'display', id: o.id})\r\n            })\r\n            o.depends.forEach(d => add_dependency(d.id, {type: 'update', id: o.id}))\r\n            o.update = elements.text.update.bind(o)\r\n          }\r\n          o.update()\r\n        },\r\n        update: function () {\r\n          Object.keys(this.reference_options).forEach(k => (this.options[k] = valueOf(this.reference_options[k])))\r\n          this.depends.forEach(d => {\r\n            d.parsed = valueOf(d.id)\r\n            if (d.u) {\r\n              if (d.u.options) {\r\n                d.parsed = d.u.options['combobox' === d.u.type ? d.u.values[d.parsed] : d.u.current_index].innerText\r\n              } else {\r\n                d.parsed =\r\n                  d.u.display && d.parsed in d.u.display ? d.u.display[d.parsed] : site.data.format_label(d.parsed)\r\n              }\r\n            } else if (d.parsed in site.data.entities) {\r\n              d.parsed = site.data.entities[d.parsed].features.name\r\n            }\r\n          })\r\n          this.text.forEach((o, i) => {\r\n            let pass = true\r\n            if (o.length) {\r\n              for (let t = o.length; t--; ) {\r\n                if ('condition' in o[t]) {\r\n                  for (let c = o[t].condition.length; c--; ) {\r\n                    pass = o[t].condition[c].check()\r\n                    if (!pass) break\r\n                  }\r\n                  if (pass) {\r\n                    o = o[t]\r\n                    break\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              if ('condition' in o) {\r\n                for (let t = o.condition.length; t--; ) {\r\n                  pass = o.condition[t].check()\r\n                  if (!pass) break\r\n                }\r\n              }\r\n            }\r\n            if (pass) {\r\n              o.text.forEach((k, i) => {\r\n                if (Array.isArray(k)) {\r\n                  k.forEach(ki => {\r\n                    if ('default' === ki.id || DataHandler.checks[ki.type](valueOf(ki.id), valueOf(ki.value)))\r\n                      k = ki.text\r\n                  })\r\n                }\r\n                if (this.depends.has(k)) {\r\n                  o.parts.children[i].innerText = this.depends.get(k).parsed\r\n                } else if (k in o.button) {\r\n                  let s = ''\r\n                  o.button[k].text.forEach(b => {\r\n                    s = (this.depends.has(b) ? this.depends.get(b).parsed : b) + s\r\n                  })\r\n                  o.parts.children[i].innerText = s\r\n                } else o.parts.children[i].innerText = k\r\n              })\r\n              if (this.text[i].length) {\r\n                this.e.children[i].innerHTML = ''\r\n                this.e.children[i].appendChild(o.parts)\r\n              } else o.parts.classList.remove('hidden')\r\n            } else o.parts.classList.add('hidden')\r\n          })\r\n        },\r\n      },\r\n      select: {\r\n        retrieve: function () {\r\n          this.set(this.e.selectedIndex)\r\n        },\r\n        setter: function (v) {\r\n          if ('string' === typeof v && !(v in this.values) && patterns.number.test(v)) v = Number(v)\r\n          if ('number' === typeof v) v = this.options[v] ? this.options[v].value : v\r\n          if (!(v in this.values) && v in this.display) v = this.options[this.display[v]].value\r\n          if (v !== this.source) {\r\n            this.e.selectedIndex = v in this.values ? this.values[v] : -1\r\n            this.source = v\r\n            request_queue(this.id)\r\n          }\r\n        },\r\n        listener: function (e) {\r\n          this.set(e.target.selectedIndex)\r\n        },\r\n        adder: function (value, display, meta, noadd) {\r\n          const e = document.createElement('option')\r\n          e.value = value\r\n          e.innerText = display || site.data.format_label(value)\r\n          if (meta && meta.info) {\r\n            e.title = meta.info.description || meta.info.short_description\r\n          }\r\n          if (!noadd) this.e.appendChild(e)\r\n          return e\r\n        },\r\n      },\r\n      combobox: {\r\n        create: function (label, options, settings, id) {\r\n          id = id || 'created_combobox_' + ++page.elementCount\r\n          const e = document.createElement('div')\r\n          let c = document.createElement('div')\r\n          if (settings) {\r\n            if (!site.combobox) site.combobox = {}\r\n            site.combobox[id] = settings\r\n          }\r\n          e.className = 'wrapper combobox-wrapper'\r\n          e.appendChild(c)\r\n          c.id = id\r\n          c.setAttribute('data-autoType', 'combobox')\r\n          c.className = 'auto-input form-select combobox combobox-component'\r\n          c.role = 'combobox'\r\n          c.appendChild((c = document.createElement('div')))\r\n          c.className = 'combobox-selection combobox-component'\r\n          c.appendChild(document.createElement('span'))\r\n          c.lastElementChild.className = 'combobox-component'\r\n          c.lastElementChild.setAttribute('aria-live', 'assertive')\r\n          c.lastElementChild.setAttribute('aria-role', 'log')\r\n          c.appendChild((c = document.createElement('input')))\r\n          c.setAttribute('aria-haspopup', 'listbox')\r\n          c.setAttribute('aria-expanded', 'false')\r\n          c.setAttribute('aria-labelledby', id)\r\n          c.setAttribute('aria-controls', id + '-listbox')\r\n          c.className = 'combobox-input combobox-component'\r\n          c.type = 'text'\r\n          c.role = 'combobox'\r\n          c.id = id + '-input'\r\n          c.autocomplete = 'off'\r\n          if (settings && settings.clearable) {\r\n            e.firstElementChild.appendChild((c = document.createElement('button')))\r\n            c.type = 'button'\r\n            c.className = 'btn-close'\r\n            c.title = 'clear selection'\r\n          }\r\n          e.appendChild((c = document.createElement('div')))\r\n          c.className = 'combobox-options combobox-component'\r\n          c.role = 'listbox'\r\n          c.tabindex = '-1'\r\n          c.id = id + '-listbox'\r\n          e.appendChild((c = document.createElement('label')))\r\n          c.id = id + '-label'\r\n          c.innerText = label\r\n          c.setAttribute('for', id)\r\n          elements.init_input(e.firstElementChild)\r\n          const u = _u[id]\r\n          let n = 0\r\n          u.options = []\r\n          if (options)\r\n            if (Array.isArray(options)) {\r\n              options.forEach(o => {\r\n                const l = site.data.format_label(o)\r\n                u.display[l] = n\r\n                u.values[o] = n++\r\n                u.options.push(u.add(o, l))\r\n              })\r\n            } else {\r\n              u.groups = {e: [], by_name: {}}\r\n              Object.keys(options).forEach(k => {\r\n                const g = options[k]\r\n                const e = document.createElement('div'),\r\n                  id = u.id + '_group_' + k.replace(patterns.seps, '-')\r\n                e.className = 'combobox-group combobox-component'\r\n                e.setAttribute('aria-labelledby', id)\r\n                e.appendChild(document.createElement('label'))\r\n                e.firstElementChild.innerText = k\r\n                e.firstElementChild.id = id\r\n                e.firstElementChild.className = 'combobox-group-label combobox-component'\r\n                u.groups.by_name[k] = e\r\n                u.groups.e.push(e)\r\n                g.forEach(o => u.groups.by_name[k].appendChild(u.add(o, o, true)))\r\n                u.listbox.appendChild(e)\r\n              })\r\n              Object.keys(u.groups.by_name).forEach(g => {\r\n                u.groups.by_name[g].querySelectorAll('.combobox-option').forEach(c => {\r\n                  u.options.push(c)\r\n                  c.setAttribute('data-group', g)\r\n                  u.values[c.dataset.value] = n\r\n                  u.display[c.innerText] = n++\r\n                })\r\n              })\r\n            }\r\n          return u\r\n        },\r\n        init: function (o) {\r\n          o.hover_index = -1\r\n          o.cleared_selection = ''\r\n          o.expanded = false\r\n          o.listbox = o.e.parentElement.children[1]\r\n          o.options = o.listbox.querySelectorAll('.combobox-option')\r\n          if (o.options.length) {\r\n            o.values = {}\r\n            o.display = {}\r\n            o.options.forEach((e, i) => {\r\n              o.values[e.dataset.value] = i\r\n              o.display[e.innerText] = i\r\n            })\r\n            const group = o.listbox.querySelectorAll('.combobox-group')\r\n            if (group.length) {\r\n              o.groups = {e: [], by_name: {}}\r\n              group.forEach(e => {\r\n                const name = e.dataset.group\r\n                o.groups.e[name] = e\r\n                o.groups.by_name[name] = e\r\n              })\r\n            }\r\n          }\r\n          o.container = document.createElement('div')\r\n          o.container.className = 'combobox-options-container combobox-component hidden'\r\n          page.overlay.appendChild(o.container)\r\n          o.container.appendChild(o.listbox)\r\n          o.selection = o.e.firstElementChild.firstElementChild\r\n          o.input_element = o.e.firstElementChild.lastElementChild\r\n          if (2 === o.e.childElementCount) {\r\n            o.e.lastElementChild.addEventListener(\r\n              'click',\r\n              function () {\r\n                if (!this.e.classList.contains('locked')) {\r\n                  this.cleared_selection = ''\r\n                  this.set([])\r\n                  this.input_element.focus()\r\n                }\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.value = function () {\r\n            return this.source\r\n              ? this.settings.multi\r\n                ? this.source\r\n                : this.source.length\r\n                ? this.source[0]\r\n                : ''\r\n              : valueOf(this.default)\r\n          }.bind(o)\r\n          o.set_selected = function (value) {\r\n            if (value in this.values) {\r\n              const option = this.options[this.values[value]]\r\n              option.classList.add('selected')\r\n              option.setAttribute('aria-selected', 'true')\r\n            }\r\n          }.bind(o)\r\n          o.input_element.addEventListener(\r\n            'focus',\r\n            function () {\r\n              this.e.classList.add('focused')\r\n            }.bind(o)\r\n          )\r\n          o.input_element.addEventListener(\r\n            'blur',\r\n            function () {\r\n              this.e.classList.remove('focused')\r\n            }.bind(o)\r\n          )\r\n          o.listbox.addEventListener('click', o.set)\r\n          o.close = function (e) {\r\n            if (this.expanded && (!e || !e.target.classList || !e.target.classList.contains('combobox-component'))) {\r\n              if ('' === this.selection.innerText && this.source.length)\r\n                this.selection.innerText = this.cleared_selection\r\n              if ('' !== this.input_element.value) setTimeout(this.set, 0)\r\n              this.e.setAttribute('aria-expanded', 'false')\r\n              this.expanded = false\r\n              this.container.classList.add('hidden')\r\n              window.removeEventListener('click', o.close)\r\n            }\r\n          }.bind(o)\r\n          o.resize = function () {\r\n            const s = this.e.getBoundingClientRect()\r\n            this.container.style.left = s.x + 'px'\r\n            this.container.style.width = s.width + 'px'\r\n            if (window.screen.height / 2 > s.y) {\r\n              this.container.style.top = s.y + s.height + 'px'\r\n              this.container.style.bottom = ''\r\n            } else {\r\n              this.container.style.top = ''\r\n              this.container.style.bottom = -s.y + 'px'\r\n            }\r\n          }.bind(o)\r\n          window.addEventListener('resize', o.resize)\r\n          o.toggle = function (e) {\r\n            if (!e.button && !this.e.classList.contains('disabled') && 'BUTTON' !== e.target.tagName) {\r\n              if (this.expanded) {\r\n                if (e.target !== this.input_element) this.close()\r\n              } else {\r\n                if (site.combobox)\r\n                  Object.keys(site.combobox).forEach(id => {\r\n                    if (id !== this.id) {\r\n                      const ou = _u[id]\r\n                      ou.expanded && ou.close()\r\n                    }\r\n                  })\r\n                this.container.classList.remove('hidden')\r\n                if ('' !== this.selection.innerText) this.cleared_selection = this.selection.innerText\r\n                if (this.cleared_selection in this.display)\r\n                  this.highlight({target: this.options[this.display[this.cleared_selection]]})\r\n                this.selection.innerText = ''\r\n                window.addEventListener('click', this.close)\r\n                this.e.setAttribute('aria-expanded', 'true')\r\n                if (!e || e.target !== this.input_element) setTimeout(() => this.input_element.focus(), 0)\r\n                this.resize()\r\n                this.expanded = true\r\n              }\r\n            }\r\n          }.bind(o)\r\n          o.e.addEventListener('mousedown', o.toggle)\r\n          o.highlight = function (e) {\r\n            if (!e || !e.target || e.target.dataset.value in this.values) {\r\n              if (!this.groups) this.settings.accordion = false\r\n              if (e && e.target && e.target.dataset.value) {\r\n                this.hover_index = this.values[e.target.dataset.value]\r\n              } else if (-1 === this.hover_index && this.source) {\r\n                this.hover_index = this.values[this.source[0]]\r\n              }\r\n              if ('undefined' === typeof this.hover_index) this.hover_index = -1\r\n              const o = this.options[this.hover_index]\r\n              if (o) {\r\n                const previous = this.listbox.querySelector('.highlighted')\r\n                if (previous) previous.classList.remove('highlighted')\r\n                if (e && 'mouseover' === e.type) {\r\n                  e.target.classList.add('highlighted')\r\n                } else {\r\n                  o.classList.add('highlighted')\r\n                  if (this.settings.accordion) {\r\n                    const c = o.parentElement.parentElement\r\n                    if (!c.classList.contains('show')) {\r\n                      c.classList.add('show')\r\n                      c.previousElementSibling.firstElementChild.classList.remove('collapsed')\r\n                      c.previousElementSibling.firstElementChild.setAttribute('aria-expanded', true)\r\n                    }\r\n                  }\r\n                  this.input_element.setAttribute('aria-activedescendant', o.id)\r\n                  const port = this.container.getBoundingClientRect(),\r\n                    item = o.getBoundingClientRect()\r\n                  let top = port.top\r\n                  if (this.groups && o.getAttribute('data-group'))\r\n                    top +=\r\n                      this.groups.by_name[o.getAttribute('data-group')].firstElementChild.getBoundingClientRect().height\r\n                  if (top > item.top) {\r\n                    this.container.scrollTo(0, this.container.scrollTop + item.top - top)\r\n                  } else if (port.bottom < item.bottom) {\r\n                    this.container.scrollTo(0, this.container.scrollTop + item.bottom - port.bottom)\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }.bind(o)\r\n          o.listbox.addEventListener('mouseover', o.highlight)\r\n          if (o.settings.accordion) {\r\n            o.listbox.addEventListener('show.bs.collapse', e => {\r\n              const group = o.hover_index === -1 ? '' : o.options[o.hover_index].getAttribute('data-group')\r\n              if (group !== e.target.getAttribute('data-group')) {\r\n                o.highlight({target: e.target.firstElementChild.firstElementChild})\r\n                o.input_element.focus()\r\n              }\r\n            })\r\n          }\r\n          o.clear_highlight = function () {\r\n            if (-1 !== this.hover_index) {\r\n              this.options[this.hover_index].classList.remove('highlighted')\r\n              this.hover_index = -1\r\n            }\r\n          }.bind(o)\r\n          o.filter_reset = function () {\r\n            if (this.groups)\r\n              this.groups.e.forEach(g => g.firstElementChild.firstElementChild.classList.remove('hidden'))\r\n            this.input_element.value = ''\r\n            this.filter_index = []\r\n            this.listbox.querySelectorAll('.filter-hidden').forEach(o => o.classList.remove('filter-hidden'))\r\n          }.bind(o)\r\n          if (o.settings.search) {\r\n            o.filterer = function (e) {\r\n              const q = this.input_element.value.toLowerCase()\r\n              if ('' === q) {\r\n                this.filter_reset()\r\n              } else {\r\n                this.filter_index = []\r\n                if (this.groups) {\r\n                  this.groups.e.forEach(g => g.firstElementChild.firstElementChild.classList.add('hidden'))\r\n                }\r\n                this.options.forEach((o, i) => {\r\n                  if (o.innerText.toLowerCase().includes(q)) {\r\n                    o.classList.remove('filter-hidden')\r\n                    this.filter_index.push(i)\r\n                    const group = o.getAttribute('data-group')\r\n                    if (group) {\r\n                      this.groups.by_name[group].firstElementChild.firstElementChild.classList.remove('hidden')\r\n                      if (this.settings.accordion) {\r\n                        const g = this.groups.by_name[group]\r\n                        g.firstElementChild.nextElementSibling.classList.add('show')\r\n                        g.firstElementChild.firstElementChild.classList.remove('collapsed')\r\n                        g.firstElementChild.firstElementChild.setAttribute('aria-expanded', true)\r\n                      }\r\n                    }\r\n                  } else {\r\n                    o.classList.add('filter-hidden')\r\n                  }\r\n                })\r\n              }\r\n            }.bind(o)\r\n            o.input_element.addEventListener('keyup', o.filterer)\r\n          }\r\n          o.input_element.addEventListener(\r\n            'keydown',\r\n            function (e) {\r\n              const action = keymap[e.code]\r\n              if (action) {\r\n                if ('close' === action) {\r\n                  this.close()\r\n                } else if ('select' === action) {\r\n                  if (!this.expanded) return this.toggle({target: this.input_element})\r\n                  this.set(e)\r\n                } else if ('move' === action) {\r\n                  e.preventDefault()\r\n                  if ('ArrowUp' === e.code) {\r\n                    if (this.filter_index && this.filter_index.length) {\r\n                      this.hover_index = this.filter_index.indexOf(this.hover_index) - 1\r\n                      this.hover_index = this.filter_index[0 > this.hover_index ? 0 : this.hover_index]\r\n                    } else {\r\n                      this.hover_index = Math.max(0, this.hover_index - 1)\r\n                    }\r\n                  } else if ('ArrowDown' === e.code) {\r\n                    if (this.filter_index && this.filter_index.length) {\r\n                      this.hover_index = this.filter_index.indexOf(this.hover_index) + 1\r\n                      this.hover_index =\r\n                        this.filter_index[\r\n                          this.filter_index.length - 1 < this.hover_index\r\n                            ? this.filter_index.length - 1\r\n                            : this.hover_index\r\n                        ]\r\n                    } else {\r\n                      this.hover_index = Math.min(this.options.length - 1, this.hover_index + 1)\r\n                    }\r\n                  } else if ('Home' === e.code) {\r\n                    this.hover_index = 0\r\n                  } else if ('End' === e.code) {\r\n                    this.hover_index = this.options.length - 1\r\n                  }\r\n                  if (this.expanded) {\r\n                    this.highlight()\r\n                  } else {\r\n                    this.set(this.hover_index)\r\n                  }\r\n                }\r\n              } else if (!this.expanded) {\r\n                this.toggle({target: this.input_element})\r\n              } else {\r\n                this.clear_highlight()\r\n              }\r\n            }.bind(o)\r\n          )\r\n        },\r\n        retrieve: function () {\r\n          this.source = []\r\n          this.listbox.querySelectorAll('.selected').forEach(o => this.source.push(o.dataset.value))\r\n          request_queue(this.id)\r\n        },\r\n        setter: function (v, toggle) {\r\n          if (!v) v = this.input_element.value\r\n          if (v.target && (this.settings.accordion ? 'BUTTON' : 'LABEL') === v.target.tagName) return void 0\r\n          let update = false,\r\n            i = -1\r\n          if (v.target) {\r\n            i = this.hover_index\r\n            if (\r\n              -1 !== i &&\r\n              (this.options[i].classList.contains('hidden') || this.options[i].classList.contains('filter-hidden'))\r\n            )\r\n              i = -1\r\n            v =\r\n              -1 === i\r\n                ? v.target.dataset.value || v.target.innerText\r\n                : this.options[i].dataset.value || this.options[i].innerText\r\n            toggle = this.settings.multi\r\n          }\r\n          this.filter_reset()\r\n          if ('object' === typeof v) {\r\n            if (this.settings.multi) {\r\n              this.listbox.querySelectorAll('.selected').forEach(e => {\r\n                e.classList.remove('selected')\r\n                e.setAttribute('aria-selected', 'false')\r\n              })\r\n              this.source = -1 === v ? [] : v\r\n              v.forEach(this.set_selected)\r\n            } else v = v[0]\r\n          }\r\n          if (!Array.isArray(this.source)) this.source = []\r\n          if ('object' === typeof v && this.settings.multi) {\r\n            update = true\r\n          } else {\r\n            if (this.settings.strict && 'string' === typeof v && !(v in this.values) && patterns.number.test(v))\r\n              v = Number(v)\r\n            if ('number' !== this.value_type && 'number' === typeof v && this.options[v]) {\r\n              v = this.options[v].dataset.value\r\n            }\r\n            if ('string' === typeof v && v in this.display) v = this.options[this.display[v]].dataset.value\r\n            if (this.settings.strict && !(v in this.values)) v = this.default\r\n            i = this.source.indexOf(v)\r\n            if (-1 === i) {\r\n              update = true\r\n              if (-1 === v || '' === v) {\r\n                this.source = []\r\n              } else {\r\n                if (this.settings.multi) {\r\n                  this.source.push(v)\r\n                } else this.source[0] = v\r\n              }\r\n              if (v in this.values) {\r\n                if (!this.settings.multi) {\r\n                  const selected = this.listbox.querySelector('.selected')\r\n                  if (selected) {\r\n                    selected.classList.remove('selected')\r\n                    selected.setAttribute('aria-selected', 'false')\r\n                  }\r\n                }\r\n                this.set_selected(v)\r\n              }\r\n            } else if (toggle) {\r\n              update = true\r\n              this.source.splice(i, 1)\r\n              if (v in this.values) {\r\n                const selection = this.options[this.values[v]]\r\n                selection.classList.remove('selected')\r\n                selection.setAttribute('aria-selected', 'false')\r\n              }\r\n            }\r\n          }\r\n          if (!this.settings.multi && this.expanded) {\r\n            this.input_element.focus()\r\n            this.close()\r\n            this.filter_reset()\r\n          }\r\n          this.selection.innerText = this.source.length\r\n            ? this.settings.multi\r\n              ? this.source.length + ' of ' + this.options.length + ' selected'\r\n              : this.source[0] in this.values\r\n              ? this.options[this.values[this.source[0]]].firstChild.textContent\r\n              : this.settings.strict || -1 === this.source[0]\r\n              ? ''\r\n              : this.source[0]\r\n            : ''\r\n          if (this.onchange) this.onchange()\r\n          if (update) request_queue(this.id)\r\n        },\r\n        adder: function (value, display, noadd, meta) {\r\n          const e = document.createElement('div')\r\n          e.id = this.id + '_' + value\r\n          e.role = 'option'\r\n          e.setAttribute('aria-selected', 'false')\r\n          e.tabindex = '0'\r\n          e.className = 'combobox-option combobox-component'\r\n          e.dataset.value = value\r\n          e.innerText = display || site.data.format_label(value)\r\n          if (meta && meta.info) {\r\n            e.appendChild(document.createElement('p'))\r\n            e.lastElementChild.className = 'combobox-option-description combobox-component'\r\n            e.lastElementChild.innerText = meta.info.description || meta.info.short_description || ''\r\n          }\r\n          if (!noadd) this.listbox.appendChild(e)\r\n          return e\r\n        },\r\n      },\r\n      plotly: {\r\n        init: function (o) {\r\n          o.previous_span = 1\r\n          if (o.id in site.plotly) {\r\n            o.x = o.e.getAttribute('data-x')\r\n            o.y = o.e.getAttribute('data-y')\r\n            o.color = o.e.getAttribute('data-color')\r\n            o.time = o.e.getAttribute('data-colorTime')\r\n            o.click = o.e.getAttribute('data-click')\r\n            if (o.click in _u) o.clickto = _u[o.click]\r\n            o.parsed = {}\r\n            o.traces = {}\r\n            o.tab = 'tabpanel' === o.e.parentElement.getAttribute('role') ? o.e.parentElement : void 0\r\n            if (o.tab) {\r\n              document.getElementById(o.e.parentElement.getAttribute('aria-labelledby')).addEventListener(\r\n                'click',\r\n                function () {\r\n                  if (!this.e.parentElement.classList.contains('active')) {\r\n                    setTimeout(this.update, 155)\r\n                    setTimeout(trigger_resize, 155)\r\n                  }\r\n                }.bind(o)\r\n              )\r\n            }\r\n            o.show = function (e) {\r\n              o.revert()\r\n              let trace = make_data_entry(\r\n                this,\r\n                e,\r\n                0,\r\n                0,\r\n                'hover_line',\r\n                defaults['border_highlight_' + site.settings.theme_dark]\r\n              )\r\n              if (trace) {\r\n                trace.line.width = 4\r\n                trace.marker.size = 12\r\n                Plotly.addTraces(this.e, trace, this.e.data.length)\r\n              }\r\n            }\r\n            o.revert = function () {\r\n              if (this.e.data.length && 'hover_line' === this.e.data[this.e.data.length - 1].name)\r\n                Plotly.deleteTraces(this.e, this.e.data.length - 1)\r\n            }\r\n            if (o.options) site.plotly[o.id].u = o\r\n            site.plotly[o.id].data.forEach((p, i) => {\r\n              Object.keys(p).forEach(k => {\r\n                if (patterns.period.test(k)) {\r\n                  const es = k.split('.'),\r\n                    n = es.length - 1\r\n                  let pl = null\r\n                  es.forEach((e, ei) => {\r\n                    pl = pl ? (pl[e] = ei === n ? p[k] : {}) : (p[e] = {})\r\n                  })\r\n                }\r\n              })\r\n              if (!('textfont' in p)) p.textfont = {}\r\n              if (!('color' in p.textfont)) p.textfont.color = defaults.background_highlight\r\n              if (!('line' in p)) p.line = {}\r\n              if (!('color' in p.line)) p.line.color = defaults.background_highlight\r\n              if (!('marker' in p)) p.marker = {}\r\n              p.marker.size = 8\r\n              if (!('color' in p.marker)) p.marker.color = defaults.background_highlight\r\n              if (!('line' in p.marker)) p.marker.line = {}\r\n              if (!('color' in p.marker.line)) p.marker.line.color = defaults.background_highlight\r\n              if (!('text' in p)) p.text = []\r\n              if (!('x' in p)) p.x = []\r\n              if ('box' === p.type) {\r\n                p.hoverinfo = 'none'\r\n              } else if (!('y' in p)) p.y = []\r\n              o.traces[p.type] = JSON.stringify(p)\r\n              if (!i) {\r\n                o.base_trace = p.type\r\n                if (o.base_trace in _u) add_dependency(o.base_trace, {type: 'update', id: o.id})\r\n              }\r\n            })\r\n            if (o.x && !(o.x in site.data.variables)) {\r\n              add_dependency(o.x, {type: 'update', id: o.id})\r\n            }\r\n            if (o.y && !(o.y in site.data.variables)) {\r\n              add_dependency(o.y, {type: 'update', id: o.id})\r\n            }\r\n            if (o.color && !(o.color in site.data.variables)) {\r\n              add_dependency(o.color, {type: 'update', id: o.id})\r\n            }\r\n            if (o.time in _u) {\r\n              add_dependency(o.time, {type: 'update', id: o.id})\r\n            }\r\n            if (o.view) {\r\n              add_dependency(o.view, {type: 'update', id: o.id})\r\n              add_dependency(o.view + '_filter', {type: 'update', id: o.id})\r\n              if (_u[o.view].time_agg in _u) add_dependency(_u[o.view].time_agg, {type: 'update', id: o.id})\r\n            } else o.view = defaults.dataview\r\n            o.queue = this.queue_init.bind(o)()\r\n          }\r\n        },\r\n        queue_init: function () {\r\n          const showing = this.deferred || !this.tab || this.tab.classList.contains('show')\r\n          if (showing && window.Plotly) {\r\n            Plotly.newPlot(this.e, this.options)\r\n            this.e\r\n              .on('plotly_hover', elements.plotly.mouseover.bind(this))\r\n              .on('plotly_unhover', elements.plotly.mouseout.bind(this))\r\n              .on('plotly_click', elements.plotly.click.bind(this))\r\n            update_plot_theme(this)\r\n            this.update()\r\n          } else {\r\n            this.deferred = true\r\n            setTimeout(this.queue, showing ? 0 : 2000)\r\n          }\r\n        },\r\n        mouseover: function (d) {\r\n          if (d.points && 1 === d.points.length && this.e.data[d.points[0].fullData.index]) {\r\n            Plotly.restyle(this.e, {'line.width': 5}, d.points[0].fullData.index)\r\n            update_subs(this.id, 'show', site.data.entities[d.points[0].data.id])\r\n          }\r\n        },\r\n        mouseout: function (d) {\r\n          if (d.points && 1 === d.points.length && this.e.data[d.points[0].fullData.index]) {\r\n            Plotly.restyle(this.e, {'line.width': 2}, d.points[0].fullData.index)\r\n            update_subs(this.id, 'revert', site.data.entities[d.points[0].data.id])\r\n          }\r\n        },\r\n        click: function (d) {\r\n          this.clickto && this.clickto.set(d.points[0].data.id)\r\n        },\r\n        update: async function (pass) {\r\n          if (this.queue > 0) clearTimeout(this.queue)\r\n          this.queue = -1\r\n          if (!pass) {\r\n            if (!this.tab || this.tab.classList.contains('show')) this.queue = setTimeout(() => this.update(true), 50)\r\n          } else {\r\n            if (this.e.layout) {\r\n              const v = _u[this.view],\r\n                s = v.selection && v.selection.all,\r\n                d = v.get.dataset(),\r\n                y = _u[this.time || v.time_agg],\r\n                parsed = this.parsed\r\n              if (site.data.inited[d] && s && v.time_range.filtered.length) {\r\n                parsed.base_trace = valueOf(this.base_trace)\r\n                parsed.x = valueOf(this.x)\r\n                parsed.y = valueOf(this.y)\r\n                parsed.color = valueOf(this.color || v.y || parsed.y)\r\n                const varx = await site.data.get_variable(parsed.x, this.view),\r\n                  vary = await site.data.get_variable(parsed.y, this.view),\r\n                  varcol = await site.data.get_variable(parsed.color, this.view)\r\n                parsed.x_range = varx.time_range[d]\r\n                parsed.y_range = vary.time_range[d]\r\n                parsed.view = v\r\n                parsed.dataset = d\r\n                parsed.palette = valueOf(v.palette) || site.settings.palette\r\n                if (!(parsed.palette in palettes)) parsed.palette = defaults.palette\r\n                parsed.time = (y ? y.value() - site.data.meta.times[d].range[0] : 0) - varcol.time_range[d][0]\r\n                parsed.summary = varcol.views[this.view].summaries[d]\r\n                const ns = parsed.summary.n,\r\n                  display_time = ns[parsed.time] ? parsed.time : 0,\r\n                  summary = vary.views[this.view].summaries[d],\r\n                  missing = parsed.summary.missing[display_time],\r\n                  n = ns[display_time],\r\n                  subset = n !== v.n_selected.dataset,\r\n                  rank = subset ? 'subset_rank' : 'rank',\r\n                  order = subset ? varcol.views[this.view].order[d][display_time] : varcol.info[d].order[display_time],\r\n                  traces = []\r\n                let i = parsed.summary.missing[display_time],\r\n                  k,\r\n                  b,\r\n                  fn = order ? order.length : 0,\r\n                  lim = site.settings.trace_limit || 0,\r\n                  jump,\r\n                  state =\r\n                    v.value() +\r\n                    v.get.time_filters() +\r\n                    d +\r\n                    parsed.x +\r\n                    parsed.y +\r\n                    parsed.time +\r\n                    parsed.palette +\r\n                    parsed.color +\r\n                    site.settings.summary_selection +\r\n                    site.settings.color_scale_center +\r\n                    site.settings.color_by_order +\r\n                    site.settings.trace_limit +\r\n                    site.settings.show_empty_times\r\n                lim = jump = lim && lim < n ? Math.ceil(Math.min(lim / 2, n / 2)) : 0\r\n                Object.keys(this.reference_options).forEach(k => (this.options[k] = valueOf(this.reference_options[k])))\r\n                for (; i < fn; i++) {\r\n                  if (order[i][0] in s) {\r\n                    k = order[i][0]\r\n                    const e = s[k]\r\n                    state += k\r\n                    traces.push(\r\n                      make_data_entry(this, e, e.views[this.view][rank][parsed.color][parsed.time] - missing, n)\r\n                    )\r\n                    if (lim && !--jump) break\r\n                  }\r\n                }\r\n                if (lim && i < fn) {\r\n                  for (jump = i, i = fn - 1; i > jump; i--) {\r\n                    if (order[i][0] in s) {\r\n                      k = order[i][0]\r\n                      const e = s[k]\r\n                      state += k\r\n                      traces.push(\r\n                        make_data_entry(this, e, e.views[this.view][rank][parsed.color][parsed.time] - missing, n)\r\n                      )\r\n                      if (!--lim) break\r\n                    }\r\n                  }\r\n                }\r\n                state += traces.length && traces[0].type\r\n                if (site.settings.boxplots && 'box' in this.traces && s[k]) {\r\n                  state += 'box' + site.settings.iqr_box\r\n                  b = JSON.parse(this.traces.box)\r\n                  traces.push(b)\r\n                  b.line.color = defaults.border\r\n                  b.median = summary.median\r\n                  b.q3 = summary.q3\r\n                  b.q1 = summary.q1\r\n                  if (site.settings.iqr_box) {\r\n                    b.upperfence = []\r\n                    b.lowerfence = []\r\n                    b.q1.forEach((q1, i) => {\r\n                      if (isNaN(b.median[i])) b.median[i] = 0\r\n                      const n = (b.q3[i] - q1) * 1.5,\r\n                        med = b.median[i]\r\n                      b.q3[i] = isNaN(b.q3[i]) ? med : Math.max(med, b.q3[i])\r\n                      b.upperfence[i] = b.q3[i] + n\r\n                      b.q1[i] = isNaN(b.q1[i]) ? med : Math.min(med, q1)\r\n                      b.lowerfence[i] = q1 - n\r\n                    })\r\n                  } else {\r\n                    b.upperfence = summary.max\r\n                    b.lowerfence = summary.min\r\n                  }\r\n                  if (site.settings.show_empty_times) {\r\n                    b.x = b.q1.map((_, i) => s[k].get_value(parsed.x, i + parsed.y_range[0]))\r\n                  } else {\r\n                    b.x = []\r\n                    for (i = b.q1.length; i--; ) {\r\n                      if (ns[i]) {\r\n                        b.x[i] = s[k].get_value(parsed.x, i + parsed.y_range[0])\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (state !== this.state) {\r\n                  if ('boolean' !== typeof this.e.layout.yaxis.title)\r\n                    this.e.layout.yaxis.title =\r\n                      site.data.format_label(parsed.y) +\r\n                      (site.settings.trace_limit < v.n_selected.all\r\n                        ? ' (' + site.settings.trace_limit + ' extremes)'\r\n                        : '')\r\n                  if ('boolean' !== typeof this.e.layout.xaxis.title)\r\n                    this.e.layout.xaxis.title = site.data.format_label(parsed.x)\r\n                  this.e.layout.yaxis.autorange = false\r\n                  this.e.layout.yaxis.range = [Infinity, -Infinity]\r\n                  if (!b) b = {upperfence: summary.max, lowerfence: summary.min}\r\n                  let any_skipped = false\r\n                  summary.min.forEach((min, i) => {\r\n                    if (site.settings.show_empty_times || ns[i]) {\r\n                      const l = Math.min(b.lowerfence[i], min),\r\n                        u = Math.max(b.upperfence[i], summary.max[i])\r\n                      if (this.e.layout.yaxis.range[0] > l) this.e.layout.yaxis.range[0] = l\r\n                      if (this.e.layout.yaxis.range[1] < u) this.e.layout.yaxis.range[1] = u\r\n                    } else any_skipped = true\r\n                  })\r\n                  const r = (this.e.layout.yaxis.range[1] - this.e.layout.yaxis.range[0]) / 10\r\n                  this.e.layout.yaxis.range[0] -= r\r\n                  this.e.layout.yaxis.range[1] += r\r\n                  if (site.data.variables[parsed.x].is_time) {\r\n                    const start = v.time_range.filtered[0],\r\n                      end = v.time_range.filtered[1],\r\n                      adj = any_skipped && end > start ? Math.log(end - start) : 0.5\r\n                    if (this.e.layout.xaxis.autorange) {\r\n                      this.e.layout.xaxis.autorange = false\r\n                      this.e.layout.xaxis.type = 'linear'\r\n                      this.e.layout.xaxis.dtick = 1\r\n                      this.e.layout.xaxis.range = [start - adj, end + adj]\r\n                    } else {\r\n                      this.e.layout.xaxis.range[0] = start - adj\r\n                      this.e.layout.xaxis.range[1] = end + adj\r\n                    }\r\n                  }\r\n                  if (b.lowerfence.length < this.previous_span) {\r\n                    Plotly.newPlot(this.e, traces, this.e.layout, this.e.config)\r\n                    this.e\r\n                      .on('plotly_hover', elements.plotly.mouseover.bind(this))\r\n                      .on('plotly_unhover', elements.plotly.mouseout.bind(this))\r\n                      .on('plotly_click', elements.plotly.click.bind(this))\r\n                  } else {\r\n                    Plotly.react(this.e, traces, this.e.layout, this.e.config)\r\n                  }\r\n                  setTimeout(trigger_resize, 300)\r\n                  this.previous_span = b.lowerfence.length\r\n                  this.state = state\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n      },\r\n      map: {\r\n        init: function (o) {\r\n          o.color = o.e.getAttribute('data-color')\r\n          o.time = o.e.getAttribute('data-colorTime')\r\n          o.click = o.e.getAttribute('data-click')\r\n          if (o.click && o.click in _u) o.clickto = _u[o.click]\r\n          o.parsed = {}\r\n          o.tab = 'tabpanel' === o.e.parentElement.getAttribute('role') ? o.e.parentElement : void 0\r\n          o.show = function (e) {\r\n            if (e.layer && e.layer[this.id]) {\r\n              const highlight_style = {\r\n                color: 'var(--border-highlight)',\r\n                weight: site.settings.polygon_outline + 1,\r\n                fillOpacity: 1,\r\n              }\r\n              if (!site.data.inited[this.parsed.dataset + o.id]) {\r\n                const time = site.map[this.id].match_time(\r\n                  site.data.meta.overall.value[\r\n                    site.data.variables[this.parsed.color].time_range[this.parsed.dataset][0] + this.parsed.time\r\n                  ]\r\n                )\r\n                if (e.layer[this.id][time]) e.layer[this.id][time].setStyle(highlight_style)\r\n              } else if (e.layer[this.id].setStyle) {\r\n                e.layer[this.id].setStyle(highlight_style)\r\n              }\r\n            }\r\n          }\r\n          o.revert = function (e) {\r\n            if (e.layer && e.layer[this.id]) {\r\n              const default_style = {\r\n                color: 'var(--border)',\r\n                weight: site.settings.polygon_outline,\r\n                fillOpacity: 0.7,\r\n              }\r\n              if (!site.data.inited[this.parsed.dataset + this.id]) {\r\n                const time = site.map[this.id].match_time(\r\n                  site.data.meta.overall.value[\r\n                    site.data.variables[this.parsed.color].time_range[this.parsed.dataset][0] + this.parsed.time\r\n                  ]\r\n                )\r\n                if (e.layer[this.id][time]) e.layer[this.id][time].setStyle(default_style)\r\n              } else {\r\n                e.layer[this.id].setStyle(default_style)\r\n              }\r\n            }\r\n          }\r\n          const dep = {type: 'update', id: o.id}\r\n          if (o.view) {\r\n            if (_u[o.view].time_agg in _u) add_dependency(_u[o.view].time_agg, dep)\r\n            if (_u[o.view].y) add_dependency(_u[o.view].y, dep)\r\n          } else o.view = defaults.dataview\r\n          add_dependency(o.view, dep)\r\n          if (o.color in _u) add_dependency(o.color, dep)\r\n          if (o.time) add_dependency(o.time, dep)\r\n          if (!o.e.style.height) o.e.style.height = o.options.height ? o.options.height : '400px'\r\n          if (o.options.overlays_from_measures && site.data.variable_info) {\r\n            if (!Array.isArray(site.map[o.id].overlays)) site.map[o.id].overlays = []\r\n            const overlays = site.map[o.id].overlays\r\n            Object.keys(site.data.variable_info).forEach(variable => {\r\n              const info = site.data.variable_info[variable]\r\n              if (info.layer && info.layer.source) {\r\n                if ('string' === typeof info.layer.source && patterns.time_ref.test(info.layer.source)) {\r\n                  const temp = info.layer.source\r\n                  info.layer.source = []\r\n                  for (\r\n                    let range = site.data.meta.ranges[variable], y = range[0], max = range[1] + 1, time;\r\n                    y < max;\r\n                    y++\r\n                  ) {\r\n                    time = site.data.meta.overall.value[y]\r\n                    info.layer.source.push({url: temp.replace(patterns.time_ref, time), time: time})\r\n                  }\r\n                }\r\n                patterns.time_ref.lastIndex = 0\r\n                const layer = {variable: variable, source: info.layer.source}\r\n                if (info.layer.filter && (Array.isArray(info.layer.filter) || info.layer.filter.feature))\r\n                  layer.filter = info.layer.filter\r\n                overlays.push(layer)\r\n              }\r\n            })\r\n          }\r\n          o.queue = this.queue_init.bind(o)()\r\n        },\r\n        queue_init: function () {\r\n          const theme = site.settings.theme_dark ? 'dark' : 'light',\r\n            showing = this.deferred || !this.tab || this.tab.classList.contains('show')\r\n          if (showing && window.L) {\r\n            this.map = L.map(this.e, this.options)\r\n            this.options = this.map.options\r\n            this.overlay = L.featureGroup().addTo(this.map)\r\n            this.displaying = L.featureGroup().addTo(this.map)\r\n            this.overlay_control = L.control\r\n              .layers()\r\n              .setPosition('topleft')\r\n              .addOverlay(this.overlay, 'Overlay')\r\n              .addTo(this.map)\r\n            this.tiles = {}\r\n            if (this.id in site.map) {\r\n              const tiles = site.map[this.id].tiles\r\n              site.map[this.id].u = this\r\n              if (tiles) {\r\n                if (tiles.url) {\r\n                  this.tiles[theme] = L.tileLayer(tiles.url, tiles.options)\r\n                  this.tiles[theme].addTo(this.map)\r\n                } else {\r\n                  Object.keys(tiles).forEach(k => {\r\n                    this.tiles[k] = L.tileLayer(tiles[k].url, tiles[k].options)\r\n                    if (theme === k) this.tiles[k].addTo(this.map)\r\n                  })\r\n                }\r\n              }\r\n              if (!('_raw' in site.map)) site.map._raw = {}\r\n              if (!('_queue' in site.map)) site.map._queue = {}\r\n              if (!('_layers' in site.map[this.id])) site.map[this.id]._layers = {}\r\n              const time = site.data.meta.overall.value[_u[this.view].parsed.time_agg],\r\n                by_time = []\r\n              site.map[this.id].shapes.forEach((shape, i) => {\r\n                const has_time = 'time' in shape\r\n                if (has_time) {\r\n                  if (!site.map[this.id].has_time) {\r\n                    site.map[this.id].has_time = true\r\n                    add_dependency(this.view, {type: 'update', id: this.id})\r\n                  }\r\n                  by_time.push(Number(shape.time))\r\n                }\r\n                let k = shape.name\r\n                if (!k) shape.name = k = site.metadata.datasets[i < site.metadata.datasets.length ? i : 0]\r\n                const mapId = k + (has_time ? shape.time : '')\r\n                if (!(mapId in site.map._queue)) site.map._queue[mapId] = shape\r\n                site.data.inited[mapId + this.id] = false\r\n                if (\r\n                  (site.data.loaded[k] || k === this.options.background_shapes) &&\r\n                  (k === mapId ||\r\n                    (time && site.map[this.id].match_time && shape.time == site.map[this.id].match_time(time)))\r\n                )\r\n                  retrieve_layer(this, shape)\r\n              })\r\n              if (site.map[this.id].has_time) {\r\n                by_time.sort()\r\n                site.map[this.id].match_time = function (time) {\r\n                  let i = by_time.length\r\n                  for (; i--; ) if (!i || by_time[i] <= time) break\r\n                  return by_time[i]\r\n                }.bind(by_time)\r\n              }\r\n              site.map[this.id].triggers = {}\r\n              site.map[this.id].overlay_summaries = {}\r\n              if (Array.isArray(site.map[this.id].overlays)) {\r\n                site.map[this.id].overlays.forEach(l => {\r\n                  if ('string' === typeof l.source) l.source = [{url: l.source}]\r\n                  const source = l.source\r\n                  source.forEach(s => {\r\n                    s.processed = false\r\n                    s.property_summaries = {}\r\n                    site.map._queue[s.url] = s\r\n                  })\r\n                  site.map[this.id].triggers[l.variable] = {source}\r\n                  const fs = l.filter\r\n                  if (fs) {\r\n                    const fa = Array.isArray(fs) ? fs : [fs]\r\n                    site.map[this.id].triggers[l.variable].filter = fa\r\n                    fa.forEach(f => {\r\n                      f.check = DataHandler.checks[f.operator]\r\n                    })\r\n                  }\r\n                })\r\n              }\r\n            }\r\n          } else {\r\n            this.deferred = true\r\n            setTimeout(this.queue, showing ? 0 : 2000)\r\n          }\r\n        },\r\n        mouseover: function (e) {\r\n          e.target.setStyle({\r\n            color: 'var(--border-highlight)',\r\n          })\r\n          update_subs(this.id, 'show', site.data.entities[e.target.feature.properties[e.target.source.id_property]])\r\n        },\r\n        mouseout: function (e) {\r\n          update_subs(this.id, 'revert', site.data.entities[e.target.feature.properties[e.target.source.id_property]])\r\n          e.target.setStyle({\r\n            color: 'var(--border)',\r\n          })\r\n        },\r\n        click: function (e) {\r\n          if (this.clickto) this.clickto.set(e.target.feature.properties[e.target.source.id_property])\r\n        },\r\n        update: async function (entity, caller, pass) {\r\n          if (this.queue > 0) clearTimeout(this.queue)\r\n          this.queue = -1\r\n          if (!pass) {\r\n            if (!this.tab || this.tab.classList.contains('show'))\r\n              this.queue = setTimeout(() => this.update(void 0, void 0, true), 50)\r\n          } else {\r\n            if (this.view && this.displaying) {\r\n              const parsed = this.parsed,\r\n                view = site.dataviews[this.view],\r\n                d = view.get.dataset(),\r\n                time = valueOf(view.time_agg),\r\n                map_time = site.map[this.id].has_time ? site.map[this.id].match_time(time) : '',\r\n                inited = d + map_time + this.id in site.data.inited,\r\n                mapId = inited ? d + map_time : d\r\n              if (site.map._queue && mapId in site.map._queue && !site.data.inited[mapId + this.id]) {\r\n                if (!inited || null !== time)\r\n                  retrieve_layer(this, site.map._queue[mapId], () => this.update(void 0, void 0, true))\r\n                return\r\n              }\r\n              if (!view.valid && site.data.inited[d]) {\r\n                view.state = ''\r\n                conditionals.dataview(view, void 0, true)\r\n              }\r\n              parsed.view = view\r\n              parsed.dataset = d\r\n              const vstate =\r\n                  view.value() +\r\n                  mapId +\r\n                  site.settings.background_shapes +\r\n                  site.settings.background_top +\r\n                  site.settings.background_polygon_outline +\r\n                  site.data.inited[this.options.background_shapes],\r\n                a = view.selection.all,\r\n                s = view.selection[site.settings.background_shapes && this.options.background_shapes ? 'ids' : 'all'],\r\n                c = valueOf(this.color || view.y)\r\n              if (site.settings.map_overlay && c in site.map[this.id].triggers) {\r\n                show_overlay(this, site.map[this.id].triggers[c], site.data.meta.overall.value[view.parsed.time_agg])\r\n              } else {\r\n                this.overlay_control.remove()\r\n                this.overlay.clearLayers()\r\n              }\r\n              if (site.data.inited[mapId + this.id] && s && view.valid) {\r\n                const ys = this.time\r\n                  ? _u[this.time]\r\n                  : view.time_agg\r\n                  ? view.time_agg in _u\r\n                    ? _u[view.time_agg]\r\n                    : parseInt(view.time_agg)\r\n                  : 0\r\n                parsed.palette = valueOf(view.palette) || site.settings.palette\r\n                if (!(parsed.palette in palettes)) parsed.palette = defaults.palette\r\n                const varc = await site.data.get_variable(c, this.view),\r\n                  summary = varc.views[this.view].summaries[d],\r\n                  time = (ys.parsed ? ys.value() - site.data.meta.times[d].range[0] : 0) - varc.time_range[d][0]\r\n                parsed.summary = summary\r\n                parsed.time = time\r\n                parsed.color = c\r\n                const subset = summary.n[ys] === view.n_selected.dataset ? 'rank' : 'subset_rank'\r\n                if (vstate !== this.vstate) {\r\n                  this.map._zoomAnimated = 'none' !== site.settings.map_animations\r\n                  Object.keys(this.reference_options).forEach(k => {\r\n                    this.options[k] = valueOf(this.reference_options[k])\r\n                    if ('zoomAnimation' === k) this.map._zoomAnimated = this.options[k]\r\n                  })\r\n                  this.displaying.clearLayers()\r\n                  this.fresh_shapes = true\r\n                  this.vstate = false\r\n                  let n = 0\r\n                  Object.keys(s).forEach(k => {\r\n                    const skl = s[k].layer\r\n                    if (skl && skl[this.id]) {\r\n                      const fg = k in a,\r\n                        cl = skl[this.id].has_time ? skl[this.id][map_time] : skl[this.id]\r\n                      if (cl && (fg || this.options.background_shapes === site.data.entities[k].group)) {\r\n                        n++\r\n                        cl.options.interactive = fg\r\n                        cl.addTo(this.displaying)\r\n                        if (fg) {\r\n                          if (site.settings.background_top) cl.bringToBack()\r\n                        } else {\r\n                          if (!site.settings.background_top) cl.bringToBack()\r\n                          cl.setStyle({\r\n                            fillOpacity: 0,\r\n                            color: 'var(--border-highlight)',\r\n                            weight: site.settings.background_polygon_outline,\r\n                          })\r\n                        }\r\n                        if (!this.vstate) this.vstate = vstate\r\n                      }\r\n                    }\r\n                  })\r\n                  this.overlay.bringToFront()\r\n                  if (n)\r\n                    if ('fly' === site.settings.map_animations) {\r\n                      setTimeout(() => this.map.flyToBounds(this.displaying.getBounds()), 400)\r\n                    } else {\r\n                      this.map.fitBounds(this.displaying.getBounds())\r\n                    }\r\n                }\r\n\r\n                // coloring\r\n                const k =\r\n                  c +\r\n                  this.vstate +\r\n                  parsed.palette +\r\n                  time +\r\n                  site.settings.polygon_outline +\r\n                  site.settings.color_by_order +\r\n                  site.settings.color_scale_center\r\n                if (k !== this.cstate) {\r\n                  this.cstate = k\r\n                  if (site.map[this.id]) {\r\n                    const ls = this.displaying._layers\r\n                    const n = summary.n[time]\r\n                    const missing = summary.missing[time]\r\n                    Object.keys(ls).forEach(id => {\r\n                      const lsi = ls[id]\r\n                      if (d === lsi.entity.group) {\r\n                        const e = a[lsi.entity.features.id],\r\n                          es = e && e.views[this.view][subset]\r\n                        lsi.setStyle({\r\n                          fillOpacity: 0.7,\r\n                          color: 'var(--border)',\r\n                          fillColor:\r\n                            e && c in es\r\n                              ? pal(e.get_value(c, time), parsed.palette, summary, time, es[c][time] - missing, n)\r\n                              : defaults.missing,\r\n                          weight: site.settings.polygon_outline,\r\n                        })\r\n                      }\r\n                    })\r\n                  } else {\r\n                    if (!('_waiting' in site.map)) site.map._waiting = {}\r\n                    if (!(d in site.map._waiting)) site.map._waiting[d] = []\r\n                    if (-1 === site.map._waiting[d].indexOf(this.id)) site.map._waiting[d].push(this.id)\r\n                    if (-1 === site.map._waiting[d].indexOf(this.view)) site.map._waiting[d].push(this.view)\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n      },\r\n      info: {\r\n        init: function (o) {\r\n          o.depends = {}\r\n          o.has_default = o.options.default && (o.options.default.title || o.options.default.body)\r\n          add_subs(o.view, o)\r\n          if (o.options.floating) {\r\n            document.body.appendChild(o.e)\r\n            o.e.classList.add('hidden')\r\n            document.addEventListener('mousemove', function (e) {\r\n              if (o.showing) {\r\n                const f = page.content.getBoundingClientRect()\r\n                o.e.style.top = (e.y > f.height / 2 ? e.y - o.e.getBoundingClientRect().height - 10 : e.y + 10) + 'px'\r\n                o.e.style.left = (e.x > f.width / 2 ? e.x - o.e.getBoundingClientRect().width - 10 : e.x + 10) + 'px'\r\n              }\r\n            })\r\n          }\r\n          o.show = function (e, u) {\r\n            this.update(e, u)\r\n            this.showing = true\r\n            if (this.options.floating) this.e.classList.remove('hidden')\r\n            if (this.parts.title) {\r\n              if (this.selection) {\r\n                this.parts.title.base.classList.add('hidden')\r\n              } else this.parts.title.default.classList.add('hidden')\r\n              this.parts.title.temp.classList.remove('hidden')\r\n            }\r\n            if (this.parts.body) {\r\n              if (this.selection) {\r\n                this.parts.body.base.classList.add('hidden')\r\n              } else this.parts.body.default.classList.add('hidden')\r\n              this.parts.body.temp.classList.remove('hidden')\r\n            }\r\n          }\r\n          o.revert = function () {\r\n            this.showing = false\r\n            if (this.options.floating) {\r\n              this.e.classList.add('hidden')\r\n            } else {\r\n              if (this.parts.title) {\r\n                if (this.selection) {\r\n                  this.parts.title.base.classList.remove('hidden')\r\n                } else if (this.has_default) this.parts.title.default.classList.remove('hidden')\r\n                this.parts.title.temp.classList.add('hidden')\r\n              }\r\n              if (this.parts.body) {\r\n                if (this.selection) {\r\n                  this.parts.body.base.classList.remove('hidden')\r\n                } else if (this.has_default) this.parts.body.default.classList.remove('hidden')\r\n                this.parts.body.temp.classList.add('hidden')\r\n              }\r\n            }\r\n          }\r\n          o.parts = {}\r\n          function parse_part(o, t) {\r\n            const p = {\r\n              parent: o,\r\n              text: t,\r\n              parsed: {},\r\n              ref: true,\r\n              selection: false,\r\n              get: function (entity, caller) {\r\n                if (this.ref) {\r\n                  if (entity)\r\n                    if ('features' in this.parsed) {\r\n                      return entity.features[this.parsed.features]\r\n                    } else if ('data' in this.parsed) {\r\n                      if ('value' === this.text) {\r\n                        this.parsed.data = valueOf(o.options.variable || caller.color || caller.y || _u[o.view].y)\r\n                      } else if (this.text in _u) this.parsed.data = valueOf(this.text)\r\n                      if (!(this.parsed.data in site.data.variables)) return this.parsed.data\r\n                      const info = site.data.variable_info[this.parsed.data],\r\n                        v = site.data.format_value(\r\n                          entity.get_value(this.parsed.data, this.parent.time),\r\n                          info && info.type ? patterns.int_types.test(info.type) : true\r\n                        )\r\n                      return NaN !== v && info.type in value_types ? value_types[info.type](v) : v\r\n                    }\r\n                  if ('data' in this.parsed) {\r\n                    return site.data.meta.times[this.parent.dataset].value[this.parent.time_agg]\r\n                  } else if (\r\n                    'variables' in this.parsed &&\r\n                    (this.value_source || this.parent.v in site.data.variable_info)\r\n                  ) {\r\n                    return site.data.variable_info[valueOf(this.value_source || this.parent.v)][this.parsed.variables]\r\n                  }\r\n                  return this.text\r\n                } else return this.text\r\n              },\r\n            }\r\n            if ('value' === t) {\r\n              p.parsed.data = o.options.variable\r\n            } else if ('summary' === t) {\r\n              o.options.show_summary = true\r\n              o.e.classList.add('info-summary-wrapper')\r\n              const e = document.createElement('table')\r\n              e.className = 'info-summary'\r\n              p.parsed.summary = e\r\n              e.appendChild(document.createElement('tr'))\r\n              e.appendChild(document.createElement('tr'))\r\n              ;['NAs', 'Min', 'Q1', 'Mean', 'Median', 'Q3', 'Max'].forEach(h => {\r\n                e.firstElementChild.appendChild(document.createElement('th'))\r\n                e.firstElementChild.lastElementChild.innerText = h\r\n                e.lastElementChild.appendChild(document.createElement('td'))\r\n                e.lastElementChild.lastElementChild.innerText = 'NA'\r\n              })\r\n            } else if ('filter' === t) {\r\n              const e = document.createElement('table')\r\n              e.className = 'info-filter'\r\n              p.parsed.filter = e\r\n            }\r\n            if (patterns.features.test(t)) {\r\n              p.parsed.features = t.replace(patterns.features, '')\r\n            } else if (patterns.data.test(t)) {\r\n              p.parsed.data = t.replace(patterns.data, '')\r\n            } else if (patterns.variables.test(t)) {\r\n              p.parsed.variables = t.replace(patterns.variables, '')\r\n            } else p.ref = false\r\n            return p\r\n          }\r\n          if (o.options.title) {\r\n            o.parts.title = parse_part(o, o.options.title)\r\n            if ('variables' in o.parts.title.parsed && patterns.measure_name.test(o.parts.title.parsed.variables)) {\r\n              o.parts.title.base = document.createElement('button')\r\n              o.parts.title.base.type = 'button'\r\n              o.parts.title.base.setAttribute('data-bs-toggle', 'modal')\r\n              o.parts.title.base.setAttribute('data-bs-target', '#variable_info_display')\r\n              o.parts.title.base.addEventListener('click', show_variable_info.bind(o))\r\n            } else o.parts.title.base = document.createElement('p')\r\n            o.parts.title.base.appendChild(document.createElement('span'))\r\n            o.parts.title.temp = document.createElement('p')\r\n            o.parts.title.default = document.createElement('p')\r\n            o.parts.title.temp.className =\r\n              o.parts.title.base.className =\r\n              o.parts.title.default.className =\r\n                'info-title hidden'\r\n            if (o.has_default && o.options.default.title) {\r\n              o.e.appendChild(o.parts.title.default)\r\n              o.parts.title.default.innerText = o.options.default.title\r\n            }\r\n            if (!o.parts.title.ref) o.parts.title.base.firstElementChild.innerText = o.parts.title.get()\r\n            o.e.appendChild(o.parts.title.base)\r\n            o.e.appendChild(o.parts.title.temp)\r\n            o.parts.title.base.classList.add('hidden')\r\n            o.parts.title.temp.classList.add('hidden')\r\n          }\r\n          if (o.options.body) {\r\n            o.parts.body = {\r\n              base: document.createElement('div'),\r\n              temp: document.createElement('div'),\r\n              default: document.createElement('div'),\r\n              rows: [],\r\n            }\r\n            o.parts.body.temp.className =\r\n              o.parts.body.base.className =\r\n              o.parts.body.default.className =\r\n                'info-body hidden'\r\n            if (o.has_default && o.options.default.body) o.parts.body.default.innerText = o.options.default.body\r\n            let h = 0\r\n            o.options.body.forEach((op, i) => {\r\n              const p = {\r\n                name: parse_part(o, op.name),\r\n                value: parse_part(o, op.value),\r\n              }\r\n              o.parts.body.rows[i] = p\r\n              p.base = document.createElement('div')\r\n              o.parts.body.base.appendChild(p.base)\r\n              p.temp = document.createElement('div')\r\n              o.parts.body.temp.appendChild(p.temp)\r\n              p.temp.className = p.base.className = 'info-body-row-' + op.style\r\n              h += 24 + ('stack' === op.style ? 24 : 0)\r\n              if (p.name) {\r\n                if (\r\n                  o.options.variable_info &&\r\n                  'variables' in p.name.parsed &&\r\n                  patterns.measure_name.test(p.name.parsed.variables)\r\n                ) {\r\n                  p.base.appendChild(document.createElement('button'))\r\n                  p.base.lastElementChild.type = 'button'\r\n                  p.base.lastElementChild.setAttribute('data-bs-toggle', 'modal')\r\n                  p.base.lastElementChild.setAttribute('data-bs-target', '#variable_info_display')\r\n                  p.base.lastElementChild.addEventListener('click', show_variable_info.bind(o))\r\n                } else p.base.appendChild(document.createElement('div'))\r\n                p.temp.appendChild(document.createElement('div'))\r\n                p.temp.lastElementChild.className = p.base.lastElementChild.className = 'info-body-row-name'\r\n                p.temp.lastElementChild.innerText = p.base.lastElementChild.innerText = p.name.get()\r\n              }\r\n              if (p.value) {\r\n                p.base.appendChild(document.createElement('div'))\r\n                p.temp.appendChild(document.createElement('div'))\r\n                if ('summary' in p.value.parsed) {\r\n                  p.base.lastElementChild.appendChild(p.value.parsed.summary)\r\n                } else if ('filter' in p.value.parsed) {\r\n                  p.base.lastElementChild.appendChild(p.value.parsed.filter)\r\n                } else {\r\n                  p.temp.lastElementChild.className = p.base.lastElementChild.className =\r\n                    'info-body-row-value' + ('statement' === p.value.parsed.variables ? ' statement' : '')\r\n                  if (p.name.ref && 'value' === p.value.text) p.value.ref = true\r\n                  if (!p.value.ref)\r\n                    p.temp.lastElementChild.innerText = p.base.lastElementChild.innerText = p.value.get()\r\n                }\r\n              }\r\n            })\r\n            o.e.style.minHeight = h + 'px'\r\n            o.e.appendChild(o.parts.body.base)\r\n            o.e.appendChild(o.parts.body.default)\r\n            o.e.appendChild(o.parts.body.temp)\r\n          }\r\n          o.update()\r\n        },\r\n        update: async function (entity, caller, pass) {\r\n          const v = site.dataviews[this.view]\r\n          const y = _u[v.time_agg]\r\n          this.v = valueOf(this.options.variable || (caller && (caller.color || caller.y)) || v.y)\r\n          this.dataset = v.get.dataset()\r\n          if (y && !(this.dataset in site.data.meta.times)) {\r\n            if (!(this.id in site.data.data_queue[this.dataset]))\r\n              site.data.data_queue[this.dataset][this.id] = this.update\r\n            return\r\n          }\r\n          this.time_agg = y ? y.value() - site.data.meta.times[this.dataset].range[0] : 0\r\n          const time_range = this.v && site.data.variables[this.v].time_range[this.dataset]\r\n          this.time = time_range ? this.time_agg - time_range[0] : 0\r\n          if (this.options.show_summary) {\r\n            this.var = this.v && (await site.data.get_variable(this.v, this.view))\r\n            this.summary = this.view in this.var.views && this.var.views[this.view].summaries[this.dataset]\r\n          }\r\n          if (!this.processed) {\r\n            this.processed = true\r\n            if (!this.options.floating) {\r\n              add_dependency(this.view, {type: 'update', id: this.id})\r\n              if (v.y in _u) add_dependency(v.y, {type: 'update', id: this.id})\r\n              if (y) add_dependency(v.time_agg, {type: 'update', id: this.id})\r\n              if (this.options.variable in _u) add_dependency(this.options.variable, {type: 'update', id: this.id})\r\n            }\r\n            if (this.parts.body)\r\n              this.parts.body.rows.forEach(p => {\r\n                if (!p.value.ref && p.value.text in _u && 'variables' in p.name.parsed) {\r\n                  p.name.value_source = p.value.value_source = p.value.text\r\n                  p.value.ref = true\r\n                  p.value.parsed.data = ''\r\n                }\r\n              })\r\n          }\r\n          if (entity) {\r\n            // hover information\r\n            if (this.parts.title) {\r\n              this.parts.title.temp.innerText = this.parts.title.get(entity, caller)\r\n            }\r\n            if (this.parts.body) {\r\n              this.parts.body.rows.forEach(p => {\r\n                if (p.name.ref) {\r\n                  if (p.name.value_source) p.name.value_source = p.value.text\r\n                  e = p.name.get(entity, caller)\r\n                  if ('object' !== typeof e) {\r\n                    p.temp.firstElementChild.innerText = parse_variables(e, p.value.parsed.variables, this, entity)\r\n                  }\r\n                }\r\n                if (p.value.ref) {\r\n                  if (p.value.value_source) p.value.value_source = p.value.text\r\n                  e = p.value.get(entity, caller)\r\n                  if ('object' !== typeof e) {\r\n                    p.temp.lastElementChild.innerText = parse_variables(e, p.value.parsed.variables, this, entity)\r\n                  }\r\n                }\r\n              })\r\n            }\r\n          } else if (!this.options.floating) {\r\n            if (this.queue > 0) clearTimeout(this.queue)\r\n            this.queue = -1\r\n            if (!pass) {\r\n              if (!this.tab || this.tab.classList.contains('show'))\r\n                this.queue = setTimeout(() => this.update(void 0, void 0, true), 50)\r\n            } else {\r\n              // base information\r\n              entity = site.data.entities[v.get.ids(true)]\r\n              if (entity) {\r\n                // when showing a selected region\r\n                this.selection = true\r\n                if (this.parts.title) {\r\n                  if (this.parts.title.value_source) p.title.value_source = p.value.text\r\n                  this.parts.title.base.classList.remove('hidden')\r\n                  this.parts.title.default.classList.add('hidden')\r\n                }\r\n                if (this.parts.body && this.has_default) this.parts.body.default.classList.add('hidden')\r\n              } else {\r\n                // when no ID is selected\r\n                this.selection = false\r\n                if (this.parts.title) {\r\n                  if (this.has_default) {\r\n                    this.parts.title.base.classList.add('hidden')\r\n                    this.parts.title.default.classList.remove('hidden')\r\n                  } else if (!this.parts.title.ref || !('features' in this.parts.title.parsed))\r\n                    this.parts.title.base.classList.remove('hidden')\r\n                }\r\n                if (this.parts.body) {\r\n                  this.parts.body.base.classList.add('hidden')\r\n                  if (this.has_default) this.parts.body.default.classList.remove('hidden')\r\n                }\r\n              }\r\n              if (this.parts.title) {\r\n                this.parts.title.base.firstElementChild.innerText = this.parts.title.get(entity, caller)\r\n              }\r\n              if (this.parts.body) {\r\n                if (!this.options.subto) this.parts.body.base.classList.remove('hidden')\r\n                this.parts.body.rows.forEach(p => {\r\n                  if ('summary' in p.value.parsed) {\r\n                    const e = p.value.parsed.summary.lastElementChild.children\r\n                    filter_components.summary.forEach((c, i) => {\r\n                      e[i].innerText = site.data.format_value(this.summary[c][this.time], 0 === i)\r\n                    })\r\n                  } else if ('filter' in p.value.parsed) {\r\n                    const e = p.value.parsed.filter\r\n                    let n = 0\r\n                    e.innerHTML = ''\r\n                    if (_u._entity_filter.selected.length) {\r\n                      n++\r\n                      const s = document.createElement('tr')\r\n                      s.className = 'filter-display'\r\n                      let ss = document.createElement('td')\r\n                      s.appendChild(ss)\r\n                      ss.appendChild(document.createElement('span'))\r\n                      ss.lastElementChild.className = 'syntax-variable'\r\n                      ss.lastElementChild.innerText = 'Select Entities'\r\n                      ss = document.createElement('td')\r\n                      s.appendChild(ss)\r\n                      ss.appendChild(document.createElement('span'))\r\n                      ss.lastElementChild.className = 'syntax-operator'\r\n                      ss.lastElementChild.innerText = ':'\r\n                      ss = document.createElement('td')\r\n                      s.appendChild(ss)\r\n                      ss.setAttribute('colspan', 2)\r\n                      ss.appendChild(document.createElement('span'))\r\n                      ss.lastElementChild.className = 'syntax-value'\r\n                      let ids = ''\r\n                      _u._entity_filter.selected.forEach(id => {\r\n                        const entity = site.data.entities[id]\r\n                        ids += (ids ? ', ' : '') + (entity && entity.features ? entity.features.name : id)\r\n                      })\r\n                      ss.lastElementChild.innerText = ids\r\n                      e.appendChild(s)\r\n                    }\r\n                    _u._base_filter.c.forEach(f => {\r\n                      const checked = f.passed + f.failed\r\n                      if (f.active && checked) {\r\n                        const result = f.passed + '/' + checked\r\n                        f.e.children[1].lastElementChild.innerText = result\r\n                        n++\r\n                        const s = document.createElement('tr'),\r\n                          info = site.data.variable_info[f.variable]\r\n                        s.className = 'filter-display'\r\n                        let ss = document.createElement('td')\r\n                        s.appendChild(ss)\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.className = 'syntax-variable'\r\n                        ss.lastElementChild.title = f.variable\r\n                        ss.lastElementChild.innerText = info.short_name\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.innerText = ' ('\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.className = 'syntax-component'\r\n                        ss.lastElementChild.innerText = f.component\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.innerText = ')'\r\n                        ss = document.createElement('td')\r\n                        s.appendChild(ss)\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.className = 'syntax-operator'\r\n                        ss.lastElementChild.innerText = f.operator\r\n                        ss = document.createElement('td')\r\n                        s.appendChild(ss)\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.className = 'syntax-value'\r\n                        ss.lastElementChild.innerText =\r\n                          'number' === typeof f.value ? site.data.format_value(f.value) : f.value\r\n                        ss = document.createElement('td')\r\n                        s.appendChild(ss)\r\n                        ss.appendChild(document.createElement('span'))\r\n                        ss.lastElementChild.innerText =\r\n                          '(' + (f.value_source ? f.value_source + '; ' : '') + result + ')'\r\n                        e.appendChild(s)\r\n                      }\r\n                    })\r\n                    this.e.classList[n ? 'remove' : 'add']('hidden')\r\n                  }\r\n                  if (('variables' in p.value.parsed || 'summary' in p.value.parsed) && !(v.y in this.depends)) {\r\n                    this.depends[v.y] = true\r\n                    add_dependency(v.y, {type: 'update', id: this.id})\r\n                  } else if ('filter' in p.value.parsed && !('_base_filter' in this.depends)) {\r\n                    this.depends._base_filter = true\r\n                    add_dependency('_base_filter', {type: 'update', id: this.id})\r\n                  }\r\n                  if (p.name.ref) {\r\n                    if (p.name.value_source) p.name.value_source = p.value.text\r\n                    const e = p.name.get(entity, caller)\r\n                    if ('object' !== typeof e) {\r\n                      p.base.firstElementChild.innerText = e\r\n                    }\r\n                  }\r\n                  if (p.value.ref) {\r\n                    const e = p.value.get(entity, caller)\r\n                    if ('object' === typeof e) {\r\n                      if (Array.isArray(e) && 'sources' === p.value.parsed.variables) {\r\n                        p.base.innerHTML = ''\r\n                        p.base.appendChild(document.createElement('table'))\r\n                        p.base.lastElementChild.className = 'source-table'\r\n                        p.base.firstElementChild.appendChild(document.createElement('thead'))\r\n                        p.base.firstElementChild.firstElementChild.appendChild(document.createElement('tr'))\r\n                        p.base.firstElementChild.firstElementChild.firstElementChild.appendChild(\r\n                          document.createElement('th')\r\n                        )\r\n                        p.base.firstElementChild.firstElementChild.firstElementChild.appendChild(\r\n                          document.createElement('th')\r\n                        )\r\n                        p.base.firstElementChild.firstElementChild.firstElementChild.firstElementChild.innerText =\r\n                          'Source'\r\n                        p.base.firstElementChild.firstElementChild.firstElementChild.lastElementChild.innerText =\r\n                          'Accessed'\r\n                        p.base.firstElementChild.appendChild(document.createElement('tbody'))\r\n                        e.forEach(ei => {\r\n                          p.base.firstElementChild.lastElementChild.appendChild(make_variable_source(ei, true))\r\n                        })\r\n                      }\r\n                    } else {\r\n                      p.base.lastElementChild.innerText = parse_variables(e, p.value.parsed.variables, this, entity)\r\n                    }\r\n                  }\r\n                })\r\n              }\r\n            }\r\n          }\r\n          this.revert()\r\n        },\r\n      },\r\n      datatable: {\r\n        init: function (o) {\r\n          o.e.appendChild(document.createElement('thead'))\r\n          o.e.appendChild(document.createElement('tbody'))\r\n          o.click = o.e.getAttribute('data-click')\r\n          o.features = o.options.features\r\n          o.parsed = {summary: {}, order: [], time: -1, color: '', dataset: _u[o.view].get.dataset(), time_index: {}}\r\n          o.header = []\r\n          o.rows = {}\r\n          o.rowIds = {}\r\n          o.tab = 'tabpanel' === o.e.parentElement.getAttribute('role') ? o.e.parentElement : void 0\r\n          const time = site.data.meta.times[o.parsed.dataset]\r\n          o.style = document.head.appendChild(document.createElement('style'))\r\n          if (o.tab) {\r\n            document.getElementById(o.e.parentElement.getAttribute('aria-labelledby')).addEventListener(\r\n              'click',\r\n              function () {\r\n                if (!this.e.parentElement.classList.contains('active')) {\r\n                  setTimeout(this.update, 155)\r\n                  setTimeout(trigger_resize, 155)\r\n                }\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.e.addEventListener('mouseover', elements.datatable.mouseover.bind(o))\r\n          o.e.addEventListener('mouseout', elements.datatable.mouseout.bind(o))\r\n          if (o.click) {\r\n            if (o.click in _u) o.clickto = _u[o.click]\r\n            o.e.addEventListener('click', elements.datatable.click.bind(o))\r\n          }\r\n          o.show = function (e) {\r\n            if (e.features && e.features.id in this.rows) {\r\n              if (site.settings.table_autoscroll) {\r\n                this.rows[e.features.id].scrollTo('smooth' === site.settings.table_scroll_behavior)\r\n              }\r\n              if (this.pending > 0) clearTimeout(this.pending)\r\n              this.pending = -1\r\n              const row = this.rows[e.features.id].node()\r\n              if (row) {\r\n                row.classList.add('highlighted')\r\n              } else {\r\n                this.pending = setTimeout(\r\n                  function () {\r\n                    const row = this.node()\r\n                    if (row) row.classList.add('highlighted')\r\n                  }.bind(this.rows[e.features.id]),\r\n                  0\r\n                )\r\n              }\r\n            }\r\n          }\r\n          o.revert = function () {\r\n            if (this.pending > 0) clearTimeout(this.pending)\r\n            this.e.querySelectorAll('tr.highlighted').forEach(e => e.classList.remove('highlighted'))\r\n          }\r\n          o.options.variable_source = o.options.variables\r\n          if (o.options.variables) {\r\n            if ('string' === typeof o.options.variables) {\r\n              if (o.options.variables in _u) {\r\n                add_dependency(o.options.variables, {type: 'update', id: o.id})\r\n                o.options.variables = valueOf(o.options.variables)\r\n                o.options.single_variable = 'string' === typeof o.options.variables\r\n              } else if (!o.options.single_variable) {\r\n                o.options.single_variable = [{name: o.options.single_variable}]\r\n              }\r\n            }\r\n          } else o.options.variables = Object.keys(site.data.variables)\r\n          if (\r\n            'string' !== typeof o.options.variables &&\r\n            o.options.variables.length &&\r\n            'string' === o.options.variables[0]\r\n          ) {\r\n            o.options.variables = o.options.variables.map(v => {\r\n              name: v\r\n            })\r\n          }\r\n          if (o.options.single_variable) {\r\n            const c = o.options.variables,\r\n              k = c.name || c\r\n            o.header.push({title: 'Name', data: 'entity.features.name'})\r\n            if (time && time.is_single) o.variable_header = true\r\n            const t = k in site.data.variables && site.data.variables[k].time_range[o.parsed.dataset]\r\n            if (t)\r\n              for (let n = t[1] - t[0] + 1; n--; ) {\r\n                o.header[n + 1] = {\r\n                  title: o.variable_header ? c.title || site.data.format_label(k) : time.value[n + t[0]] + '',\r\n                  data: site.data.get_value,\r\n                  render: DataHandler.retrievers.row_time.bind({\r\n                    i: n,\r\n                    o: t[0],\r\n                    format_value: site.data.format_value.bind(site.data),\r\n                  }),\r\n                }\r\n              }\r\n            o.options.order = [[o.header.length - 1, 'dsc']]\r\n          } else if (o.options.wide) {\r\n            if (o.features) {\r\n              if ('string' === typeof o.features) o.features = [{name: o.features}]\r\n              o.features.forEach(f => {\r\n                o.header.push({\r\n                  title: f.title || f.name,\r\n                  data: 'entity.features.' + f.name.replace(patterns.all_periods, '\\\\.'),\r\n                })\r\n              })\r\n            }\r\n            for (let i = o.options.variables.length; i--; ) {\r\n              if ('string' === typeof o.options.variables[i]) o.options.variables[i] = {name: o.options.variables[i]}\r\n              const c = o.options.variables[i]\r\n              if (!c.source) c.source = c.name in site.data.variables ? 'data' : 'features'\r\n              o.header.push(\r\n                'features' === c.source\r\n                  ? {\r\n                      title: c.title || site.data.format_label(c.name),\r\n                      data: 'entity.features.' + c.name.toLowerCase().replace(patterns.all_periods, '\\\\.'),\r\n                    }\r\n                  : {\r\n                      title: c.title || site.data.format_label(c.name),\r\n                      render: async function (d, type, row) {\r\n                        if ('data' === this.c.source) {\r\n                          if (this.c.name in site.data.variables) {\r\n                            const v = await site.data.get_variable(this.c.name, this.o.view)\r\n                            const i = row.time - v.time_range[this.o.parsed.dataset][0]\r\n                            return i < 0 ? NaN : row.entity.get_value(this.c.name, i)\r\n                          } else return NaN\r\n                        } else\r\n                          return this.c.source in row.entity && this.c.name in row.entity[this.c.source]\r\n                            ? row.entity[this.c.source][this.c.name]\r\n                            : NaN\r\n                      }.bind({o, c}),\r\n                    }\r\n              )\r\n            }\r\n          } else {\r\n            o.filters = o.options.filters\r\n            o.current_filter = {}\r\n            if (!time.is_single) {\r\n              o.header.push({\r\n                title: 'Year',\r\n                data: 'entity.time.value',\r\n                render: function (d, type, row) {\r\n                  const t = row.time + row.offset\r\n                  return d && t >= 0 && t < d.length ? d[t] : NaN\r\n                },\r\n              })\r\n            }\r\n            if (o.features) {\r\n              if ('string' === typeof o.features) o.features = [{name: o.features}]\r\n              o.features.forEach(f => {\r\n                o.header.splice(0, 0, {\r\n                  title: f.title || f.name,\r\n                  data: 'entity.features.' + f.name.replace(patterns.all_periods, '\\\\.'),\r\n                })\r\n              })\r\n            }\r\n            o.header.push({\r\n              title: 'Variable',\r\n              data: function (row) {\r\n                return row.variable in row.entity.variables\r\n                  ? row.entity.variables[row.variable].meta.short_name\r\n                  : row.variable\r\n              },\r\n            })\r\n            o.header.push({\r\n              title: 'Value',\r\n              data: site.data.get_value,\r\n              render: function (d, type, row) {\r\n                return d\r\n                  ? 'number' === typeof d[row.time]\r\n                    ? site.data.format_value(d[row.time], row.int)\r\n                    : d[row.time]\r\n                  : ''\r\n              },\r\n            })\r\n          }\r\n          if (o.view) {\r\n            add_dependency(o.view, {type: 'update', id: o.id})\r\n            add_dependency(o.view + '_filter', {type: 'update', id: o.id})\r\n            add_dependency(_u[o.view].time_agg, {type: 'update', id: o.id})\r\n          } else o.view = defaults.dataview\r\n          o.queue = this.queue_init.bind(o)()\r\n        },\r\n        queue_init: function () {\r\n          const showing = this.deferred || !this.tab || this.tab.classList.contains('show')\r\n          if (showing && window.jQuery && window.DataTable && 'get' in site.dataviews[this.view]) {\r\n            this.options.columns = this.header\r\n            this.table = $(this.e).DataTable(this.options)\r\n            this.update()\r\n          } else {\r\n            this.deferred = true\r\n            setTimeout(this.queue, showing ? 0 : 2000)\r\n          }\r\n        },\r\n        update: async function (pass) {\r\n          if (this.queue > 0) clearTimeout(this.queue)\r\n          this.queue = -1\r\n          if (!pass) {\r\n            if (!this.tab || this.tab.classList.contains('show')) this.queue = setTimeout(() => this.update(true), 50)\r\n          } else {\r\n            if (this.table) {\r\n              let vn =\r\n                this.options.variable_source &&\r\n                valueOf(this.options.variable_source).replace(patterns.all_periods, '\\\\.')\r\n              const v = _u[this.view],\r\n                d = v.get.dataset()\r\n              if (!site.data.inited[d]) return\r\n              const times = site.data.meta.times[d],\r\n                state =\r\n                  d +\r\n                  v.value() +\r\n                  v.get.time_filters() +\r\n                  site.settings.digits +\r\n                  vn +\r\n                  site.settings.theme_dark +\r\n                  site.settings.show_empty_times,\r\n                update = state !== this.state,\r\n                time = valueOf(v.time_agg),\r\n                variable = await site.data.get_variable(vn, this.view)\r\n              this.parsed.time_range = variable ? variable.time_range[d] : times.info.time_range[d]\r\n              this.parsed.time = ('number' === typeof time ? time - times.range[0] : 0) - this.parsed.time_range[0]\r\n              if (update) {\r\n                this.rows = {}\r\n                this.rowIds = {}\r\n                this.table.clear()\r\n                let redraw = true\r\n                if (v.valid) {\r\n                  this.state = state\r\n                  Object.keys(this.reference_options).forEach(\r\n                    k => (this.options[k] = valueOf(this.reference_options[k]))\r\n                  )\r\n                  if (this.options.single_variable) {\r\n                    this.parsed.time_index = {}\r\n                    this.parsed.dataset = d\r\n                    this.parsed.color = vn\r\n                    this.parsed.summary = this.view in variable.views ? variable.views[this.view].summaries[d] : false\r\n                    this.parsed.order =\r\n                      this.view in variable.views ? variable.views[this.view].order[d][this.parsed.time] : false\r\n                    if (this.header.length < 2 || d !== this.header[1].dataset || vn !== this.header[1].variable) {\r\n                      this.table.destroy()\r\n                      $(this.e).empty()\r\n                      this.header = [{title: 'Name', data: 'entity.features.name', type: 'string'}]\r\n                      if (-1 !== this.parsed.time_range[0]) {\r\n                        for (let n = this.parsed.time_range[2]; n--; ) {\r\n                          this.header[n + 1] = {\r\n                            dataset: d,\r\n                            variable: vn,\r\n                            type: 'string' === variable.type ? 'string' : 'num',\r\n                            title: this.variable_header\r\n                              ? this.options.variables.title || site.data.format_label(vn)\r\n                              : times.value[n + this.parsed.time_range[0]] + '',\r\n                            data: site.data.get_value,\r\n                            render: DataHandler.retrievers.row_time.bind({\r\n                              i: n,\r\n                              o: this.parsed.time_range[0],\r\n                              format_value: site.data.format_value.bind(site.data),\r\n                            }),\r\n                          }\r\n                        }\r\n                      } else this.state = ''\r\n                      this.options.order[0][0] = this.header.length - 1\r\n                      this.options.columns = this.header\r\n                      this.table = $(this.e).DataTable(this.options)\r\n                    }\r\n                    const n = this.header.length,\r\n                      ns = this.parsed.summary.n\r\n                    let reset\r\n                    for (let i = 1, show = false, nshowing = 0; i < n; i++) {\r\n                      show = v.times[i - 1 + this.parsed.time_range[0]] && (site.settings.show_empty_times || ns[i - 1])\r\n                      this.table.column(i).visible(show, false)\r\n                      if (show) {\r\n                        this.parsed.time_index[times.value[i - 1 + this.parsed.time_range[0]]] = ++nshowing\r\n                        reset = false\r\n                      }\r\n                    }\r\n                    if (reset) this.state = ''\r\n                  }\r\n                  if (this.options.wide) {\r\n                    Object.keys(v.selection.all).forEach(k => {\r\n                      if (vn) {\r\n                        if (vn in v.selection.all[k].views[this.view].summary) {\r\n                          this.rows[k] = this.table.row.add({\r\n                            dataset: d,\r\n                            variable: vn,\r\n                            offset: this.parsed.time_range[0],\r\n                            entity: v.selection.all[k],\r\n                            int: patterns.int_types.test(site.data.variable_info[vn].type),\r\n                          })\r\n                          this.rowIds[this.rows[k].selector.rows] = k\r\n                        }\r\n                      } else {\r\n                        for (let i = times.n; i--; ) {\r\n                          this.rows[k] = this.table.row.add({\r\n                            time: i,\r\n                            entity: v.selection.all[k],\r\n                          })\r\n                          this.rowIds[this.rows[k].selector.rows] = k\r\n                        }\r\n                      }\r\n                    })\r\n                  } else {\r\n                    if (this.filters)\r\n                      Object.keys(this.filters).forEach(f => {\r\n                        this.current_filter[c] = valueOf(f)\r\n                      })\r\n                    const va = []\r\n                    let varstate = '' + this.parsed.dataset + v.get.ids(true) + v.get.features() + site.settings.digits\r\n                    for (let i = this.options.variables.length; i--; ) {\r\n                      vn = this.options.variables[i].name || this.options.variables[i]\r\n                      pass = !this.filters\r\n                      const variable = await site.data.get_variable(vn, this.view)\r\n                      if (vn in site.data.variables && 'meta' in variable) {\r\n                        if (this.options.filters) {\r\n                          for (const c in this.current_filter)\r\n                            if (c in variable.meta) {\r\n                              pass = variable.meta[c] === this.current_filter[c]\r\n                              if (!pass) break\r\n                            }\r\n                        } else pass = true\r\n                      }\r\n                      if (pass) {\r\n                        varstate += vn\r\n                        va.push({\r\n                          variable: vn,\r\n                          int: patterns.int_types.test(site.data.variable_info[vn].type),\r\n                          time_range: variable.time_range[d],\r\n                          renderer: function (o, s) {\r\n                            const k = s.features.id,\r\n                              r = this.time_range,\r\n                              n = r[1]\r\n                            for (let i = r[0]; i <= n; i++) {\r\n                              o.rows[k] = o.table.row.add({\r\n                                offset: this.time_range[0],\r\n                                time: i - this.time_range[0],\r\n                                dataset: d,\r\n                                variable: this.variable,\r\n                                entity: s,\r\n                                int: this.int,\r\n                              })\r\n                              o.rowIds[o.rows[k].selector.rows] = k\r\n                            }\r\n                          },\r\n                        })\r\n                      }\r\n                    }\r\n                    if (varstate === this.varstate) return void 0\r\n                    this.varstate = varstate\r\n                    Object.keys(v.selection.all).forEach(k => {\r\n                      const e = v.selection.all[k]\r\n                      if (this.options.single_variable) {\r\n                        if (vn in e[v].summary && variable.code in e.data) {\r\n                          this.rows[k] = this.table.row.add({\r\n                            offset: this.parsed.time_range[0],\r\n                            dataset: d,\r\n                            variable: vn,\r\n                            entity: e,\r\n                            int: patterns.int_types.test(site.data.variable_info[vn].type),\r\n                          })\r\n                          this.rowIds[this.rows[k].selector.rows] = k\r\n                        }\r\n                      } else {\r\n                        va.forEach(v => {\r\n                          if (site.data.variables[v.variable].code in e.data) v.renderer(this, e)\r\n                        })\r\n                      }\r\n                    })\r\n                  }\r\n                }\r\n                redraw ? this.table.draw() : this.table.columns.adjust().draw(false)\r\n              }\r\n              if (this.parsed.time > -1 && this.header.length > 1 && v.time_range.filtered_index) {\r\n                this.dark_highlight = site.settings.theme_dark\r\n                if (this.style.sheet.rules.length) this.style.sheet.removeRule(0)\r\n                if (this.parsed.time_index[time])\r\n                  this.style.sheet.insertRule(\r\n                    '#' +\r\n                      this.id +\r\n                      ' td:nth-child(' +\r\n                      (this.parsed.time_index[time] + 1) +\r\n                      '){background-color: var(--background-highlight)}',\r\n                    0\r\n                  )\r\n                if (!update && site.settings.table_autosort) {\r\n                  this.table.order([this.parsed.time + 1, 'dsc']).draw()\r\n                }\r\n                if (site.settings.table_autoscroll) {\r\n                  const w = this.e.parentElement.getBoundingClientRect().width,\r\n                    col = this.table.column(this.parsed.time + 1),\r\n                    h = col.header().getBoundingClientRect()\r\n                  if (h)\r\n                    this.e.parentElement.scroll({\r\n                      left: h.x - this.e.getBoundingClientRect().x + h.width + 16 - w,\r\n                      behavior: site.settings.table_scroll_behavior || 'smooth',\r\n                    })\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        mouseover: function (e) {\r\n          if (e.target._DT_CellIndex && e.target._DT_CellIndex.row in this.rowIds) {\r\n            const id = this.rowIds[e.target._DT_CellIndex.row],\r\n              row = this.rows[id].node()\r\n            if (row) row.classList.add('highlighted')\r\n            if (id in site.data.entities) {\r\n              update_subs(this.id, 'show', site.data.entities[id])\r\n            }\r\n          }\r\n        },\r\n        mouseout: function (e) {\r\n          if (e.target._DT_CellIndex && e.target._DT_CellIndex.row in this.rowIds) {\r\n            const id = this.rowIds[e.target._DT_CellIndex.row],\r\n              row = this.rows[id].node()\r\n            if (row) row.classList.remove('highlighted')\r\n            if (id in site.data.entities) {\r\n              update_subs(this.id, 'revert', site.data.entities[id])\r\n            }\r\n          }\r\n        },\r\n        click: function (e) {\r\n          if (this.clickto && e.target._DT_CellIndex && e.target._DT_CellIndex.row in this.rowIds) {\r\n            const id = this.rowIds[e.target._DT_CellIndex.row]\r\n            if (id in site.data.entities) this.clickto.set(id)\r\n          }\r\n        },\r\n      },\r\n      table: {\r\n        init: function (o) {\r\n          o.click = o.e.getAttribute('data-click')\r\n          o.features = o.options.features\r\n          o.parsed = {summary: {}, order: [], time: 0, color: '', dataset: defaults.dataview, time_index: {}}\r\n          o.header = []\r\n          o.rows = {}\r\n          o.parts = {\r\n            head: document.createElement('thead'),\r\n            body: document.createElement('tbody'),\r\n          }\r\n          o.parts.head.appendChild(document.createElement('tr'))\r\n          o.e.appendChild(o.parts.head)\r\n          o.e.appendChild(o.parts.body)\r\n          if (o.click) o.e.classList.add('interactive')\r\n          o.options.variable_source = o.options.variables\r\n          if (o.options.variables in _u) add_dependency(o.options.variables, {type: 'update', id: o.id})\r\n          o.tab = 'tabpanel' === o.e.parentElement.getAttribute('role') ? o.e.parentElement : void 0\r\n          if (o.tab) {\r\n            document.getElementById(o.e.parentElement.getAttribute('aria-labelledby')).addEventListener(\r\n              'click',\r\n              function () {\r\n                if (!this.e.parentElement.classList.contains('active')) {\r\n                  setTimeout(this.update, 155)\r\n                  setTimeout(trigger_resize, 155)\r\n                }\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.e.addEventListener('mouseover', elements.table.mouseover.bind(o))\r\n          o.e.addEventListener('mouseout', elements.table.mouseout.bind(o))\r\n          if (o.click) {\r\n            if (o.click in _u) o.clickto = _u[o.click]\r\n            o.e.addEventListener('click', elements.table.click.bind(o))\r\n          }\r\n          o.show = function (e) {\r\n            if (e.features) {\r\n              const row = this.rows[e.features.id]\r\n              if (row && row.parentElement) {\r\n                row.classList.add('highlighted')\r\n                if (site.settings.table_autoscroll) {\r\n                  const h = this.e.parentElement.getBoundingClientRect().height,\r\n                    top = row.getBoundingClientRect().y - row.parentElement.getBoundingClientRect().y\r\n                  this.e.parentElement.scroll({\r\n                    top: h > this.e.scrollHeight - top ? this.e.parentElement.scrollHeight : top,\r\n                    behavior: site.settings.table_scroll_behavior || 'smooth',\r\n                  })\r\n                }\r\n              }\r\n            }\r\n          }.bind(o)\r\n          o.revert = function (e) {\r\n            if (e.features && e.features.id in this.rows) {\r\n              this.rows[e.features.id].classList.remove('highlighted')\r\n            }\r\n          }.bind(o)\r\n          o.createHeader = function (v) {\r\n            const dataset = this.parsed.dataset,\r\n              time = site.data.meta.times[dataset],\r\n              tr = this.parts.head.firstElementChild,\r\n              range = this.parsed.variable.time_range[dataset],\r\n              start = range[0],\r\n              end = range[1] + 1,\r\n              ns = this.parsed.summary.n\r\n            this.parsed.time_index = {}\r\n            tr.innerHTML = ''\r\n            tr.appendChild(document.createElement('th'))\r\n            tr.lastElementChild.appendChild(document.createElement('span'))\r\n            tr.firstElementChild.lastElementChild.innerText = 'Name'\r\n            for (let i = start, nshowing = 0; i < end; i++) {\r\n              if (v.times[i] && (site.settings.show_empty_times || ns[i - start])) {\r\n                this.parsed.time_index[time.value[i]] = nshowing++\r\n                tr.appendChild(document.createElement('th'))\r\n                tr.lastElementChild.appendChild(document.createElement('span'))\r\n                tr.lastElementChild.lastElementChild.innerText = time.value[i]\r\n              }\r\n            }\r\n          }.bind(o)\r\n          o.appendRows = function (v) {\r\n            const es = this.parsed.order,\r\n              variable = this.parsed.variable,\r\n              times = site.data.meta.times[this.parsed.dataset].value,\r\n              range = variable.time_range[this.parsed.dataset],\r\n              start = range[0],\r\n              dn = range[1] - start + 1,\r\n              selection = v.selection.all\r\n            this.current_variable = variable.code + this.parsed.dataset\r\n            this.parts.body.innerHTML = ''\r\n            for (let n = es.length; n--; ) {\r\n              const id = es[n][0]\r\n              if (id in selection) {\r\n                const e = site.data.entities[id],\r\n                  d = e.data[variable.code],\r\n                  tr = document.createElement('tr')\r\n                this.rows[id] = tr\r\n                tr.setAttribute('data-entityId', id)\r\n                let td = document.createElement('td')\r\n                td.innerText = e.features.name\r\n                tr.appendChild(td)\r\n                if (1 === dn) {\r\n                  tr.appendChild((td = document.createElement('td')))\r\n                  td.innerText = site.data.format_value(d)\r\n                  td.setAttribute('data-entityId', id)\r\n                  td.classList.add('highlighted')\r\n                } else {\r\n                  for (let i = 0; i < dn; i++) {\r\n                    if (v.times[i + start] && times[i + start] in this.parsed.time_index) {\r\n                      tr.appendChild((td = document.createElement('td')))\r\n                      td.innerText = site.data.format_value(d[i])\r\n                      if (i === this.parsed.time) td.classList.add('highlighted')\r\n                    }\r\n                  }\r\n                }\r\n                this.parts.body.appendChild(tr)\r\n              }\r\n            }\r\n            if (\r\n              site.settings.table_autoscroll &&\r\n              this.parts.head.firstElementChild.childElementCount > 2 &&\r\n              this.parts.head.firstElementChild.childElementCount > this.parsed.time + 1\r\n            ) {\r\n              const w = this.e.parentElement.getBoundingClientRect().width,\r\n                col = this.parts.head.firstElementChild.children[this.parsed.time + 1].getBoundingClientRect()\r\n              this.e.parentElement.scroll({\r\n                left: col.x - this.e.getBoundingClientRect().x + col.width + 16 - w,\r\n                behavior: site.settings.table_scroll_behavior || 'smooth',\r\n              })\r\n            }\r\n          }.bind(o)\r\n          if (o.view) {\r\n            add_dependency(o.view, {type: 'update', id: o.id})\r\n            add_dependency(o.view + '_filter', {type: 'update', id: o.id})\r\n            add_dependency(_u[o.view].time_agg, {type: 'update', id: o.id})\r\n          } else o.view = defaults.dataview\r\n          o.update()\r\n        },\r\n        update: async function (pass) {\r\n          if (this.queue > 0) clearTimeout(this.queue)\r\n          this.queue = -1\r\n          if (!pass) {\r\n            if (!this.tab || this.tab.classList.contains('show')) this.queue = setTimeout(() => this.update(true), 50)\r\n          } else {\r\n            let vn =\r\n              this.options.variable_source && valueOf(this.options.variable_source).replace(patterns.all_periods, '\\\\.')\r\n            const v = _u[this.view],\r\n              d = v.get.dataset(),\r\n              time = valueOf(v.time_agg),\r\n              state =\r\n                d + v.value() + v.get.time_filters() + site.settings.digits + vn + time + site.settings.show_empty_times\r\n            if (!site.data.inited[d]) return void 0\r\n            if (state !== this.state) {\r\n              this.state = state\r\n              Object.keys(this.reference_options).forEach(k => (this.options[k] = valueOf(this.reference_options[k])))\r\n              const variable = await site.data.get_variable(vn, this.view)\r\n              this.parsed.dataset = d\r\n              this.parsed.color = vn\r\n              this.parsed.variable = variable\r\n              this.parsed.time_range = variable.time_range[d]\r\n              this.parsed.time =\r\n                ('number' === typeof time ? time - site.data.meta.times[d].range[0] : 0) - this.parsed.time_range[0]\r\n              this.parsed.summary = variable.views[this.view].summaries[d]\r\n              this.parsed.order = variable.views[this.view].order[d][this.parsed.time]\r\n              this.createHeader(v)\r\n              this.appendRows(v)\r\n            }\r\n          }\r\n        },\r\n        mouseover: function (e) {\r\n          const row = 'TD' === e.target.tagName ? e.target.parentElement : e.target,\r\n            id = row.getAttribute('data-entityId')\r\n          if (id) {\r\n            row.classList.add('highlighted')\r\n            update_subs(this.id, 'show', site.data.entities[id])\r\n          }\r\n        },\r\n        mouseout: function (e) {\r\n          const row = 'TD' === e.target.tagName ? e.target.parentElement : e.target,\r\n            id = row.getAttribute('data-entityId')\r\n          if (id) {\r\n            row.classList.remove('highlighted')\r\n            update_subs(this.id, 'revert', site.data.entities[id])\r\n          }\r\n        },\r\n        click: function (e) {\r\n          const row = 'TD' === e.target.tagName ? e.target.parentElement : e.target,\r\n            id = row.getAttribute('data-entityId')\r\n          if (this.clickto && id) this.clickto.set(id)\r\n        },\r\n      },\r\n      legend: {\r\n        init: function (o) {\r\n          add_dependency(o.view, {type: 'update', id: o.id})\r\n          const view = _u[o.view]\r\n          if (view.time_agg in _u) add_dependency(view.time_agg, {type: 'update', id: o.id})\r\n          if (!o.palette) {\r\n            if (view.palette) {\r\n              o.palette = view.palette\r\n              if (view.palette in _u) add_dependency(view.palette, {type: 'update', id: o.id})\r\n            } else {\r\n              o.palette = 'settings.palette' in _u ? 'settings.palette' : site.settings.palette\r\n            }\r\n          }\r\n          o.variable = o.e.getAttribute('data-variable')\r\n          if (o.variable) {\r\n            if (o.variable in _u) add_dependency(o.variable, {type: 'update', id: o.id})\r\n          } else if (view.y in _u) add_dependency(view.y, {type: 'update', id: o.id})\r\n          if (o.palette in _u) {\r\n            const palette = _u[o.palette]\r\n            if (palette.e) {\r\n              palette.e.addEventListener('change', o.update)\r\n            }\r\n          }\r\n          o.parsed = {summary: {}, order: [], selection: {}, time: 0, color: '', rank: false}\r\n          o.state = ''\r\n          o.queue = {\r\n            lock: false,\r\n            cooldown: -1,\r\n            trigger: function () {\r\n              this.mouseover(this.queue.e)\r\n            }.bind(o),\r\n          }\r\n          o.queue.reset = function () {\r\n            this.lock = false\r\n          }.bind(o.queue)\r\n          o.parts = {\r\n            ticks: o.e.querySelector('.legend-ticks'),\r\n            scale: o.e.querySelector('.legend-scale'),\r\n            summary: o.e.querySelector('.legend-summary'),\r\n          }\r\n          o.parts.ticks.setAttribute('data-of', o.id)\r\n          o.parts.scale.setAttribute('data-of', o.id)\r\n          o.parts.summary.setAttribute('data-of', o.id)\r\n          o.mouseover = elements.legend.mouseover.bind(o)\r\n          o.e.addEventListener('mousemove', o.mouseover)\r\n          o.e.addEventListener('mouseout', elements.legend.mouseout.bind(o))\r\n          o.e.addEventListener('click', elements.legend.click.bind(o))\r\n          o.click = o.e.getAttribute('data-click')\r\n          if (o.click in _u) o.clickto = _u[o.click]\r\n          o.ticks = {\r\n            center: o.parts.summary.appendChild(document.createElement('div')),\r\n            min: o.parts.summary.appendChild(document.createElement('div')),\r\n            max: o.parts.summary.appendChild(document.createElement('div')),\r\n            entity: o.parts.ticks.appendChild(document.createElement('div')),\r\n          }\r\n          Object.keys(o.ticks).forEach(t => {\r\n            o.ticks[t].setAttribute('data-of', o.id)\r\n            o.ticks[t].className = 'legend-tick'\r\n            o.ticks[t].appendChild((e = document.createElement('div')))\r\n            e.setAttribute('data-of', o.id)\r\n            e.appendChild(document.createElement('p'))\r\n            e.lastElementChild.setAttribute('data-of', o.id)\r\n            if ('m' !== t.substring(0, 1)) {\r\n              e.appendChild(document.createElement('p'))\r\n              e.lastElementChild.setAttribute('data-of', o.id)\r\n              e.appendChild(document.createElement('p'))\r\n              e.lastElementChild.setAttribute('data-of', o.id)\r\n              if ('entity' === t) {\r\n                o.ticks[t].firstElementChild.lastElementChild.classList.add('entity')\r\n              } else {\r\n                o.ticks[t].firstElementChild.firstElementChild.classList.add('summary')\r\n              }\r\n            }\r\n          })\r\n          o.ticks.entity.firstElementChild.classList.add('hidden')\r\n          o.ticks.max.className = 'legend-tick-end max'\r\n          o.ticks.min.className = 'legend-tick-end min'\r\n          o.ticks.center.style.left = '50%'\r\n          o.show = function (e, c) {\r\n            if (e && 'parsed' in c && e.features.name) {\r\n              const view = _u[this.view],\r\n                summary = c.parsed.summary,\r\n                string = summary && 'string' === summary.type,\r\n                min = summary && !string ? summary.min[c.parsed.time] : 0,\r\n                range = summary ? (string ? summary.levels.length - min : summary.range[c.parsed.time]) : 1,\r\n                n = summary.n[c.parsed.time],\r\n                subset = n === view.n_selected.dataset ? 'rank' : 'subset_rank',\r\n                es = site.data.entities[e.features.id].views[this.view],\r\n                value = e.get_value(c.parsed.color, c.parsed.time),\r\n                p =\r\n                  ((string ? value in summary.level_ids : 'number' === typeof value)\r\n                    ? site.settings.color_by_order\r\n                      ? NaN\r\n                      : Math.max(\r\n                          0,\r\n                          Math.min(1, range ? ((string ? summary.level_ids[value] : value) - min) / range : 0.5)\r\n                        )\r\n                    : NaN) * 100,\r\n                container = this.ticks.entity,\r\n                t = container.firstElementChild.children[1]\r\n              if (isFinite(p)) {\r\n                t.parentElement.classList.remove('hidden')\r\n                t.innerText = site.data.format_value(value, this.integer)\r\n                container.style.left = p + '%'\r\n                container.firstElementChild.firstElementChild.innerText =\r\n                  (p > 96 || p < 4) && e.features.name.length > 13\r\n                    ? e.features.name.substring(0, 12) + '…'\r\n                    : e.features.name\r\n              } else if (site.settings.color_by_order && c.parsed.color in es[subset]) {\r\n                const i = es[subset][c.parsed.color][c.parsed.time],\r\n                  po = n > 1 ? (i / (n - 1)) * 100 : 0\r\n                container.firstElementChild.firstElementChild.innerText =\r\n                  i > -1 && (po > 96 || po < 4) && e.features.name.length > 13\r\n                    ? e.features.name.substring(0, 12) + '…'\r\n                    : e.features.name\r\n                if (i > -1) {\r\n                  t.parentElement.classList.remove('hidden')\r\n                  t.innerText = '# ' + (n - i)\r\n                  container.style.left = po + '%'\r\n                }\r\n              }\r\n              container.style.marginLeft = -container.getBoundingClientRect().width / 2 + 'px'\r\n            }\r\n          }\r\n          o.revert = function () {\r\n            this.ticks.entity.firstElementChild.classList.add('hidden')\r\n          }\r\n          o.update()\r\n        },\r\n        update: async function () {\r\n          const view = _u[this.view],\r\n            variable = valueOf(this.variable || view.y),\r\n            d = view.get.dataset(),\r\n            var_info = await site.data.get_variable(variable, this.view),\r\n            time = valueOf(view.time_agg)\r\n          if (null !== time && view.valid && var_info && this.view in var_info.views) {\r\n            const y =\r\n                ('number' === typeof time ? time - site.data.meta.times[d].range[0] : 0) - var_info.time_range[d][0],\r\n              summary = var_info.views[this.view].summaries[d],\r\n              ep = valueOf(this.palette).toLowerCase(),\r\n              pn = ep in palettes ? ep : site.settings.palette in palettes ? site.settings.palette : defaults.palette,\r\n              p = palettes[pn].colors,\r\n              s = this.parts.scale,\r\n              ticks = this.ticks\r\n            this.parsed.summary = summary\r\n            this.parsed.order = var_info.views[this.view].order[d][y]\r\n            this.parsed.time = y\r\n            this.parsed.color = variable\r\n            if (summary && y < summary.n.length) {\r\n              this.integer =\r\n                site.data.variable_info[variable] && site.data.variable_info[variable].type\r\n                  ? patterns.int_types.test(site.data.variable_info[variable].type)\r\n                  : true\r\n              const refresh = site.settings.color_by_order !== this.parsed.rank,\r\n                bins = s.querySelectorAll('span'),\r\n                odd = palettes[pn].odd,\r\n                remake =\r\n                  'discrete' === palettes[pn].type\r\n                    ? p.length !== bins.length - odd\r\n                    : !s.firstElementChild || 'SPAN' !== s.firstElementChild.tagName\r\n              if (pn + site.settings.color_scale_center !== this.current_palette || refresh) {\r\n                this.current_palette = pn + site.settings.color_scale_center\r\n                this.parsed.rank = site.settings.color_by_order\r\n                if (remake) s.innerHTML = ''\r\n                if ('discrete' === palettes[pn].type) {\r\n                  let i = 0,\r\n                    n = Math.ceil(p.length / 2),\r\n                    e\r\n                  if (remake) {\r\n                    s.appendChild((e = document.createElement('div')))\r\n                    e.dataset.of = this.id\r\n                    e.style.left = 0\r\n                    const prop = (1 / (n - odd / 2)) * 100 + '%'\r\n                    for (; i < n; i++) {\r\n                      e.appendChild(document.createElement('span'))\r\n                      e.lastElementChild.dataset.of = this.id\r\n                      e.lastElementChild.style.backgroundColor = p[i]\r\n                      e.lastElementChild.style.width = prop\r\n                    }\r\n                    if (odd) e.lastElementChild.style.width = ((1 / (n - odd / 2)) * 100) / 2 + '%'\r\n                    s.appendChild((e = document.createElement('div')))\r\n                    e.dataset.of = this.id\r\n                    e.style.right = 0\r\n                    for (i = Math.floor(p.length / 2), n = p.length; i < n; i++) {\r\n                      e.appendChild(document.createElement('span'))\r\n                      e.lastElementChild.dataset.of = this.id\r\n                      e.lastElementChild.style.backgroundColor = p[i]\r\n                      e.lastElementChild.style.width = prop\r\n                    }\r\n                    if (odd) e.firstElementChild.style.width = ((1 / (n - odd / 2)) * 100) / 2 + '%'\r\n                  } else {\r\n                    for (; i < n; i++) {\r\n                      bins[i].style.backgroundColor = p[i]\r\n                    }\r\n                    for (i = Math.floor(p.length / 2), n = p.length; i < n; i++) {\r\n                      bins[i + odd].style.backgroundColor = p[i]\r\n                    }\r\n                  }\r\n                } else {\r\n                  if (remake) {\r\n                    s.appendChild(document.createElement('span'))\r\n                    s.appendChild(document.createElement('span'))\r\n                  }\r\n                  s.firstElementChild.style.background =\r\n                    'linear-gradient(0.25turn, rgb(' +\r\n                    p[2][0][0] +\r\n                    ', ' +\r\n                    p[2][0][1] +\r\n                    ', ' +\r\n                    p[2][0][2] +\r\n                    '), rgb(' +\r\n                    p[1][0] +\r\n                    ', ' +\r\n                    p[1][1] +\r\n                    ', ' +\r\n                    p[1][2] +\r\n                    '))'\r\n                  s.lastElementChild.style.background =\r\n                    'linear-gradient(0.25turn, rgb(' +\r\n                    p[1][0] +\r\n                    ', ' +\r\n                    p[1][1] +\r\n                    ', ' +\r\n                    p[1][2] +\r\n                    '), rgb(' +\r\n                    p[0][0][0] +\r\n                    ', ' +\r\n                    p[0][0][1] +\r\n                    ', ' +\r\n                    p[0][0][2] +\r\n                    '))'\r\n                }\r\n              }\r\n              if ('string' === var_info.type) {\r\n                ticks.center.classList.remove('hidden')\r\n                ticks.min.firstElementChild.firstElementChild.innerText = var_info.levels[0]\r\n                ticks.max.firstElementChild.firstElementChild.innerText = var_info.levels[var_info.levels.length - 1]\r\n              } else if (site.settings.color_by_order) {\r\n                ticks.center.classList.add('hidden')\r\n                ticks.min.firstElementChild.firstElementChild.innerText = '# ' + (summary.n[y] ? summary.n[y] : 0)\r\n                ticks.max.firstElementChild.firstElementChild.innerText = '# ' + (summary.n[y] ? 1 : 0)\r\n              } else {\r\n                const state =\r\n                  '' +\r\n                  summary.n[y] +\r\n                  summary.min[y] +\r\n                  summary.max[y] +\r\n                  site.settings.digits +\r\n                  site.settings.color_scale_center +\r\n                  site.settings.summary_selection\r\n                if (remake || refresh || state !== this.state) {\r\n                  this.state = state\r\n                  ticks.center.classList.remove('hidden')\r\n                  ticks.min.firstElementChild.firstElementChild.innerText = summary.n[y]\r\n                    ? isFinite(summary.min[y])\r\n                      ? site.data.format_value(summary.min[y], this.integer)\r\n                      : NaN\r\n                    : NaN\r\n                  ticks.max.firstElementChild.firstElementChild.innerText = summary.n[y]\r\n                    ? isFinite(summary.max[y])\r\n                      ? site.data.format_value(summary.max[y], this.integer)\r\n                      : NaN\r\n                    : NaN\r\n                  if ('none' === site.settings.color_scale_center) {\r\n                    ticks.center.firstElementChild.lastElementChild.innerText =\r\n                      summary_levels[site.settings.summary_selection] + ' median'\r\n                    ticks.center.firstElementChild.children[1].innerText = site.data.format_value(summary.median[y])\r\n                    ticks.center.style.left = summary.norm_median[y] * 100 + '%'\r\n                  } else {\r\n                    ticks.center.firstElementChild.lastElementChild.innerText =\r\n                      summary_levels[site.settings.summary_selection] + ' ' + site.settings.color_scale_center\r\n                    ticks.center.firstElementChild.children[1].innerText = site.data.format_value(\r\n                      summary[site.settings.color_scale_center][y]\r\n                    )\r\n                    ticks.center.style.left = summary['norm_' + site.settings.color_scale_center][y] * 100 + '%'\r\n                  }\r\n                  ticks.center.style.marginLeft = -ticks.center.getBoundingClientRect().width / 2 + 'px'\r\n                }\r\n              }\r\n              if (site.settings.color_by_order || 'none' === site.settings.color_scale_center) {\r\n                s.firstElementChild.style.width = '50%'\r\n                s.lastElementChild.style.width = '50%'\r\n              } else {\r\n                s.firstElementChild.style.width = summary['norm_' + site.settings.color_scale_center][y] * 100 + '%'\r\n                s.lastElementChild.style.width =\r\n                  100 - summary['norm_' + site.settings.color_scale_center][y] * 100 + '%'\r\n              }\r\n            }\r\n          }\r\n        },\r\n        mouseover: function (e) {\r\n          if (!this.queue.lock) {\r\n            this.queue.lock = true\r\n            const s = this.parts.scale.getBoundingClientRect(),\r\n              p = (Math.max(s.x, Math.min(s.x + s.width, e.clientX)) - s.x) / s.width\r\n            let entity = false\r\n            if (site.settings.color_by_order) {\r\n              if (this.parsed.order && this.parsed.order.length)\r\n                entity =\r\n                  site.data.entities[\r\n                    this.parsed.order[\r\n                      Math.max(\r\n                        this.parsed.summary.missing[this.parsed.time],\r\n                        Math.min(this.parsed.order.length - 1, Math.floor((this.parsed.order.length - 1) * p))\r\n                      )\r\n                    ][0]\r\n                  ]\r\n            } else if ('min' in this.parsed.summary) {\r\n              const min = this.parsed.summary.min[this.parsed.time],\r\n                max = this.parsed.summary.max[this.parsed.time],\r\n                tv = min + p * (max - min)\r\n              let i, n\r\n              if (this.parsed.order && this.parsed.order.length) {\r\n                n = this.parsed.summary.missing[this.parsed.time]\r\n                if (n < this.parsed.order.length) {\r\n                  if (1 === this.parsed.order.length || !p) {\r\n                    entity = site.data.entities[this.parsed.order[n][0]]\r\n                  } else {\r\n                    for (i = this.parsed.order.length - 2; i >= n; --i) {\r\n                      if ((this.parsed.order[i][1] + this.parsed.order[i + 1][1]) / 2 <= tv) break\r\n                    }\r\n                    i++\r\n                    entity = site.data.entities[this.parsed.order[i][0]]\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (entity) {\r\n              this.show(entity, this)\r\n              if (!this.entity || entity.features.id !== this.entity.features.id) {\r\n                if (!this.entity) {\r\n                  this.entity = entity\r\n                } else update_subs(this.id, 'revert', this.entity)\r\n                update_subs(this.id, 'show', entity)\r\n                this.entity = entity\r\n              }\r\n            }\r\n            setTimeout(this.queue.reset, 200)\r\n          } else {\r\n            if (this.queue.cooldown > 0) clearTimeout(this.queue.cooldown)\r\n            this.queue.e = e\r\n            this.queue.cooldown = setTimeout(this.queue.trigger, 100)\r\n          }\r\n        },\r\n        mouseout: function (e) {\r\n          if (e.relatedTarget && this.id !== e.relatedTarget.getAttribute('data-of')) {\r\n            if (this.queue.cooldown > 0) clearTimeout(this.queue.cooldown)\r\n            this.queue.cooldown = -1\r\n            this.revert()\r\n            if (this.entity) {\r\n              update_subs(this.id, 'revert', this.entity)\r\n              this.entity = false\r\n            }\r\n          }\r\n        },\r\n        click: function () {\r\n          if (this.clickto && this.entity) {\r\n            this.revert()\r\n            this.clickto.set(this.entity.features.id)\r\n          }\r\n        },\r\n      },\r\n      credits: {\r\n        init: function (o) {\r\n          const s = site.credit_output && site.credit_output[o.id]\r\n          o.exclude = (s && s.exclude) || []\r\n          o.add = (s && s.add) || {}\r\n          o.e.appendChild(document.createElement('ul'))\r\n          o.credits = {...site.credits, ...o.add}\r\n          Object.keys(o.credits).forEach(k => {\r\n            if (-1 === o.exclude.indexOf(k)) {\r\n              const c = o.credits[k]\r\n              let e\r\n              o.e.lastElementChild.appendChild((e = document.createElement('li')))\r\n              if ('url' in c) {\r\n                e.appendChild((e = document.createElement('a')))\r\n                e.href = c.url\r\n                e.target = '_blank'\r\n                e.rel = 'noreferrer'\r\n              }\r\n              e.innerText = c.name\r\n              if ('version' in c) {\r\n                e.appendChild(document.createElement('span'))\r\n                e.lastElementChild.className = 'version-tag'\r\n                e.lastElementChild.innerText = c.version\r\n              }\r\n              if ('description' in c) {\r\n                e.parentElement.appendChild(document.createElement('p'))\r\n                e.parentElement.lastElementChild.innerText = c.description\r\n              }\r\n            }\r\n          })\r\n        },\r\n      },\r\n      init_input: function (e) {\r\n        const o = {\r\n          type: e.getAttribute('data-autoType'),\r\n          source: void 0,\r\n          value: function () {\r\n            const v = valueOf(this.source)\r\n            return 'undefined' === typeof v ? valueOf(this.default) : v\r\n          },\r\n          default: e.getAttribute('data-default'),\r\n          optionSource: e.getAttribute('data-optionSource'),\r\n          depends: e.getAttribute('data-depends'),\r\n          variable: e.getAttribute('data-variable'),\r\n          dataset: e.getAttribute('data-dataset'),\r\n          view: e.getAttribute('data-view'),\r\n          id: e.id || e.optionSource || 'ui' + page.elementCount++,\r\n          note: e.getAttribute('aria-description') || '',\r\n          current_index: -1,\r\n          previous: '',\r\n          e: e,\r\n          values: [],\r\n          display: [],\r\n          data: [],\r\n          input: true,\r\n        }\r\n        o.settings = o.type in site && o.id in site[o.type] ? site[o.type][o.id] : {}\r\n        o.wrapper = o.e.parentElement.classList.contains('wrapper')\r\n          ? o.e.parentElement\r\n          : o.e.parentElement.parentElement\r\n        if (o.wrapper) {\r\n          if (o.note) o.wrapper.classList.add('has-note')\r\n          o.wrapper.setAttribute('data-of', o.id)\r\n          ;['div', 'span', 'label', 'fieldset', 'legend', 'input', 'button'].forEach(type => {\r\n            const c = o.wrapper.querySelectorAll(type)\r\n            if (c.length) c.forEach(ci => ci.setAttribute('data-of', o.id))\r\n          })\r\n        }\r\n        if (o.note) {\r\n          o.wrapper.addEventListener('mouseover', tooltip_trigger.bind(o))\r\n          const p = 'DIV' !== o.e.tagName ? o.e : o.e.querySelector('input')\r\n          if (p) {\r\n            p.addEventListener('focus', tooltip_trigger.bind(o))\r\n            p.addEventListener('blur', tooltip_clear)\r\n          }\r\n        }\r\n        if (patterns.number.test(o.default)) o.default = Number(o.default)\r\n        if (o.type in elements) {\r\n          const p = elements[o.type]\r\n          if (p.setter) {\r\n            o.set = p.setter.bind(o)\r\n            o.reset = function () {\r\n              this.set(valueOf(this.default))\r\n            }.bind(o)\r\n          }\r\n          if (p.retrieve) o.get = p.retrieve.bind(o)\r\n          if (p.adder) o.add = p.adder.bind(o)\r\n          if (p.listener) o.listen = p.listener.bind(o)\r\n          if (p.init) p.init(o)\r\n          if (!o.options) o.options = o.e.querySelectorAll('select' === o.type ? 'option' : 'input')\r\n          if (o.optionSource && patterns.ids.test(o.optionSource)) {\r\n            o.loader = function () {\r\n              if (!this.e.classList.contains('locked')) {\r\n                this.deferred = false\r\n                this.e.removeEventListener('click', this.loader)\r\n                request_queue(this.id)\r\n              }\r\n            }.bind(o)\r\n            o.e.addEventListener('click', o.loader)\r\n            o.deferred = true\r\n          } else if (\r\n            'number' === typeof o.default &&\r\n            o.default > -1 &&\r\n            o.options &&\r\n            o.options.length &&\r\n            o.default < o.options.length\r\n          )\r\n            o.default = o.options[o.default].value || o.options[o.default].dataset.value\r\n          _u[o.id] = o\r\n        }\r\n      },\r\n      init_output: function (e, i) {\r\n        const o = {\r\n          type: e.getAttribute('data-autoType'),\r\n          view: e.getAttribute('data-view') || defaults.dataview,\r\n          id: e.id || 'out' + i,\r\n          note: e.getAttribute('aria-description') || '',\r\n          reference_options: {},\r\n          e: e,\r\n        }\r\n        if (o.note) o.e.addEventListener('mouseover', tooltip_trigger.bind(o))\r\n        o.options = o.type in site ? site[o.type][o.id] : void 0\r\n        if (o.options && o.options.dataview) o.view = o.options.dataview\r\n        if (o.type in elements && 'update' in elements[o.type]) o.update = elements[o.type].update.bind(o)\r\n        if (o.options) {\r\n          if ('options' in o.options) o.options = o.options.options\r\n          Object.keys(o.options).forEach(k => {\r\n            if (o.options[k] in _u) o.reference_options[k] = o.options[k]\r\n          })\r\n          if ('subto' in o.options) {\r\n            if ('string' === typeof o.options.subto) o.options.subto = [o.options.subto]\r\n            if (Array.isArray(o.options.subto)) o.options.subto.forEach(v => add_subs(v, o))\r\n          }\r\n        }\r\n        _u[o.id] = o\r\n        if (o.type in elements && 'init' in elements[o.type]) {\r\n          if (!o.view || _u[o.view].parsed.dataset in site.data.inited) {\r\n            elements[o.type].init(o)\r\n          } else {\r\n            site.data.data_queue[_u[o.view].parsed.dataset][o.id] = elements[o.type].init.bind(null, o)\r\n          }\r\n        }\r\n      },\r\n    },\r\n    storage = {\r\n      name: window.location.pathname || 'default',\r\n      perm: window.localStorage || {\r\n        setItem: function () {},\r\n        getItem: function () {},\r\n        removeItem: function () {},\r\n      },\r\n      set: function (opt, value) {\r\n        const s = JSON.parse(this.perm.getItem(this.name)) || {}\r\n        s[opt] = value\r\n        this.perm.setItem(this.name, JSON.stringify(s))\r\n      },\r\n      get: function (opt) {\r\n        const s = JSON.parse(this.perm.getItem(this.name))\r\n        return s ? (opt ? s[opt] : s) : undefined\r\n      },\r\n    },\r\n    keymap = {\r\n      Enter: 'select',\r\n      NumpadEnter: 'select',\r\n      ArrowUp: 'move',\r\n      Home: 'move',\r\n      ArrowDown: 'move',\r\n      End: 'move',\r\n      Escape: 'close',\r\n      Tab: 'close',\r\n    },\r\n    filter_components = {\r\n      Time: ['first', 'selected', 'last'],\r\n      summary: ['missing', 'min', 'q1', 'mean', 'median', 'q3', 'max'],\r\n    },\r\n    time_funs = {\r\n      number: function (v) {\r\n        return this - v.range[0]\r\n      },\r\n      first: function (v) {\r\n        return 0\r\n      },\r\n      selected: function (v, p) {\r\n        return p.time_agg - v.range[0]\r\n      },\r\n      last: function (v) {\r\n        return v.range[1] - v.range[0]\r\n      },\r\n    },\r\n    page = {\r\n      load_screen: document.getElementById('load_screen'),\r\n      wrap: document.getElementById('site_wrap'),\r\n      navbar: document.querySelector('.navbar'),\r\n      content: document.querySelector('.content'),\r\n      overlay: document.createElement('div'),\r\n      menus: document.getElementsByClassName('menu-wrapper'),\r\n      panels: document.getElementsByClassName('panel'),\r\n      elementCount: 0,\r\n    },\r\n    queue = {_timeout: 0},\r\n    meta = {\r\n      retain_state: true,\r\n    },\r\n    subs = {},\r\n    rule_conditions = {},\r\n    keys = {},\r\n    _u = {\r\n      _entity_filter: {\r\n        id: '_entity_filter',\r\n        registered: {},\r\n        entities: new Map(),\r\n        selected: [],\r\n        select_ids: {},\r\n        value: function (q, agg) {\r\n          return Object.keys(this.select_ids).join(',')\r\n        },\r\n      },\r\n      _base_filter: {\r\n        id: '_base_filter',\r\n        c: new Map(),\r\n        value: function (q, agg) {\r\n          const as_state = !q\r\n          if (as_state) q = []\r\n          _u._base_filter.c.forEach(f => {\r\n            const component =\r\n              'selected' === f.component\r\n                ? site.data.meta.overall.value['undefined' === typeof agg ? _u[defaults.dataview].parsed.time_agg : agg]\r\n                : f.time_component\r\n                ? site.data.meta.overall.value[f.component]\r\n                : f.component\r\n            if (f.value) q.push(f.variable + '[' + component + ']' + f.operator + f.value + (as_state ? f.active : ''))\r\n          })\r\n          return q.join('&')\r\n        },\r\n      },\r\n    },\r\n    _c = {},\r\n    tree = {}\r\n\r\n  page.overlay.className = 'content-overlay'\r\n  document.body.appendChild(page.overlay)\r\n  document.body.className = storage.get('theme_dark') || site.settings.theme_dark ? 'dark-theme' : 'light-theme'\r\n  if (page.content) {\r\n    let i = page.menus.length,\r\n      h = page.navbar ? page.navbar.getBoundingClientRect().height : 0\r\n    for (; i--; )\r\n      if (page.menus[i].classList.contains('menu-top')) {\r\n        h = page.menus[i].getBoundingClientRect().height\r\n        break\r\n      }\r\n    page.content.style.top = h + 'px'\r\n  }\r\n  if (!window.dataLayer) window.dataLayer = []\r\n\r\n  function pal(value, which, summary, index, rank, total) {\r\n    if (isNaN(value)) return defaults.missing\r\n    const centered = 'none' !== site.settings.color_scale_center && !site.settings.color_by_order,\r\n      fixed = 'discrete' === palettes[which].type,\r\n      colors = palettes[which].colors,\r\n      odd = palettes[which].odd,\r\n      string = 'string' === summary.type,\r\n      min = !string ? summary.min[index] : 0,\r\n      range = string ? summary.levels.length - min : summary.range[index],\r\n      center_source =\r\n        'none' === site.settings.color_scale_center || patterns.median.test(site.settings.color_scale_center)\r\n          ? 'median'\r\n          : 'mean',\r\n      center = site.settings.color_by_order\r\n        ? centered\r\n          ? summary['break_' + center_source][index] / total\r\n          : 0.5\r\n        : isNaN(summary['norm_' + center_source][index])\r\n        ? 0.5\r\n        : summary['norm_' + center_source][index],\r\n      r = fixed\r\n        ? centered && !site.settings.color_by_order\r\n          ? Math.ceil(colors.length / 2) - odd / 2\r\n          : colors.length\r\n        : 1,\r\n      p = site.settings.color_by_order\r\n        ? rank / total\r\n        : range\r\n        ? ((string ? summary.level_ids[value] : value) - min) / range\r\n        : 0.5,\r\n      upper = p > (centered ? center : 0.5)\r\n    let v = centered\r\n      ? range\r\n        ? upper\r\n          ? (p - center - summary['upper_' + center_source + '_min'][index]) /\r\n            summary['upper_' + center_source + '_range'][index]\r\n          : (p + center - summary['lower_' + center_source + '_min'][index]) /\r\n            summary['lower_' + center_source + '_range'][index]\r\n        : 1\r\n      : p\r\n    if (!fixed) {\r\n      v = Math.max(0, Math.min(1, v))\r\n      if (upper) v = 1 - v\r\n      if (!centered) v *= 2\r\n    }\r\n    return (string ? value in summary.level_ids : 'number' === typeof value)\r\n      ? fixed\r\n        ? colors[Math.max(0, Math.min(colors.length - 1, Math.floor(centered ? (upper ? r + r * v : r * v) : r * v)))]\r\n        : 'rgb(' +\r\n          (upper\r\n            ? colors[0][0][0] +\r\n              v * colors[0][1][0] +\r\n              ', ' +\r\n              (colors[0][0][1] + v * colors[0][1][1]) +\r\n              ', ' +\r\n              (colors[0][0][2] + v * colors[0][1][2])\r\n            : colors[2][0][0] +\r\n              v * colors[2][1][0] +\r\n              ', ' +\r\n              (colors[2][0][1] + v * colors[2][1][1]) +\r\n              ', ' +\r\n              (colors[2][0][2] + v * colors[2][1][2])) +\r\n          ')'\r\n      : defaults.missing\r\n  }\r\n\r\n  function init_text(o, text) {\r\n    if (!('button' in text)) text.button = {}\r\n    if ('string' === typeof text.text) text.text = [text.text]\r\n    text.parts = document.createElement('span')\r\n    text.text.forEach(k => {\r\n      if (k in text.button) {\r\n        const p = text.button[k]\r\n        text.parts.appendChild(document.createElement('button'))\r\n        text.parts.lastElementChild.type = 'button'\r\n        p.trigger = tooltip_trigger.bind({id: o.id + p.text, note: p.target, wrapper: text.parts.lastElementChild})\r\n        if ('note' === p.type) {\r\n          text.parts.lastElementChild.setAttribute('aria-description', p.target)\r\n          text.parts.lastElementChild.setAttribute('data-of', o.id + p.text)\r\n          text.parts.lastElementChild.className = 'has-note'\r\n          text.parts.lastElementChild.addEventListener('mouseover', p.trigger)\r\n          text.parts.lastElementChild.addEventListener('focus', p.trigger)\r\n          text.parts.lastElementChild.addEventListener('blur', tooltip_clear)\r\n        } else {\r\n          text.parts.lastElementChild.className = 'btn btn-link'\r\n          if (!Array.isArray(p.target)) p.target = [p.target]\r\n          const m = new Map()\r\n          p.target.forEach(t => {\r\n            const u = _u[t]\r\n            if (u && 'function' === typeof u[p.type]) m.set(t, u[p.type])\r\n          })\r\n          if (m.size) {\r\n            text.parts.lastElementChild.setAttribute('aria-label', p.text.join(''))\r\n            text.parts.lastElementChild.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.forEach(f => f())\r\n              }.bind(m)\r\n            )\r\n          }\r\n        }\r\n      } else {\r\n        text.parts.appendChild(document.createElement('span'))\r\n      }\r\n      if (k in _u) o.depends.set(k, {id: k, u: _u[k], parsed: ''})\r\n    })\r\n    if ('condition' in text) {\r\n      for (let i = text.condition.length; i--; ) {\r\n        const c = text.condition[i]\r\n        if (c.id) {\r\n          if ('default' === c.id) {\r\n            c.check = function () {\r\n              return true\r\n            }\r\n          } else {\r\n            o.depends.set(c.id, c)\r\n            c.check = function () {\r\n              return 'default' === this.id || DataHandler.checks[this.type](valueOf(this.id), valueOf(this.value))\r\n            }.bind(c)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function fill_ids_options(u, d, out, onend) {\r\n    if (!(d in site.data.sets)) {\r\n      site.data.data_queue[d][u.id] = function () {\r\n        u.e.removeEventListener('click', u.loader)\r\n        fill_ids_options(u, d, out, onend)\r\n        u.set_current()\r\n        u.current_set = d\r\n        return\r\n      }\r\n      return\r\n    }\r\n    out[d] = {options: [], values: {}, display: {}}\r\n    const current = u.values,\r\n      s = out[d].options,\r\n      values = out[d].values,\r\n      disp = out[d].display,\r\n      combobox = 'combobox' === u.type\r\n    let ck = !u.sensitive && !!u.current_set,\r\n      n = 0\r\n    if (u.settings.group) {\r\n      u.groups = {e: [], by_name: {}}\r\n      if (combobox && u.settings.accordion) {\r\n        u.listbox.classList.add('accordion')\r\n        u.listbox.id = u.id + '-listbox'\r\n      }\r\n    }\r\n    Object.keys(site.data.entities).forEach(k => {\r\n      const entity = site.data.entities[k]\r\n      if (d === entity.group) {\r\n        if (ck && !(k in current)) {\r\n          u.sensitive = true\r\n          ck = false\r\n        }\r\n        if (u.groups) {\r\n          let groups = entity.features[u.settings.group] || ['No Group']\r\n          if (!Array.isArray(groups)) groups = [groups]\r\n          for (let g = groups.length; g--; ) {\r\n            const group = groups[g]\r\n            if (!(group in u.groups.by_name)) {\r\n              const e = document.createElement(combobox ? 'div' : 'optgroup')\r\n              if (combobox) {\r\n                const id = u.id + '_' + group.replace(patterns.seps, '-')\r\n                let ee\r\n                e.role = 'group'\r\n                if (u.settings.accordion) {\r\n                  e.setAttribute('data-group', group)\r\n                  e.className = 'combobox-group accordion-item combobox-component'\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.id = id + '-label'\r\n                  ee.className = 'accordion-header combobox-component'\r\n                  ee.appendChild((ee = document.createElement('button')))\r\n                  ee.innerText = group\r\n                  ee.type = 'button'\r\n                  ee.className = 'accordion-button combobox-component collapsed'\r\n                  ee.setAttribute('data-bs-toggle', 'collapse')\r\n                  ee.setAttribute('data-bs-target', '#' + id)\r\n                  ee.setAttribute('aria-expanded', false)\r\n                  ee.setAttribute('aria-controls', id)\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.id = id\r\n                  ee.className = 'combobox-component accordion-collapse collapse'\r\n                  ee.setAttribute('aria-labelledby', id + '-label')\r\n                  ee.setAttribute('data-bs-parent', '#' + u.id + '-listbox')\r\n                  ee.appendChild((ee = document.createElement('div')))\r\n                  ee.className = 'accordion-body combobox-component'\r\n                } else {\r\n                  e.className = 'combobox-group combobox-component'\r\n                  e.id = id\r\n                  e.setAttribute('aria-labelledby', id + '-label')\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.appendChild((ee = document.createElement('label')))\r\n                  ee.innerText = group\r\n                  ee.id = id + '-label'\r\n                  ee.for = id\r\n                  ee.className = 'combobox-group-label combobox-component'\r\n                }\r\n              } else {\r\n                e.label = group\r\n              }\r\n              u.groups.by_name[group] = e\r\n              u.groups.e.push(e)\r\n            }\r\n            const o = u.add(k, entity.features.name, true)\r\n            o.setAttribute('data-group', group)\r\n            if (combobox && u.settings.accordion) {\r\n              u.groups.by_name[group].lastElementChild.lastElementChild.appendChild(o)\r\n            } else {\r\n              u.groups.by_name[group].appendChild(o)\r\n            }\r\n          }\r\n        } else {\r\n          s.push(u.add(k, entity.features.name))\r\n          values[k] = n\r\n          disp[entity.features.name] = n++\r\n        }\r\n      }\r\n    })\r\n    if (u.settings.group) {\r\n      n = 0\r\n      Object.keys(u.groups.by_name).forEach(g => {\r\n        u.groups.by_name[g].querySelectorAll(combobox ? '.combobox-option' : 'option').forEach(c => {\r\n          s.push(c)\r\n          values[combobox ? c.dataset.value : c.value] = n\r\n          disp[c.innerText] = n++\r\n        })\r\n      })\r\n    }\r\n    onend && onend()\r\n  }\r\n\r\n  function fill_variables_options(u, d, out) {\r\n    out[d] = {options: [], values: {}, display: {}}\r\n    const current = u.values,\r\n      s = out[d].options,\r\n      values = out[d].values,\r\n      disp = out[d].display,\r\n      combobox = 'combobox' === u.type\r\n    let ck = !u.sensitive && !!u.current_set,\r\n      n = 0\r\n    if (u.settings.group) {\r\n      u.groups = {e: [], by_name: {}}\r\n      if (combobox && u.settings.accordion) {\r\n        u.listbox.classList.add('accordion')\r\n        u.listbox.id = u.id + '-listbox'\r\n      }\r\n    }\r\n    const url_set = site.url_options[u.id]\r\n    let ck_suffix = false\r\n    if (url_set && !(url_set in site.data.variables)) {\r\n      site.url_options[u.id] = url_set.replace(patterns.pre_colon, '')\r\n      if (!(site.url_options[u.id] in site.data.variables)) ck_suffix = true\r\n    }\r\n    site.data.info[d].schema.fields.forEach(m => {\r\n      const v = site.data.variables[m.name]\r\n      if (v && !v.is_time) {\r\n        const l = site.data.format_label(m.name)\r\n        if (ck && !(k in current)) {\r\n          u.sensitive = true\r\n          ck = false\r\n        }\r\n        if (u.groups) {\r\n          let groups = (m.info && m.info[u.settings.group]) || ['No Group']\r\n          if (!Array.isArray(groups)) groups = [groups]\r\n          for (let g = groups.length; g--; ) {\r\n            const group = groups[g]\r\n            if (!(group in u.groups.by_name)) {\r\n              const e = document.createElement(combobox ? 'div' : 'optgroup')\r\n              if (combobox) {\r\n                const id = u.id + '_' + group.replace(patterns.seps, '-')\r\n                let ee\r\n                e.role = 'group'\r\n                if (u.settings.accordion) {\r\n                  e.setAttribute('data-group', group)\r\n                  e.className = 'combobox-group accordion-item combobox-component'\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.id = id + '-label'\r\n                  ee.className = 'accordion-header combobox-component'\r\n                  ee.appendChild((ee = document.createElement('button')))\r\n                  ee.innerText = group\r\n                  ee.type = 'button'\r\n                  ee.className = 'accordion-button combobox-component collapsed'\r\n                  ee.setAttribute('data-bs-toggle', 'collapse')\r\n                  ee.setAttribute('data-bs-target', '#' + id)\r\n                  ee.setAttribute('aria-expanded', false)\r\n                  ee.setAttribute('aria-controls', id)\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.id = id\r\n                  ee.className = 'combobox-component accordion-collapse collapse'\r\n                  ee.setAttribute('aria-labelledby', id + '-label')\r\n                  ee.setAttribute('data-bs-parent', '#' + u.id + '-listbox')\r\n                  ee.appendChild((ee = document.createElement('div')))\r\n                  ee.className = 'accordion-body combobox-component'\r\n                } else {\r\n                  e.className = 'combobox-group combobox-component'\r\n                  e.setAttribute('aria-labelledby', id)\r\n                  e.appendChild((ee = document.createElement('div')))\r\n                  ee.appendChild((ee = document.createElement('label')))\r\n                  ee.innerText = group\r\n                  ee.id = id\r\n                  ee.className = 'combobox-group-label combobox-component'\r\n                }\r\n              } else {\r\n                e.label = group\r\n              }\r\n              u.groups.by_name[group] = e\r\n              u.groups.e.push(e)\r\n            }\r\n            const o = u.add(m.name, l, true, m)\r\n            o.setAttribute('data-group', group)\r\n            if (combobox && u.settings.accordion) {\r\n              u.groups.by_name[group].lastElementChild.lastElementChild.appendChild(o)\r\n            } else {\r\n              u.groups.by_name[group].appendChild(o)\r\n            }\r\n          }\r\n        } else {\r\n          s.push(u.add(m.name, l, true, m))\r\n          s[n].id = u.id + '-option' + n\r\n          values[m.name] = n\r\n          disp[l] = n++\r\n        }\r\n        if (ck_suffix && url_set === m.name.replace(patterns.pre_colon, '')) {\r\n          site.url_options[u.id] = m.name\r\n          ck_suffix = false\r\n        }\r\n      }\r\n    })\r\n    if (u.settings.group) {\r\n      n = 0\r\n      Object.keys(u.groups.by_name).forEach(g => {\r\n        u.groups.by_name[g].querySelectorAll(combobox ? '.combobox-option' : 'option').forEach(c => {\r\n          s.push(c)\r\n          s[n].id = u.id + '-option' + n\r\n          values[combobox ? c.dataset.value : c.value] = n\r\n          disp[(c.firstChild && c.firstChild.textContent) || c.innerText] = n++\r\n        })\r\n      })\r\n    }\r\n    if (!(u.default in site.data.variables)) u.default = defaults.variable\r\n  }\r\n\r\n  function fill_overlay_properties_options(u, source, out) {\r\n    out[source] = {options: [], values: {}, display: {}}\r\n    const current = u.values,\r\n      s = out[source].options,\r\n      values = out[source].values,\r\n      disp = out[source].display,\r\n      combobox = 'combobox' === u.type\r\n    let ck = !u.sensitive && !!u.current_set,\r\n      n = 0\r\n    if (u.settings.group) {\r\n      u.groups = {e: [], by_name: {}}\r\n    }\r\n    Object.keys(site.map._queue[source].property_summaries).forEach(v => {\r\n      const l = site.data.format_label(v)\r\n      if (ck && !(k in current)) {\r\n        u.sensitive = true\r\n        ck = false\r\n      }\r\n      s.push(u.add(v, l))\r\n      s[n].id = u.id + '-option' + n\r\n      values[v] = n\r\n      disp[l] = n++\r\n    })\r\n  }\r\n\r\n  function fill_levels_options(u, d, v, out) {\r\n    const m = site.data.variables[v].info[d],\r\n      t = 'string' === m.type ? 'levels' : 'ids',\r\n      l = m[t]\r\n    if (l) {\r\n      const k = d + v\r\n      out[k] = {options: [], values: {}, display: {}}\r\n      const current = u.values,\r\n        s = out[k].options,\r\n        values = out[k].values,\r\n        disp = out[k].display\r\n      let ck = !u.sensitive && !!u.current_set,\r\n        n = 0\r\n      Object.keys(l).forEach(k => {\r\n        const lk = l[k]\r\n        if (ck && !(k in current)) {\r\n          u.sensitive = true\r\n          ck = false\r\n        }\r\n        s.push(u.add(lk.id, lk.name, true))\r\n        values[lk.id] = n\r\n        disp[lk.name] = n++\r\n      })\r\n    } else if ('ids' === t) {\r\n      site.data.data_queue[d][u.id] = function () {\r\n        return fill_levels_options(u, d, v, out)\r\n      }\r\n    }\r\n  }\r\n\r\n  function toggle_input(u, enable) {\r\n    if (enable && !u.e.classList.contains('locked')) {\r\n      u.e.removeAttribute('disabled')\r\n      u.e.classList.remove('disabled')\r\n      if (u.input_element) u.input_element.removeAttribute('disabled')\r\n    } else {\r\n      u.e.setAttribute('disabled', true)\r\n      u.e.classList.add('disabled')\r\n      if (u.input_element) u.input_element.setAttribute('disabled', true)\r\n    }\r\n  }\r\n\r\n  function sort_tree_children(a, b) {\r\n    return !(a.id in tree) || !(b.id in tree) ? -Infinity : tree[a.id]._n.children - tree[b.id]._n.children\r\n  }\r\n\r\n  function add_dependency(id, o) {\r\n    if (!(id in _c)) _c[id] = []\r\n    if (!o.uid) o.uid = JSON.stringify(o)\r\n    const c = _c[id]\r\n    for (let i = c.length; i--; ) if (o.uid === c[i].uid) return void 0\r\n    c.push(o)\r\n    if (!(id in tree)) tree[id] = {_n: {children: 0, parents: 0}, children: {}, parents: {}}\r\n    if (!(o.id in tree)) tree[o.id] = {_n: {children: 0, parents: 0}, children: {}, parents: {}}\r\n    tree[id].children[o.id] = tree[o.id]\r\n    tree[id]._n.children++\r\n    tree[o.id].parents[id] = tree[id]\r\n    tree[o.id]._n.parents++\r\n    c.sort(sort_tree_children)\r\n    request_queue(id)\r\n  }\r\n\r\n  function add_subs(id, o) {\r\n    if (!(id in subs)) subs[id] = []\r\n    subs[id].push(o)\r\n  }\r\n\r\n  function update_subs(id, fun, e) {\r\n    if (id in subs) {\r\n      for (let i = subs[id].length; i--; ) {\r\n        if (fun in subs[id][i]) subs[id][i][fun](e, _u[id])\r\n      }\r\n    }\r\n  }\r\n\r\n  function update_plot_theme(u) {\r\n    if (u.dark_theme !== site.settings.theme_dark) {\r\n      u.dark_theme = site.settings.theme_dark\r\n      const s = getComputedStyle(document.body)\r\n      if (!('style' in u)) {\r\n        u.style = u.options.layout\r\n        if (!('font' in u.style)) u.style.font = {}\r\n        if (!('modebar' in u.style)) u.style.modebar = {}\r\n        if (!('font' in u.style.xaxis)) u.style.xaxis.font = {}\r\n        if (!('font' in u.style.yaxis)) u.style.yaxis.font = {}\r\n      }\r\n      u.style.paper_bgcolor = s.backgroundColor\r\n      u.style.plot_bgcolor = s.backgroundColor\r\n      u.style.font.color = s.color\r\n      u.style.modebar.bgcolor = s.backgroundColor\r\n      u.style.modebar.color = s.color\r\n      if (u.e._fullLayout.xaxis.showgrid) u.style.xaxis.gridcolor = s.borderColor\r\n      if (u.e._fullLayout.yaxis.showgrid) u.style.yaxis.gridcolor = s.borderColor\r\n      u.style.xaxis.font.color = s.color\r\n      u.style.yaxis.font.color = s.color\r\n      Plotly.relayout(u.e, u.options.layout)\r\n    }\r\n  }\r\n\r\n  function make_data_entry(u, e, rank, total, name, color) {\r\n    if (e.data && u.parsed.x in site.data.variables) {\r\n      const x = site.data.get_value({variable: u.parsed.x, entity: e}),\r\n        y = site.data.get_value({variable: u.parsed.y, entity: e}),\r\n        t = JSON.parse(u.traces[u.base_trace]),\r\n        yr = site.data.variables[u.parsed.y].time_range[u.parsed.dataset],\r\n        xr = site.data.variables[u.parsed.x].time_range[u.parsed.dataset],\r\n        n = Math.min(yr[1], xr[1]) + 1,\r\n        ns = u.parsed.summary.n\r\n      for (let i = Math.max(yr[0], xr[0]); i < n; i++) {\r\n        if (site.settings.show_empty_times || ns[i - u.parsed.y_range[0]]) {\r\n          t.text.push(e.features.name)\r\n          t.x.push(u.parsed.x_range[0] <= i && i <= u.parsed.x_range[1] ? x[i - u.parsed.x_range[0]] : NaN)\r\n          t.y.push(u.parsed.y_range[0] <= i && i <= u.parsed.y_range[1] ? y[i - u.parsed.y_range[0]] : NaN)\r\n        }\r\n      }\r\n      t.type = u.parsed.base_trace\r\n      t.color =\r\n        t.line.color =\r\n        t.marker.color =\r\n        t.textfont.color =\r\n          color ||\r\n          pal(\r\n            e.get_value(u.parsed.color, u.parsed.time),\r\n            u.parsed.palette,\r\n            u.parsed.summary,\r\n            u.parsed.time,\r\n            rank,\r\n            total\r\n          ) ||\r\n          defaults.border\r\n      if ('bar' === t.type) t.marker.line.width = 0\r\n      t.name = name || e.features.name\r\n      t.id = e.features.id\r\n      return t\r\n    }\r\n  }\r\n\r\n  function make_variable_reference(c) {\r\n    if (!Array.isArray(c.author)) c.author = [c.author]\r\n    const e = document.createElement('li'),\r\n      n = c.author.length\r\n    let s = '',\r\n      j = 1 === n ? '' : 2 === n ? ' & ' : ', & '\r\n    for (let i = n; i--; ) {\r\n      const a = c.author[i]\r\n      s =\r\n        (i ? j : '') +\r\n        ('string' === typeof a ? a : a.family) +\r\n        (a.given ? ', ' + a.given.substring(0, 1) + '.' : '') +\r\n        s\r\n      j = ', '\r\n    }\r\n    e.innerHTML =\r\n      s +\r\n      ' (' +\r\n      c.year +\r\n      '). ' +\r\n      c.title +\r\n      '.' +\r\n      (c.journal\r\n        ? ' <em>' + c.journal + (c.volume ? ', ' + c.volume : '') + '</em>' + (c.page ? ', ' + c.page : '') + '.'\r\n        : '') +\r\n      (c.version ? ' Version ' + c.version + '.' : '') +\r\n      (c.doi || c.url\r\n        ? (c.doi ? ' doi: ' : ' url: ') +\r\n          (c.doi || c.url\r\n            ? '<a rel=\"noreferrer\" target=\"_blank\" href=\"' +\r\n              (c.doi ? 'https://doi.org/' + c.doi : c.url) +\r\n              '\">' +\r\n              (c.doi || c.url.replace(patterns.http, '')) +\r\n              '</a>'\r\n            : '')\r\n        : '')\r\n    return e\r\n  }\r\n\r\n  function make_variable_source(s, table) {\r\n    const e = document.createElement(table ? 'tr' : 'div')\r\n    let ee\r\n    if (table) {\r\n      if (s.name) {\r\n        e.appendChild((ee = document.createElement('td')))\r\n        if (s.url) {\r\n          ee.appendChild((ee = document.createElement('a')))\r\n          ee.target = '_blank'\r\n          ee.rel = 'noreferrer'\r\n          ee.href = s.url\r\n        } else {\r\n          ee.appendChild(document.createElement('span'))\r\n        }\r\n        e.firstElementChild.firstElementChild.innerText = s.name\r\n      }\r\n      if (s.date_accessed) {\r\n        e.appendChild((ee = document.createElement('td')))\r\n        ee.appendChild(document.createElement('span'))\r\n        ee.firstElementChild.innerText = s.date_accessed\r\n      }\r\n    } else {\r\n      e.className = 'card'\r\n      if (s.name) {\r\n        e.appendChild((ee = document.createElement('div')))\r\n        ee.className = 'card-header'\r\n        if (s.url) {\r\n          ee.appendChild((ee = document.createElement('a')))\r\n          ee.target = '_blank'\r\n          ee.rel = 'noreferrer'\r\n          ee.href = s.url\r\n        } else {\r\n          ee.appendChild(document.createElement('span'))\r\n        }\r\n        e.firstElementChild.firstElementChild.innerText = s.name\r\n      }\r\n      e.appendChild(document.createElement('div'))\r\n      e.lastElementChild.className = 'card-body'\r\n      if (s.location) {\r\n        e.lastElementChild.appendChild((ee = document.createElement('p')))\r\n        ee.appendChild(document.createElement('span'))\r\n        ee.lastElementChild.innerText = 'Location: '\r\n        ee.appendChild(document.createElement('span'))\r\n        if (s.location_url) {\r\n          ee.lastElementChild.appendChild((ee = document.createElement('a')))\r\n          ee.target = '_blank'\r\n          ee.rel = 'noreferrer'\r\n          ee.href = s.location_url\r\n          ee.innerText = s.location\r\n        } else {\r\n          ee.lastElementChild.innerText = s.location\r\n        }\r\n      }\r\n      if (s.date_accessed) {\r\n        e.lastElementChild.appendChild((ee = document.createElement('p')))\r\n        ee.appendChild(document.createElement('span'))\r\n        ee.lastElementChild.innerText = 'Date Accessed: '\r\n        ee.appendChild(document.createElement('span'))\r\n        ee.lastElementChild.innerText = s.date_accessed\r\n      }\r\n    }\r\n    return e\r\n  }\r\n\r\n  function show_variable_info() {\r\n    const v = _u[this.view],\r\n      name = valueOf(this.v || v.y),\r\n      info = site.data.variable_info[name]\r\n    page.modal.info.header.firstElementChild.innerText = info.short_name\r\n    page.modal.info.title.innerText = info.long_name\r\n    set_description(page.modal.info.description, info)\r\n    page.modal.info.name.lastElementChild.innerText = name\r\n    page.modal.info.type.lastElementChild.innerText = info.type || ''\r\n    if (info.sources && info.sources.length) {\r\n      page.modal.info.sources.lastElementChild.innerHTML = ''\r\n      page.modal.info.sources.classList.remove('hidden')\r\n      info.sources.forEach(s => {\r\n        page.modal.info.sources.lastElementChild.appendChild(make_variable_source(s))\r\n      })\r\n    } else page.modal.info.sources.classList.add('hidden')\r\n    if (info.citations && info.citations.length) {\r\n      page.modal.info.references.lastElementChild.innerHTML = ''\r\n      page.modal.info.references.classList.remove('hidden')\r\n      if ('string' === typeof info.citations) info.citations = [info.citations]\r\n      if ('references' in site.data) {\r\n        delete site.data.variable_info._references\r\n        delete site.data.references\r\n      }\r\n      if (!('_references' in site.data.variable_info)) {\r\n        const r = {}\r\n        site.data.variable_info._references = r\r\n        Object.keys(site.data.info).forEach(d => {\r\n          const m = site.data.info[d]\r\n          if ('_references' in m) {\r\n            Object.keys(m._references).forEach(t => {\r\n              if (!(t in r))\r\n                r[t] = {\r\n                  reference: m._references[t],\r\n                  element: make_variable_reference(m._references[t]),\r\n                }\r\n            })\r\n          }\r\n        })\r\n      }\r\n      const r = site.data.variable_info._references\r\n      info.citations.forEach(c => {\r\n        if (c in r) page.modal.info.references.lastElementChild.appendChild(r[c].element)\r\n      })\r\n    } else page.modal.info.references.classList.add('hidden')\r\n  }\r\n\r\n  function parse_variables(s, type, e, entity) {\r\n    if ('statement' === type) {\r\n      for (let m, v; (m = patterns.mustache.exec(s)); ) {\r\n        if ('value' === m[1]) {\r\n          v = entity\r\n            ? site.data.format_value(\r\n                entity.get_value(e.v, e.time),\r\n                patterns.int_types.test(site.data.variable_info[e.v].type)\r\n              )\r\n            : NaN\r\n          s = s.replace(\r\n            m[0],\r\n            NaN !== v && site.data.variable_info[e.v].type in value_types\r\n              ? value_types[site.data.variable_info[e.v].type](v)\r\n              : v\r\n          )\r\n          patterns.mustache.lastIndex = 0\r\n        } else if (entity) {\r\n          if ('region_name' === m[1]) {\r\n            s = s.replace(m[0], entity.features.name)\r\n            patterns.mustache.lastIndex = 0\r\n          } else if (patterns.features.test(m[1])) {\r\n            s = s.replace(m[0], entity.features[m[1].replace(patterns.features, '')])\r\n            patterns.mustache.lastIndex = 0\r\n          } else if (patterns.variables.test(m[1])) {\r\n            s = s.replace(m[0], entity.variables[e.v][m[1].replace(patterns.variables, '')])\r\n            patterns.mustache.lastIndex = 0\r\n          } else if (patterns.data.test(m[1])) {\r\n            s = s.replace(m[0], entity.get_value(m[1].replace(patterns.data, ''), e.time))\r\n            patterns.mustache.lastIndex = 0\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return s\r\n  }\r\n\r\n  let k, i, e, ee, c\r\n  // get options from url\r\n  site.query = k = window.location.search.replace('?', '')\r\n  site.url_options = {}\r\n  if (k) {\r\n    e = k.split('&')\r\n    for (i = e.length; i--; ) {\r\n      c = e[i].split('=')\r\n      if (c.length < 2) c.push('true')\r\n      c[1] = patterns.bool.test(c[1]) ? !!c[1] || 'true' === c[1] : c[1].replace(patterns.url_spaces, ' ')\r\n      site.url_options[c[0]] = c[1]\r\n      if (patterns.settings.test(c[0])) storage.set(c[0].replace(patterns.settings, ''), c[1])\r\n    }\r\n  }\r\n\r\n  // prepare embedded view\r\n  if ('embedded' in site.url_options || 'hide_navbar' in site.url_options) {\r\n    if (!('hide_logo' in site.url_options)) site.url_options.hide_logo = true\r\n    if (!('hide_title' in site.url_options)) site.url_options.hide_title = true\r\n    if (!('hide_navcontent' in site.url_options)) site.url_options.hide_navcontent = true\r\n    if (!('hide_panels' in site.url_options)) site.url_options.hide_panels = true\r\n    if ('embedded' in site.url_options && !('close_menus' in site.url_options)) site.url_options.close_menus = true\r\n  }\r\n  e = page.navbar\r\n  if (e) {\r\n    e.querySelectorAll('button').forEach(b => {\r\n      const panel = document.querySelector(b.getAttribute('data-bs-target'))\r\n      if (panel && 'false' === panel.getAttribute('data-bs-backdrop')) {\r\n        panel.addEventListener('show.bs.offcanvas', function () {\r\n          page.content_bounds.outer_right = panel.getBoundingClientRect().width\r\n          content_resize(void 0, true)\r\n          setTimeout(trigger_resize, 200)\r\n        })\r\n        panel.addEventListener('hide.bs.offcanvas', function () {\r\n          page.content_bounds.outer_right = 0\r\n          content_resize(void 0, true)\r\n          setTimeout(trigger_resize, 200)\r\n        })\r\n      }\r\n    })\r\n    if ('navcolor' in site.url_options) {\r\n      if ('' === site.url_options.navcolor) site.url_options.navcolor = window.location.hash\r\n      e.style.backgroundColor = site.url_options.navcolor.replace('%23', '#')\r\n    }\r\n    if (site.url_options.hide_logo && site.url_options.hide_title && site.url_options.hide_navcontent) {\r\n      e.classList.add('hidden')\r\n    } else {\r\n      e = document.querySelector('.navbar-brand')\r\n      if (e) {\r\n        if (site.url_options.hide_logo && 'IMG' === e.firstElementChild.tagName)\r\n          e.firstElementChild.classList.add('hidden')\r\n        if (site.url_options.hide_title && 'IMG' !== e.lastElementChild.tagName)\r\n          e.lastElementChild.classList.add('hidden')\r\n      }\r\n      if (site.url_options.hide_navcontent) {\r\n        document.querySelector('.navbar-toggler').classList.add('hidden')\r\n        e = document.querySelector('.navbar-nav')\r\n        if (e) e.classList.add('hidden')\r\n      }\r\n    }\r\n    if (site.url_options.hide_panels && page.panels.length) {\r\n      for (i = page.panels.length; i--; ) {\r\n        page.panels[i].classList.add('hidden')\r\n      }\r\n    }\r\n  }\r\n\r\n  // check for stored settings\r\n  storage.copy = storage.get()\r\n  if (storage.copy)\r\n    for (const k in site.settings) {\r\n      if (k in storage.copy) {\r\n        let c = storage.copy[k]\r\n        if (patterns.bool.test(c)) {\r\n          c = !!c || 'true' === c\r\n        } else if (patterns.number.test(c)) c = parseFloat(c)\r\n        site.settings[k] = c\r\n      }\r\n    }\r\n\r\n  // preprocess polynomial palettes\r\n  function poly_channel(ch, pos, coefs) {\r\n    const n = coefs.length\r\n    let v = coefs[0][ch] + pos * coefs[1][ch],\r\n      i = 2\r\n    for (; i < n; i++) {\r\n      v += Math.pow(pos, i) * coefs[i][ch]\r\n    }\r\n    return Math.max(0, Math.min(255, v))\r\n  }\r\n  Object.keys(palettes).forEach(k => {\r\n    const n = 255,\r\n      p = palettes[k]\r\n    if ('continuous-polynomial' === p.type) {\r\n      const c = p.colors\r\n      p.type = 'discrete'\r\n      p.colors = []\r\n      for (let i = 0; i < n; i++) {\r\n        const v = i / n\r\n        p.colors.push(\r\n          'rgb(' + poly_channel(0, v, c) + ', ' + poly_channel(1, v, c) + ', ' + poly_channel(2, v, c) + ')'\r\n        )\r\n      }\r\n    }\r\n    p.odd = p.colors.length % 2\r\n  })\r\n\r\n  window.onload = function () {\r\n    page.navbar = document.querySelector('.navbar')\r\n    page.navbar = page.navbar ? page.navbar.getBoundingClientRect() : {height: 0}\r\n    page.content = document.querySelector('.content')\r\n    page.menus = document.querySelectorAll('.menu-wrapper')\r\n    page.panels = document.querySelectorAll('.panel')\r\n    page.content_bounds = {\r\n      top: page.navbar.height,\r\n      right: 0,\r\n      bottom: 0,\r\n      left: 0,\r\n      outer_right: 0,\r\n    }\r\n    page.script_style = document.head.appendChild(document.createElement('style'))\r\n    if (site.settings.hide_tooltips) page.script_style.sheet.insertRule(tooltip_icon_rule, 0)\r\n    page.menu_toggler = {\r\n      hide: function () {\r\n        page.menu_toggler.timeout = -1\r\n        this.classList.add('hidden')\r\n        content_resize()\r\n      },\r\n      toggle: function (type) {\r\n        if (page.menu_toggler.timeout > 0) clearTimeout(page.menu_toggler.timeout)\r\n        page.menu_toggler.timeout = -1\r\n        if ('closed' === this.parentElement.state) {\r\n          this.parentElement.state = 'open'\r\n          this.parentElement.firstElementChild.classList.remove('hidden')\r\n          this.parentElement.style[type] = '0px'\r\n          page.content.style[type] =\r\n            this.parentElement.getBoundingClientRect()['left' === type || 'right' === type ? 'width' : 'height'] + 'px'\r\n          if ('top' === type || 'bottom' === type) this.style[type] = page.content_bounds[type] + 'px'\r\n          setTimeout(trigger_resize, 300)\r\n        } else {\r\n          this.parentElement.state = 'closed'\r\n          if ('left' === type || 'right' === type) {\r\n            this.parentElement.style[type] = -this.parentElement.getBoundingClientRect().width + 'px'\r\n            page.content.style[type] = page.content_bounds[type] + 'px'\r\n          } else {\r\n            const b = this.parentElement.getBoundingClientRect()\r\n            page.content.style[type] = page.content_bounds[type] + ('top' === type ? 40 : 0) + 'px'\r\n            this.parentElement.style[type] = -b.height + ('top' === type ? page.content_bounds.top : 0) + 'px'\r\n            if ('top' === type || 'bottom' === type) this.style[type] = b.height + 'px'\r\n          }\r\n          page.menu_toggler.timeout = setTimeout(page.menu_toggler.hide.bind(this.parentElement.firstElementChild), 300)\r\n        }\r\n      },\r\n      timeout: -1,\r\n    }\r\n    page.modal = {\r\n      info: {\r\n        init: false,\r\n        e: document.createElement('div'),\r\n      },\r\n      filter: {\r\n        init: false,\r\n        e: document.createElement('div'),\r\n      },\r\n    }\r\n    page.load_screen = document.getElementById('load_screen')\r\n\r\n    // initialize tags\r\n    if (site.settings.tracking && site.tag_id) {\r\n      gtag('js', new Date())\r\n      gtag('config', site.tag_id)\r\n    }\r\n\r\n    // make variable info popup\r\n    e = page.modal.info.e\r\n    document.body.appendChild(e)\r\n    page.modal.info.init = true\r\n    e.id = 'variable_info_display'\r\n    e.className = 'modal fade'\r\n    e.setAttribute('tabindex', '-1')\r\n    e.setAttribute('aria-labelledby', 'variable_info_title')\r\n    e.ariaHidden = 'true'\r\n    e.appendChild(document.createElement('div'))\r\n    e.firstElementChild.className = 'modal-dialog modal-dialog-scrollable'\r\n    e.firstElementChild.appendChild(document.createElement('div'))\r\n    e.firstElementChild.firstElementChild.className = 'modal-content'\r\n    e.firstElementChild.firstElementChild.appendChild((page.modal.info.header = document.createElement('div')))\r\n    e = page.modal.info\r\n    e.header.className = 'modal-header'\r\n    e.header.appendChild(document.createElement('p'))\r\n    e.header.firstElementChild.className = 'h5 modal-title'\r\n    e.header.firstElementChild.id = 'variable_info_title'\r\n    e.header.appendChild(document.createElement('button'))\r\n    e.header.lastElementChild.type = 'button'\r\n    e.header.lastElementChild.className = 'btn-close'\r\n    e.header.lastElementChild.setAttribute('data-bs-dismiss', 'modal')\r\n    e.header.lastElementChild.title = 'close'\r\n    e.header.insertAdjacentElement('afterEnd', (e.body = document.createElement('div')))\r\n    e.body.className = 'modal-body'\r\n    e.body.appendChild((e.title = document.createElement('p')))\r\n    e.title.className = 'h4'\r\n    e.body.appendChild((e.description = document.createElement('p')))\r\n\r\n    e.body.appendChild(document.createElement('table'))\r\n    e.body.lastElementChild.className = 'info-feature-table'\r\n\r\n    e.body.lastElementChild.appendChild((e.name = document.createElement('tr')))\r\n    e.name.appendChild(document.createElement('th'))\r\n    e.name.firstElementChild.innerText = 'Name'\r\n    e.name.appendChild(document.createElement('td'))\r\n\r\n    e.body.lastElementChild.appendChild((e.type = document.createElement('tr')))\r\n    e.type.appendChild(document.createElement('th'))\r\n    e.type.firstElementChild.innerText = 'Type'\r\n    e.type.appendChild(document.createElement('td'))\r\n\r\n    e.body.appendChild((e.sources = document.createElement('div')))\r\n    e.sources.appendChild(document.createElement('p'))\r\n    e.sources.lastElementChild.innerText = 'Sources'\r\n    e.sources.lastElementChild.className = 'h3'\r\n    e.sources.appendChild(document.createElement('div'))\r\n    e.sources.lastElementChild.className = 'sources-cards'\r\n\r\n    e = page.modal.info\r\n    e.body.appendChild((e.references = document.createElement('div')))\r\n    e.references.appendChild(document.createElement('p'))\r\n    e.references.firstElementChild.className = 'h3'\r\n    e.references.firstElementChild.innerText = 'References'\r\n    e.references.appendChild((e = document.createElement('ul')))\r\n    e.className = 'reference-list'\r\n\r\n    // set up filter's time range\r\n    document.body.appendChild((e = page.modal.filter.e))\r\n    page.modal.filter.init = true\r\n    e.id = 'filter_display'\r\n    e.className = 'modal fade'\r\n    e.setAttribute('aria-labelledby', 'filter_title')\r\n    e.ariaHidden = 'true'\r\n    e.appendChild(document.createElement('div'))\r\n    e.firstElementChild.className = 'modal-dialog'\r\n    e.firstElementChild.appendChild(document.createElement('div'))\r\n    e.firstElementChild.firstElementChild.className = 'modal-content'\r\n    e.firstElementChild.firstElementChild.appendChild((page.modal.filter.header = document.createElement('div')))\r\n    e = page.modal.filter\r\n    e.header.className = 'modal-header'\r\n    e.header.appendChild(document.createElement('p'))\r\n    e.header.firstElementChild.className = 'h5 modal-title'\r\n    e.header.firstElementChild.id = 'filter_title'\r\n    e.header.firstElementChild.innerText = 'Filter'\r\n    e.header.appendChild(document.createElement('button'))\r\n    e.header.lastElementChild.type = 'button'\r\n    e.header.lastElementChild.className = 'btn-close'\r\n    e.header.lastElementChild.setAttribute('data-bs-dismiss', 'modal')\r\n    e.header.lastElementChild.title = 'close'\r\n    e.header.insertAdjacentElement('afterEnd', (e.body = document.createElement('div')))\r\n    e.body.className = 'modal-body'\r\n    e.body.appendChild(document.createElement('p'))\r\n    e.body.lastElementChild.className = 'h6 text-muted'\r\n    e.body.lastElementChild.innerText = 'Time Range'\r\n\r\n    e.body.appendChild((e.time_range = document.createElement('div')))\r\n    e.time_range.className = 'row'\r\n\r\n    e.time_range.appendChild(document.createElement('div'))\r\n    e.time_range.lastElementChild.className = 'col'\r\n    e.time_range.lastElementChild.appendChild((ee = document.createElement('div')))\r\n    ee.className = 'form-floating text-wrapper wrapper'\r\n    ee.appendChild(document.createElement('input'))\r\n    ee.lastElementChild.className = 'form-control auto-input'\r\n    ee.lastElementChild.setAttribute('data-autoType', 'number')\r\n    ee.lastElementChild.setAttribute('data-default', 'min')\r\n    ee.lastElementChild.max = 'filter.time_max'\r\n    ee.lastElementChild.type = 'number'\r\n    ee.lastElementChild.autoType = 'number'\r\n    ee.lastElementChild.id = 'filter.time_min'\r\n    ee.appendChild(document.createElement('label'))\r\n    ee.lastElementChild.innerText = 'First Time'\r\n    ee.lastElementChild.setAttribute('for', 'filter.time_min')\r\n    e.time_range.appendChild(document.createElement('div'))\r\n    e.time_range.lastElementChild.className = 'col'\r\n    e.time_range.lastElementChild.appendChild((ee = document.createElement('div')))\r\n    ee.className = 'form-floating text-wrapper wrapper'\r\n    ee.appendChild(document.createElement('input'))\r\n    ee.lastElementChild.className = 'form-control auto-input'\r\n    ee.lastElementChild.setAttribute('data-autoType', 'number')\r\n    ee.lastElementChild.setAttribute('data-default', 'max')\r\n    ee.lastElementChild.min = 'filter.time_min'\r\n    ee.lastElementChild.type = 'number'\r\n    ee.lastElementChild.autoType = 'number'\r\n    ee.lastElementChild.id = 'filter.time_max'\r\n    ee.appendChild(document.createElement('label'))\r\n    ee.lastElementChild.innerText = 'Last Time'\r\n    ee.lastElementChild.setAttribute('for', 'filter.time_max')\r\n\r\n    page.panels.length &&\r\n      page.panels.forEach(p => {\r\n        const side = p.classList.contains('panel-left') ? 'left' : 'right'\r\n        page.content_bounds[side] = p.getBoundingClientRect().width\r\n        p.style.marginTop = page.content_bounds.top + 'px'\r\n        p.lastElementChild.addEventListener(\r\n          'click',\r\n          function () {\r\n            const w = p.getBoundingClientRect().width,\r\n              bw = p.lastElementChild.getBoundingClientRect().width\r\n            if ('true' === p.lastElementChild.getAttribute('aria-expanded')) {\r\n              page.content_bounds[side] = bw\r\n              if (page.top_menu) page.top_menu.style[side] = bw + 'px'\r\n              if (page.bottom_menu) page.bottom_menu.style[side] = bw + 'px'\r\n              p.style[side] = -w + bw + 'px'\r\n              p.lastElementChild.setAttribute('aria-expanded', 'false')\r\n            } else {\r\n              page.content_bounds[side] = w\r\n              if (page.top_menu) page.top_menu.style[side] = w + 'px'\r\n              if (page.bottom_menu) page.bottom_menu.style[side] = w + 'px'\r\n              p.style[side] = '0px'\r\n              p.lastElementChild.setAttribute('aria-expanded', 'true')\r\n            }\r\n            content_resize()\r\n            setTimeout(trigger_resize, 200)\r\n          }.bind(p)\r\n        )\r\n      })\r\n    page.menus.length &&\r\n      page.menus.forEach(m => {\r\n        const has_toggler = m.lastElementChild.tagName === 'BUTTON'\r\n        m.state = m.getAttribute('data-state')\r\n        if (m.classList.contains('menu-top')) {\r\n          page.top_menu = m\r\n          page.top_menu.style.left = page.content_bounds.left + 'px'\r\n          page.top_menu.style.right = page.content_bounds.right + 'px'\r\n          if (has_toggler) {\r\n            m.lastElementChild.addEventListener('click', page.menu_toggler.toggle.bind(m.lastElementChild, 'top'))\r\n            m.lastElementChild.style.top = page.content_bounds.top + 'px'\r\n          }\r\n        } else if (m.classList.contains('menu-right')) {\r\n          page.right_menu = m\r\n          page.right_menu.style.right = page.content_bounds.right + 'px'\r\n          if (has_toggler) {\r\n            m.lastElementChild.addEventListener('click', page.menu_toggler.toggle.bind(m.lastElementChild, 'right'))\r\n            m.lastElementChild.style.top = page.content_bounds.top + 'px'\r\n          }\r\n        } else if (m.classList.contains('menu-bottom')) {\r\n          page.bottom_menu = m\r\n          page.content_bounds.bottom = 40\r\n          page.bottom_menu.style.left = page.content_bounds.left + 'px'\r\n          page.bottom_menu.style.right = page.content_bounds.right + 'px'\r\n          if (has_toggler) {\r\n            m.lastElementChild.addEventListener('click', page.menu_toggler.toggle.bind(m.lastElementChild, 'bottom'))\r\n          }\r\n        } else if (m.classList.contains('menu-left')) {\r\n          page.left_menu = m\r\n          page.left_menu.style.left = page.content_bounds.left + 'px'\r\n          if (has_toggler) {\r\n            m.lastElementChild.addEventListener('click', page.menu_toggler.toggle.bind(m.lastElementChild, 'left'))\r\n            m.lastElementChild.style.top = page.content_bounds.top + 'px'\r\n          }\r\n        }\r\n        if (site.url_options.close_menus && 'open' === m.state) m.lastElementChild.click()\r\n      })\r\n\r\n    // initialize global tooltip\r\n    page.tooltip = {\r\n      e: document.createElement('div'),\r\n      showing: '',\r\n    }\r\n    page.tooltip.e.className = 'tooltip hidden'\r\n    page.tooltip.e.appendChild(document.createElement('p'))\r\n    document.body.appendChild(page.tooltip.e)\r\n    document.body.addEventListener('mouseover', tooltip_clear)\r\n\r\n    // initialize tutorial selection dialog\r\n    if (site.tutorials) {\r\n      page.tutorials = new TutorialManager(site.tutorials, _u, global_reset)\r\n      page.overlay.appendChild(page.tutorials.container)\r\n    }\r\n\r\n    // initialize inputs\r\n    if (site.dataviews) {\r\n      for (const k in site.dataviews)\r\n        if (k in site.dataviews) {\r\n          defaults.dataview = k\r\n          break\r\n        }\r\n    } else {\r\n      site.dataviews = {}\r\n      site.dataviews[defaults.dataview] = {}\r\n    }\r\n    document.querySelectorAll('.auto-input').forEach(elements.init_input)\r\n\r\n    // initialize variables\r\n    if (site.variables && site.variables.length) {\r\n      site.variables.forEach(v => {\r\n        const k = v.id,\r\n          u = {\r\n            id: k,\r\n            type: 'virtual',\r\n            source: v.default,\r\n            previous: void 0,\r\n            default: v.default,\r\n            display: v.display,\r\n            current_index: -1,\r\n            values: [],\r\n            states: v.states,\r\n            update: function () {\r\n              this.source = void 0\r\n              for (let p, i = this.states.length; i--; ) {\r\n                p = true\r\n                for (let c = this.states[i].condition.length; c--; ) {\r\n                  const r = this.states[i].condition[c]\r\n                  if (DataHandler.checks[r.type](valueOf(r.id), valueOf(r.value))) {\r\n                    if (r.any) {\r\n                      p = true\r\n                      break\r\n                    }\r\n                  } else p = false\r\n                }\r\n                if (p) {\r\n                  this.source = this.states[i].value\r\n                  break\r\n                }\r\n              }\r\n              if (!this.source) this.source = this.default\r\n              if (this.source !== this.previous) {\r\n                this.previous = this.source\r\n                request_queue(this.id)\r\n              } else if (this.source in _u) {\r\n                const r = _u[this.source].value()\r\n                if (r !== this.previous) {\r\n                  this.previous = r\r\n                  request_queue(this.id)\r\n                }\r\n              }\r\n            },\r\n            value: function () {\r\n              return valueOf(this.source)\r\n            },\r\n            set: function (v) {\r\n              if (-1 !== this.values.indexOf(v)) {\r\n                this.previous = this.source\r\n                this.source = v\r\n              } else if (this.source) {\r\n                const c = _u[this.source]\r\n                if (\r\n                  'select' === c.type || 'combobox' === c.type\r\n                    ? v in c.values || v in c.display\r\n                    : -1 !== c.values.indexOf(v)\r\n                ) {\r\n                  c.set(v)\r\n                }\r\n              }\r\n              request_queue(this.id)\r\n            },\r\n          }\r\n        _u[k] = u\r\n        if (u.source) u.values.push(u.source)\r\n        const p = {}\r\n        u.states.forEach(si => {\r\n          u.values.push(si.value)\r\n          si.condition.forEach(c => {\r\n            p[c.id] = {type: 'update', id: k}\r\n            add_dependency(c.id, {type: 'update', id: k})\r\n          })\r\n        })\r\n        u.values.forEach(id => {\r\n          if (id in _u) add_dependency(id, {type: 'update', id: k})\r\n        })\r\n      })\r\n    }\r\n\r\n    // initialize rules\r\n    if (site.rules && site.rules.length) {\r\n      site.rules.forEach((r, i) => {\r\n        if ('display' in r.effects) {\r\n          r.effects.display = {e: document.getElementById(r.effects.display)}\r\n          e = r.effects.display.e.querySelector('.auto-input')\r\n          if (e) {\r\n            const u = _u[e.id]\r\n            u.rule = r\r\n            r.effects.display.u = u\r\n          }\r\n        }\r\n        if ('lock' in r.effects) {\r\n          const us = new Map()\r\n          document.querySelectorAll('#' + r.effects.lock + ' .auto-input').forEach(e => us.set(e.id, _u[e.id]))\r\n          r.effects.lock = us\r\n        }\r\n        r.condition.forEach(c => {\r\n          if (c.type in DataHandler.checks) {\r\n            c.check = function () {\r\n              return DataHandler.checks[this.type](valueOf(this.id), valueOf(this.value))\r\n            }.bind(c)\r\n            if (c.id in _u) {\r\n              add_dependency(c.id, {type: 'rule', id: c.id, condition: c, rule: i})\r\n              if (!(c.id in rule_conditions)) rule_conditions[c.id] = {}\r\n              rule_conditions[c.id][i] = r\r\n            }\r\n            if (c.check()) {\r\n              Object.keys(r.effects).forEach(k => {\r\n                if (k in _u) _u[k].set(valueOf(r.effects[k]))\r\n              })\r\n            } else if (c.default) {\r\n              Object.keys(r.effects).forEach(k => {\r\n                if (k in _u) _u[k].set(valueOf(c.default))\r\n              })\r\n            }\r\n          }\r\n        })\r\n      })\r\n    }\r\n\r\n    keys._u = Object.keys(_u)\r\n    window.addEventListener('resize', content_resize)\r\n\r\n    if (!site.metadata.datasets) drop_load_screen()\r\n\r\n    if (!site.dataviews[defaults.dataview].dataset) {\r\n      if (1 === site.metadata.datasets.length) {\r\n        defaults.dataset = site.metadata.datasets[0]\r\n      } else {\r\n        const info = site.data.info\r\n        for (let i = keys._u.length; i--; ) {\r\n          const u = _u[keys._u[i]]\r\n          if (u.dataset in info) {\r\n            defaults.dataset = u.dataset\r\n            break\r\n          } else if (u.default in info) {\r\n            defaults.dataset = u.default\r\n            break\r\n          } else if ('select' === u.type && u.options[u.default] && u.options[u.default].value in info) {\r\n            defaults.dataset = u.options[u.default].value\r\n            break\r\n          } else if (Array.isArray(u.values) && u.values[u.default] && u.values[u.default] in info) {\r\n            defaults.dataset = u.values[u.default]\r\n            break\r\n          }\r\n        }\r\n        if (!defaults.dataset) defaults.dataset = site.metadata.datasets[site.metadata.datasets.length - 1]\r\n      }\r\n      keys._u.forEach(k => {\r\n        const u = _u[k]\r\n        if (!u.dataset) u.dataset = defaults.dataset\r\n      })\r\n      site.dataviews[defaults.dataview].dataset = defaults.dataset\r\n    }\r\n    if ('undefined' === typeof DataHandler) {\r\n      site.data = {}\r\n    } else {\r\n      defaults.dataset = valueOf(site.dataviews[defaults.dataview].dataset)\r\n      if ('number' === typeof defaults.dataset) defaults.dataset = site.metadata.datasets[defaults.dataset]\r\n      site.data = new DataHandler(site, defaults, site.data, {\r\n        init: init,\r\n        onload: function () {\r\n          if (site.data.inited) clearTimeout(site.data.inited.load_screen)\r\n          setTimeout(drop_load_screen, 600)\r\n          delete this.onload\r\n        },\r\n        data_load: function () {\r\n          Object.keys(_c).forEach(request_queue)\r\n        },\r\n      })\r\n    }\r\n\r\n    if (page.load_screen && site.data.inited) {\r\n      site.data.inited.load_screen = setTimeout(drop_load_screen, 3000)\r\n    } else {\r\n      page.wrap.style.visibility = 'visible'\r\n    }\r\n  }\r\n\r\n  function drop_load_screen() {\r\n    if (site.data.inited) clearTimeout(site.data.inited.load_screen)\r\n    page.wrap.style.visibility = 'visible'\r\n    page.load_screen.style.display = 'none'\r\n    if (site.tutorials && 'tutorial' in site.url_options) {\r\n      setTimeout(\r\n        page.tutorials.start_tutorial.bind(page.tutorials, {target: {dataset: {name: site.url_options.tutorial}}}),\r\n        0\r\n      )\r\n    }\r\n  }\r\n\r\n  function clear_storage() {\r\n    if (window.localStorage) storage.perm.removeItem(storage.name)\r\n    window.location.reload()\r\n  }\r\n\r\n  function content_resize(e, full) {\r\n    const f = page[full ? 'wrap' : 'content']\r\n    if (!full) {\r\n      f.style.top =\r\n        (page.top_menu && 'open' === page.top_menu.state\r\n          ? page.top_menu.getBoundingClientRect().height\r\n          : page.content_bounds.top +\r\n            ((!page.top_menu && !page.left_menu && !page.right_menu) ||\r\n            (page.right_menu && 'open' === page.right_menu.state) ||\r\n            (page.left_menu && 'open' === page.left_menu.state)\r\n              ? 0\r\n              : 40)) + 'px'\r\n      f.style.bottom =\r\n        page.content_bounds.bottom +\r\n        (!page.bottom_menu || 'closed' === page.bottom_menu.state\r\n          ? 0\r\n          : page.bottom_menu.getBoundingClientRect().height) +\r\n        'px'\r\n      f.style.left =\r\n        page.content_bounds.left +\r\n        (!page.left_menu || 'closed' === page.left_menu.state ? 0 : page.left_menu.getBoundingClientRect().width) +\r\n        'px'\r\n    }\r\n    f.style.right =\r\n      page.content_bounds[full ? 'outer_right' : 'right'] +\r\n      (!page.right_menu || 'closed' === page.right_menu.state ? 0 : page.right_menu.getBoundingClientRect().width) +\r\n      'px'\r\n  }\r\n\r\n  function trigger_resize() {\r\n    'undefined' === typeof module && window.dispatchEvent(new Event('resize'))\r\n  }\r\n\r\n  function get_options_url() {\r\n    let s = ''\r\n    keys._u.forEach(k => {\r\n      const u = _u[k]\r\n      if (u.input && !patterns.settings.test(k)) {\r\n        if (!u.range || u.range[0] !== u.range[1]) {\r\n          let v = u.value()\r\n          if ('off_default' in u ? u.off_default : v !== u.default) {\r\n            if (Array.isArray(v)) v = v.join(',')\r\n            if ('' !== v && null != v && '-1' != v) s += (s ? '&' : '?') + k + '=' + v\r\n          }\r\n        }\r\n      }\r\n    })\r\n    if (site.data && _u._base_filter.c.size) s += (s ? '&' : '?') + _u._base_filter.value([])\r\n    return window.location.protocol + '//' + window.location.host + window.location.pathname + s\r\n  }\r\n\r\n  function init() {\r\n    if (site.data.variables) {\r\n      defaults.variable = Object.keys(site.data.variables)\r\n      defaults.variable = defaults.variable[defaults.variable.length - 1]\r\n    }\r\n    if (!site.map) site.map = {}\r\n    if (!site.map._overlay_property_selectors) site.map._overlay_property_selectors = []\r\n    // initialize inputs\r\n    keys._u.forEach(async k => {\r\n      if (_u[k].type in elements) {\r\n        const o = _u[k],\r\n          combobox = 'combobox' === o.type\r\n        if (o.optionSource) {\r\n          if (patterns.palette.test(o.optionSource)) {\r\n            o.options = []\r\n            Object.keys(palettes).forEach(v => o.options.push(o.add(v, palettes[v].name)))\r\n            if (-1 === o.default) o.default = defaults.palette\r\n          } else if (patterns.datasets.test(o.optionSource)) {\r\n            o.options = []\r\n            site.metadata.datasets.forEach(d => o.options.push(o.add(d)))\r\n          } else {\r\n            o.sensitive = false\r\n            o.option_sets = {}\r\n            if (patterns.properties.test(o.optionSource)) {\r\n              site.map._overlay_property_selectors.push(o)\r\n            }\r\n            if (o.depends) add_dependency(o.depends, {type: 'options', id: o.id})\r\n            if (o.dataset in _u) add_dependency(o.dataset, {type: 'options', id: o.id})\r\n            if (o.view) add_dependency(o.view, {type: 'options', id: o.id})\r\n            const v = valueOf(o.dataset) || defaults.dataset\r\n            if (!o.dataset) o.dataset = v\r\n            if (v in site.data.info) conditionals.options(o)\r\n          }\r\n        }\r\n        if (combobox || 'select' === o.type) {\r\n          // resolve options\r\n          o.set_current = conditionals.set_current.bind(o)\r\n          if (Array.isArray(o.values)) {\r\n            o.values = {}\r\n            o.display = {}\r\n            let new_display = true\r\n            const select = 'select' === o.type\r\n            o.options.forEach(e => {\r\n              if (select) e.dataset.value = e.value\r\n              if (new_display) new_display = e.dataset.value === e.innerText\r\n            })\r\n            o.options.forEach((e, i) => {\r\n              o.values[e.dataset.value] = i\r\n              if (new_display) e.innerText = site.data.format_label(e.dataset.value)\r\n              o.display[e.innerText] = i\r\n            })\r\n            if (!(o.default in o.values) && !(o.default in _u)) {\r\n              o.default = Number(o.default)\r\n              if (isNaN(o.default)) o.default = -1\r\n              if (-1 !== o.default && o.default < o.options.length) {\r\n                o.default = o.options[o.default].dataset.value\r\n              } else {\r\n                o.default = -1\r\n              }\r\n            }\r\n            o.source = ''\r\n            o.id in site.url_options ? o.set(site.url_options[o.id]) : o.reset()\r\n          }\r\n          o.subset = o.e.getAttribute('data-subset') || 'all'\r\n          o.selection_subset = o.e.getAttribute('data-selectionSubset') || o.subset\r\n          if (o.type in site && o.id in site[o.type]) {\r\n            o.settings = site[o.type][o.id]\r\n            if (o.settings.filters) {\r\n              o.filters = o.settings.filters\r\n              o.current_filter = {}\r\n              Object.keys(o.filters).forEach(f => {\r\n                add_dependency(o.filters[f], {type: 'filter', id: o.id})\r\n              })\r\n              o.filter = function () {\r\n                Object.keys(this.filters).forEach(f => {\r\n                  this.current_filter[f] = valueOf(this.filters[f])\r\n                })\r\n                let first\r\n                Object.keys(this.values).forEach((v, i) => {\r\n                  let pass = false\r\n                  if (v in site.data.variables && 'meta' in site.data.variables[v]) {\r\n                    for (const k in this.current_filter)\r\n                      if (k in site.data.variables[v].meta) {\r\n                        pass = site.data.variables[v].meta[k] === this.current_filter[k]\r\n                        if (!pass) break\r\n                      }\r\n                  }\r\n                  if (pass && !first) first = v\r\n                  this.options[i].classList[pass ? 'remove' : 'add']('hidden')\r\n                })\r\n                this.current_index = this.values[this.value()]\r\n                if (\r\n                  first &&\r\n                  (-1 === this.current_index || this.options[this.current_index].classList.contains('hidden'))\r\n                ) {\r\n                  this.set(first)\r\n                }\r\n              }.bind(o)\r\n            }\r\n          }\r\n        } else if ('number' === o.type) {\r\n          // retrieve option values\r\n          o.min = o.e.getAttribute('min')\r\n          o.min_ref = parseFloat(o.min)\r\n          o.min_indicator = o.e.parentElement.parentElement.querySelector('.indicator-min')\r\n          if (o.min_indicator) {\r\n            o.min_indicator.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.set(this.parsed.min)\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.max = o.e.getAttribute('max')\r\n          o.max_ref = parseFloat(o.max)\r\n          o.max_indicator = o.e.parentElement.parentElement.querySelector('.indicator-max')\r\n          if (o.max_indicator) {\r\n            o.max_indicator.addEventListener(\r\n              'click',\r\n              function () {\r\n                this.set(this.parsed.max)\r\n              }.bind(o)\r\n            )\r\n          }\r\n          o.ref = isNaN(o.min_ref) || isNaN(o.max_ref)\r\n          o.range = [o.min_ref, o.max_ref]\r\n          o.step = parseFloat(o.e.step) || 1\r\n          o.parsed = {min: undefined, max: undefined}\r\n          o.depends = {}\r\n          o.default_max = 'max' === o.default || 'last' === o.default\r\n          o.default_min = 'min' === o.default || 'first' === o.default\r\n          o.update = async function () {\r\n            const view = _u[this.view],\r\n              variable = valueOf(this.variable || view.y)\r\n            if (!view.time_range) view.time_range = {time: []}\r\n            let d = view.get ? view.get.dataset() : valueOf(this.dataset),\r\n              min = valueOf(this.min) || view.time,\r\n              max = valueOf(this.max) || view.time\r\n            if (patterns.minmax.test(min)) min = _u[this.min][min]\r\n            if (patterns.minmax.test(max)) max = _u[this.max][max]\r\n            this.parsed.min = isNaN(this.min_ref)\r\n              ? 'undefined' === typeof min\r\n                ? view.time_range.time[0]\r\n                : 'number' === typeof min\r\n                ? min\r\n                : min in site.data.variables\r\n                ? site.data.variables[min].info[d || site.data.variables[min].datasets[0]].min\r\n                : parseFloat(min)\r\n              : this.min_ref\r\n            this.parsed.max = isNaN(this.max_ref)\r\n              ? 'undefined' === typeof max\r\n                ? view.time_range.time[1]\r\n                : 'number' === typeof max\r\n                ? max\r\n                : max in site.data.variables\r\n                ? site.data.variables[max].info[d || site.data.variables[max].datasets[0]].max\r\n                : parseFloat(max)\r\n              : this.min_ref\r\n            if (this.default_min) {\r\n              this.current_default = this.parsed.min\r\n            } else if (this.default_max) {\r\n              this.current_default = this.parsed.max\r\n            }\r\n            if (this.ref && variable in site.data.variables) {\r\n              this.range[0] = this.e.min = isNaN(this.min_ref)\r\n                ? Math.max(view.time_range.time[0], this.parsed.min)\r\n                : this.min_ref\r\n              this.range[1] = this.e.max = isNaN(this.max_ref)\r\n                ? Math.min(view.time_range.time[1], this.parsed.max)\r\n                : this.max_ref\r\n              if (!this.depends[view.y]) {\r\n                this.depends[view.y] = true\r\n                add_dependency(view.y, {type: 'update', id: this.id})\r\n              }\r\n              if (this.source > this.parsed.max || this.source < this.parsed.min) this.reset()\r\n              this.variable = await site.data.get_variable(variable, this.view)\r\n            } else {\r\n              this.e.min = this.parsed.min\r\n              if (this.parsed.min > this.source || (!this.source && this.default_min)) this.set(this.parsed.min)\r\n              this.e.max = this.parsed.max\r\n              if (this.parsed.max < this.source || (!this.source && this.default_max)) this.set(this.parsed.max)\r\n            }\r\n          }.bind(o)\r\n          if (o.view) add_dependency(o.view, {type: 'update', id: o.id})\r\n          if (!(o.max in site.data.variables)) {\r\n            if (o.max in _u) {\r\n              add_dependency(o.max, {type: 'max', id: o.id})\r\n            } else o.e.max = parseFloat(o.max)\r\n          } else if (o.view) {\r\n            add_dependency(o.view + '_time', {type: 'max', id: o.id})\r\n          }\r\n          if (!(o.min in site.data.variables)) {\r\n            if (o.min in _u) {\r\n              add_dependency(o.min, {type: 'min', id: o.id})\r\n            } else o.e.min = parseFloat(o.min)\r\n          } else if (o.view) {\r\n            add_dependency(o.view + '_time', {type: 'min', id: o.id})\r\n          }\r\n          if ('undefined' !== typeof o.default) {\r\n            if (patterns.number.test(o.default)) {\r\n              o.default = Number(o.default)\r\n            } else\r\n              o.reset = o.default_max\r\n                ? function () {\r\n                    if (this.range) {\r\n                      this.current_default = valueOf(this.range[1])\r\n                      this.set(this.current_default)\r\n                    }\r\n                  }.bind(o)\r\n                : o.default_max\r\n                ? function () {\r\n                    if (this.range) {\r\n                      this.current_default = valueOf(this.range[0])\r\n                      this.set(this.current_default)\r\n                    }\r\n                  }.bind(o)\r\n                : this.default in _u\r\n                ? function () {\r\n                    this.current_default = valueOf(this.default)\r\n                    this.set(this.current_default)\r\n                  }.bind(o)\r\n                : function () {}\r\n          }\r\n          if (o.variable) {\r\n            const d = -1 === site.metadata.datasets.indexOf(o.dataset) ? defaults.dataset : o.dataset\r\n            if (o.variable in _u) {\r\n              add_dependency(o.variable, {type: 'update', id: o.id})\r\n            } else if (o.variable in site.data.variables) {\r\n              o.e.min = o.min = o.parsed.min = o.range[0] = site.data.variables[o.variable].info[d].min\r\n              o.e.max = o.max = o.parsed.max = o.range[1] = site.data.variables[o.variable].info[d].max\r\n            }\r\n          }\r\n        } else if ('checkbox' === o.type) {\r\n          o.source = []\r\n          o.current_index = []\r\n          o.default = o.default.split(',')\r\n        }\r\n        if (Array.isArray(o.values)) {\r\n          if (!o.values.length) {\r\n            o.values = []\r\n            if (o.options.length) o.options.forEach(e => o.values.push(e.value || e.dataset.value))\r\n          }\r\n          if (o.values.length && !(o.default in _u) && -1 === o.values.indexOf(o.default)) {\r\n            o.default = parseInt(o.default)\r\n            o.default = o.values.length > o.default ? o.values[o.default] : ''\r\n          }\r\n        }\r\n\r\n        // add listeners\r\n        if (combobox || 'select' === o.type || 'number' === o.type || 'intext' === o.type) {\r\n          o.e.addEventListener('change', o.listen)\r\n          if (\r\n            o.e.parentElement.lastElementChild &&\r\n            o.e.parentElement.lastElementChild.classList.contains('select-reset')\r\n          ) {\r\n            o.e.parentElement.lastElementChild.addEventListener('click', o.reset)\r\n          }\r\n        } else if ('switch' === o.type) {\r\n          if ('boolean' !== typeof o.default) o.default = o.e.checked\r\n          o.e.addEventListener('change', o.listen)\r\n        } else if (o.listen) {\r\n          o.options.forEach(oi => oi.addEventListener('click', o.listen))\r\n        }\r\n        // initialize settings inputs\r\n        if (patterns.settings.test(o.id)) {\r\n          o.setting = o.id.replace(patterns.settings, '')\r\n          if (null == o.default && o.setting in site.settings) o.default = site.settings[o.setting]\r\n          add_dependency(o.id, {type: 'setting', id: o.id})\r\n        }\r\n        if (!o.view) o.view = defaults.dataview\r\n        const v = site.url_options[o.id] || storage.get(o.id.replace(patterns.settings, ''))\r\n        if (v) {\r\n          o.set(patterns.bool.test(v) ? !!v || 'true' === v : v)\r\n        } else o.reset && o.reset()\r\n      }\r\n    })\r\n    // initialize dataviews\r\n    Object.keys(site.dataviews).forEach(k => {\r\n      const e = site.dataviews[k]\r\n      _u[k] = e\r\n      e.id = k\r\n      e.value = function () {\r\n        if (this.get) {\r\n          this.reparse()\r\n          return (\r\n            '' +\r\n            this.parsed.dataset +\r\n            _u._entity_filter.entities.size +\r\n            site.data.inited[this.parsed.dataset] +\r\n            this.parsed.id_source +\r\n            Object.keys(this.parsed.ids) +\r\n            this.parsed.features +\r\n            this.parsed.variables +\r\n            site.settings.summary_selection\r\n          )\r\n        }\r\n      }.bind(e)\r\n      if ('string' === typeof e.palette && e.palette in _u) {\r\n        add_dependency(e.palette, {type: 'dataview', id: k})\r\n      }\r\n      if ('string' === typeof e.dataset && e.dataset in _u) {\r\n        add_dependency(e.dataset, {type: 'dataview', id: k})\r\n      }\r\n      if ('string' === typeof e.ids && e.ids in _u) {\r\n        add_dependency(e.ids, {type: 'dataview', id: k})\r\n      }\r\n      e.time_range = {dataset: '', variable: '', index: [], time: [], filtered: []}\r\n      add_dependency(k, {type: 'time_range', id: k})\r\n      add_dependency('_base_filter', {type: 'dataview', id: k})\r\n      add_dependency('_entity_filter', {type: 'dataview', id: k})\r\n      if (e.x in _u) add_dependency(e.x, {type: 'time_range', id: k})\r\n      if (e.y in _u) add_dependency(e.y, {type: 'time_range', id: k})\r\n      if (e.features)\r\n        Object.keys(e.features).forEach(f => {\r\n          if ('string' === typeof e.features[f] && e.features[f] in _u) {\r\n            add_dependency(e.features[f], {type: 'dataview', id: k})\r\n          }\r\n        })\r\n      if (e.variables)\r\n        e.variables.forEach(v => {\r\n          if ('variable' in v) {\r\n            if (v.variable in _u) {\r\n              add_dependency(v.variable, {type: 'dataview', id: k})\r\n            }\r\n          } else e.variables.splice(i, 1)\r\n          if ('type' in v) {\r\n            if (v.type in _u) {\r\n              add_dependency(v.type, {type: 'dataview', id: k})\r\n            }\r\n          } else v.type = '='\r\n          if ('value' in v) {\r\n            if (v.value in _u) {\r\n              add_dependency(v.value, {type: 'dataview', id: k})\r\n            }\r\n          } else v.value = 0\r\n        })\r\n      compile_dataview(e)\r\n      conditionals.dataview(e)\r\n      e.reparse()\r\n    })\r\n    // initialize outputs\r\n    document.querySelectorAll('.auto-output').forEach(elements.init_output)\r\n\r\n    // make filter popup\r\n    e = page.modal.filter\r\n    e.body.className = 'filter-dialog'\r\n\r\n    // // entity filter\r\n    e.body.appendChild((e.entity_filters = document.createElement('div')))\r\n    e.entity_filters.appendChild(document.createElement('p'))\r\n    e.entity_filters.lastElementChild.className = 'h6 text-muted'\r\n    e.entity_filters.lastElementChild.innerText = 'Select Entities'\r\n    e.entity_filters.appendChild(document.createElement('div'))\r\n    e.entity_filters.lastElementChild.className = 'row'\r\n    e.entity_inputs = {}\r\n    Object.keys(site.data.loaded)\r\n      .reverse()\r\n      .forEach(d => {\r\n        const u = elements.combobox.create(d, void 0, {search: true, multi: true, clearable: true}, 'filter.' + d)\r\n        e.entity_inputs[d] = u\r\n        e.entity_filters.lastElementChild.appendChild(document.createElement('div'))\r\n        e.entity_filters.lastElementChild.lastElementChild.className = 'col-sm'\r\n        e.entity_filters.lastElementChild.lastElementChild.appendChild(u.e.parentElement)\r\n        u.e.parentElement.classList.add('form-floating')\r\n        u.listbox.classList.add('multi')\r\n        u.option_sets = {}\r\n        u.dataset = d\r\n        u.loader = function () {\r\n          site.data.retrieve(this.dataset, site.data.info[this.dataset].site_file)\r\n          this.e.removeEventListener('click', this.loader)\r\n        }.bind(u)\r\n        if (!site.data.loaded[d]) {\r\n          u.e.addEventListener('click', u.loader)\r\n        }\r\n        u.onchange = function () {\r\n          conditionals.id_filter()\r\n          request_queue('_entity_filter')\r\n        }.bind(u)\r\n        u.set_current = conditionals.set_current.bind(u)\r\n        fill_ids_options(\r\n          u,\r\n          d,\r\n          u.option_sets,\r\n          function () {\r\n            this.set_current()\r\n            toggle_input(this, !!this.options.length)\r\n            Object.keys(this.values).forEach(id => {\r\n              _u._entity_filter.entities.set(id, site.data.entities[id])\r\n            })\r\n            _u._entity_filter.registered[d] = true\r\n            this.set(this.id in site.url_options ? site.url_options[this.id].split(',') : -1)\r\n          }.bind(u)\r\n        )\r\n        toggle_input(u, !!u.options.length)\r\n      })\r\n\r\n    // // variable filter\r\n    e.body.appendChild((e.variable_filters = document.createElement('div')))\r\n    e.variable_filters.appendChild(document.createElement('p'))\r\n    e.variable_filters.lastElementChild.className = 'h6 text-muted'\r\n    e.variable_filters.lastElementChild.innerText = 'Variable Conditions'\r\n\r\n    function add_filter_condition(event, presets) {\r\n      if ('A' === event.target.tagName) {\r\n        presets = presets || {}\r\n        const e = document.createElement('tr'),\r\n          f = {\r\n            e,\r\n            index: _u._base_filter.c.size,\r\n            variable: event.target.dataset.value,\r\n            component: presets.component || 'last',\r\n            operator: presets.operator || '>=',\r\n            value: presets.value || '',\r\n            active: true,\r\n            id: 'vf' + _u._base_filter.c.size,\r\n            passed: 0,\r\n            failed: 0,\r\n            info: site.data.variables[event.target.dataset.value].info,\r\n            view: _u[defaults.dataview],\r\n          },\r\n          d = f.view.get.dataset(),\r\n          range = f.info[d].time_range,\r\n          times = site.data.meta.overall.value\r\n        e.setAttribute('data-index', _u._base_filter.c.size)\r\n        _u._base_filter.c.set(_u._base_filter.c.size, f)\r\n        if (presets.time_component) f.component = String(times[f.component])\r\n\r\n        let ee\r\n        // variable name\r\n        e.appendChild(document.createElement('td'))\r\n        e.lastElementChild.appendChild((ee = document.createElement('p')))\r\n        ee.className = 'cell-text'\r\n        ee.innerText = event.target.innerText + (range ? ' (' + times[range[0]] + '-' + times[range[1]] + ')' : '')\r\n\r\n        // filter result\r\n        e.appendChild(document.createElement('td'))\r\n        e.lastElementChild.appendChild((ee = document.createElement('p')))\r\n        ee.className = 'cell-text'\r\n        ee.innerText = '0/0'\r\n\r\n        // active switch\r\n        e.appendChild(document.createElement('td'))\r\n        e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n        ee.innerText = 'Active'\r\n        ee.className = 'filter-label'\r\n        ee.id = f.id + '_switch'\r\n        e.lastElementChild.appendChild((ee = document.createElement('div')))\r\n        ee.className = 'form-check form-switch filter-form-input'\r\n        ee.appendChild((ee = document.createElement('input')))\r\n        ee.className = 'form-check-input'\r\n        ee.type = 'checkbox'\r\n        ee.role = 'switch'\r\n        ee.setAttribute('aria-labelledby', f.id + '_switch')\r\n        ee.checked = true\r\n        ee.addEventListener(\r\n          'change',\r\n          function () {\r\n            f.active = !f.active\r\n            request_queue('_base_filter')\r\n          }.bind(f)\r\n        )\r\n\r\n        // component combobox\r\n        e.appendChild(document.createElement('td'))\r\n        e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n        ee.innerText = 'Component'\r\n        ee.className = 'filter-label'\r\n        ee.id = f.id + '_component'\r\n        const comp_select = elements.combobox.create('component', filter_components.Time)\r\n        comp_select.default = f.component\r\n        comp_select.set(f.component)\r\n        e.lastElementChild.appendChild(comp_select.e.parentElement)\r\n        comp_select.e.parentElement.removeChild(comp_select.e.parentElement.lastElementChild)\r\n        comp_select.e.parentElement.classList.add('filter-form-input')\r\n        comp_select.e.setAttribute('aria-labelledby', f.id + '_component')\r\n        comp_select.input_element.setAttribute('aria-labelledby', f.id + '_component')\r\n        comp_select.onchange = function () {\r\n          f.component = this.value()\r\n          request_queue('_base_filter')\r\n        }.bind(comp_select)\r\n\r\n        // operator select\r\n        e.appendChild(document.createElement('td'))\r\n        e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n        ee.innerText = 'Operator'\r\n        ee.className = 'filter-label'\r\n        ee.id = f.id + '_operator'\r\n        e.lastElementChild.appendChild((ee = document.createElement('select')))\r\n        ee.className = 'form-select filter-form-input'\r\n        ee.setAttribute('aria-labelledby', f.id + '_operator')\r\n        ee.addEventListener('change', e => {\r\n          f.operator = e.target.selectedOptions[0].value\r\n          request_queue('_base_filter')\r\n        })\r\n        ;['>=', '=', '!=', '<='].forEach(k => {\r\n          ee.appendChild(document.createElement('option'))\r\n          ee.lastElementChild.value = ee.lastElementChild.innerText = k\r\n          if (k === f.operator) ee.lastElementChild.selected = true\r\n        })\r\n\r\n        // value input\r\n        e.appendChild(document.createElement('td'))\r\n        e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n        ee.innerText = 'Value'\r\n        ee.className = 'filter-label'\r\n        ee.id = f.id + '_value'\r\n        const value_select = elements.combobox.create('component', ['min', 'q1', 'median', 'mean', 'q3', 'max'])\r\n        value_select.value_type = 'number'\r\n        value_select.default = f.value\r\n        value_select.set(f.value)\r\n        e.lastElementChild.appendChild(value_select.e.parentElement)\r\n        value_select.e.parentElement.removeChild(value_select.e.parentElement.lastElementChild)\r\n        value_select.e.parentElement.classList.add('filter-form-input')\r\n        value_select.e.setAttribute('aria-labelledby', f.id + '_value')\r\n        value_select.input_element.setAttribute('aria-labelledby', f.id + '_value')\r\n        value_select.onchange = async function (f) {\r\n          f.value = this.value()\r\n          if (patterns.number.test(f.value)) {\r\n            f.value = Number(f.value)\r\n            f.value_source = ''\r\n          } else {\r\n            f.view.reparse()\r\n            const v = await site.data.get_variable(f.variable, f.view.id),\r\n              s = v && v.views[f.view.id].summaries[f.view.parsed.dataset]\r\n            if (s && f.value in s) {\r\n              const a = f.view.parsed.variable_values[f.index]\r\n              f.value_source = f.value\r\n              f.value = s[f.value][a.comp_fun(a, f.view.parsed)]\r\n            }\r\n          }\r\n          request_queue('_base_filter')\r\n        }.bind(value_select, f)\r\n\r\n        // remove button\r\n        e.appendChild(document.createElement('td'))\r\n        e.lastElementChild.appendChild((ee = document.createElement('label')))\r\n        ee.innerText = 'Remove'\r\n        ee.className = 'filter-label'\r\n        ee.id = f.id + '_remove'\r\n        e.lastElementChild.appendChild((ee = document.createElement('button')))\r\n        ee.className = 'btn-close filter-form-input'\r\n        ee.type = 'button'\r\n        ee.setAttribute('aria-labelledby', f.id + '_remove')\r\n        ee.addEventListener(\r\n          'mouseup',\r\n          function (e) {\r\n            if (1 === e.which) {\r\n              this.e.parentElement.removeChild(this.e)\r\n              _u._base_filter.c.delete(this.index)\r\n              _u._base_filter.c.forEach((f, i) => {\r\n                if (i > this.index) f.index -= 1\r\n              })\r\n              request_queue('_base_filter')\r\n            }\r\n          }.bind(f)\r\n        )\r\n        request_queue('_base_filter')\r\n        page.modal.filter.variable_filters.lastElementChild.lastElementChild.appendChild(e)\r\n      }\r\n    }\r\n\r\n    // variable filter dropdown\r\n    e.variable_filters.appendChild((ee = document.createElement('div')))\r\n    ee.className = 'row'\r\n\r\n    ee.appendChild(document.createElement('div'))\r\n    ee.lastElementChild.className = 'col'\r\n    ee.lastElementChild.appendChild((c = document.createElement('div')))\r\n    c.className = 'dropdown'\r\n    c.appendChild(document.createElement('button'))\r\n    c.lastElementChild.type = 'button'\r\n    c.lastElementChild.id = 'filter_variable_dropdown'\r\n    c.lastElementChild.className = 'btn dropdown-toggle'\r\n    c.lastElementChild.setAttribute('data-bs-toggle', 'dropdown')\r\n    c.lastElementChild.setAttribute('aria-expanded', false)\r\n    c.lastElementChild.innerText = 'Add Variable Condition'\r\n    c.appendChild(document.createElement('ul'))\r\n    c.lastElementChild.addEventListener('click', add_filter_condition.bind(e))\r\n    c.lastElementChild.className = 'dropdown-menu'\r\n    c.lastElementChild.setAttribute('aria-labelledby', 'filter_variable_dropdown')\r\n    Object.keys(site.data.variables).forEach(k => {\r\n      if (!site.data.variables[k].is_time) {\r\n        const e = document.createElement('li')\r\n        e.appendChild(document.createElement('a'))\r\n        e.lastElementChild.className = 'dropdown-item'\r\n        e.lastElementChild.href = '#'\r\n        e.lastElementChild.dataset.value = k\r\n        e.lastElementChild.innerText = (site.data.variable_info[k] && site.data.variable_info[k].short_name) || k\r\n        c.lastElementChild.appendChild(e)\r\n      }\r\n    })\r\n\r\n    // variable filter table\r\n    e.variable_filters.appendChild((ee = document.createElement('table')))\r\n    ee.className = 'table'\r\n    ee.appendChild((ee = document.createElement('thead')))\r\n    ee.className = 'filter-header'\r\n    e.variable_filters.lastElementChild.appendChild(document.createElement('tbody'))\r\n    e.variable_filters.lastElementChild.lastElementChild.className = 'filter-body'\r\n    ee = ee.appendChild((ee = document.createElement('tr')))\r\n    ;['Variable', 'Result', 'Active', 'Component', 'Operator', 'Value', 'Remove'].forEach(h => {\r\n      ee.appendChild(document.createElement('th'))\r\n      if ('Component' === h || 'Result' === h) {\r\n        const l =\r\n          'Component' === h\r\n            ? {\r\n                wrapper: document.createElement('label'),\r\n                id: 'filter_component_header',\r\n                note: 'Component refers to which single value to filter on for each entity; select a dynamic time reference, or enter a time.',\r\n              }\r\n            : {\r\n                wrapper: document.createElement('label'),\r\n                id: 'filter_result_header',\r\n                note: 'Passing / total entities across loaded datasets.',\r\n              }\r\n        ee.lastElementChild.appendChild(l.wrapper)\r\n        ee.lastElementChild.className = 'has-note'\r\n        l.wrapper.innerText = h\r\n        l.wrapper.id = l.id\r\n        l.wrapper.setAttribute('data-of', l.id)\r\n        l.wrapper.setAttribute('aria-description', l.note)\r\n        ee.lastElementChild.addEventListener('mouseover', tooltip_trigger.bind(l))\r\n      } else {\r\n        ee.lastElementChild.innerText = h\r\n      }\r\n    })\r\n\r\n    keys._u = Object.keys(_u)\r\n    if (site.query) {\r\n      site.parsed_query = site.data.parse_query(site.query)\r\n      if (site.parsed_query.variables.conditions.length) {\r\n        site.parsed_query.variables.conditions.forEach(f => {\r\n          const info = site.data.variable_info[f.name]\r\n          if (info)\r\n            add_filter_condition({target: {tagName: 'A', dataset: {value: f.name}, innerText: info.short_name}}, f)\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  function gtag() {\r\n    if (site.settings.tracking) window.dataLayer.push(arguments)\r\n  }\r\n\r\n  function valueOf(v) {\r\n    if (v in _u) v = _u[v]\r\n    if (v && v.value) v = valueOf(v.value())\r\n    return v\r\n  }\r\n\r\n  function tooltip_trigger() {\r\n    if (site.settings.hide_tooltips || this.id === page.tooltip.showing) return void 0\r\n    page.tooltip.showing = this.id\r\n    page.tooltip.e.firstElementChild.innerText = this.note\r\n    page.tooltip.e.classList.remove('hidden')\r\n    const p = this.wrapper.getBoundingClientRect(),\r\n      t = page.tooltip.e.getBoundingClientRect()\r\n    page.tooltip.e.style.left = Math.max(0, Math.min(p.x, p.x + p.width / 2 - t.width / 2)) + 'px'\r\n    page.tooltip.e.style.top = p.y + (p.y < t.height ? p.height + 5 : -t.height - 5) + 'px'\r\n  }\r\n\r\n  function tooltip_clear(e) {\r\n    if (\r\n      page.tooltip.showing &&\r\n      ('blur' === e.type || page.tooltip.showing !== (e.target.getAttribute('data-of') || e.target.id))\r\n    ) {\r\n      page.tooltip.showing = ''\r\n      page.tooltip.e.classList.add('hidden')\r\n    }\r\n  }\r\n\r\n  async function retrieve_layer(u, source, callback) {\r\n    const mapId = source.name ? source.name + (source.time || '') : source.url\r\n    if (source.url in site.map._raw) {\r\n      process_layer(source, u)\r\n      site.map._queue[mapId].retrieved = true\r\n      callback && callback()\r\n    } else {\r\n      if (site.map._queue[mapId] && 'retrieved' in site.map._queue[mapId]) {\r\n        if (callback) {\r\n          if (!site.map._queue[mapId].callbacks) site.map._queue[mapId].callbacks = []\r\n          site.map._queue[mapId].callbacks.push(callback)\r\n        }\r\n      } else {\r\n        site.map._queue[mapId].retrieved = false\r\n        const f = new window.XMLHttpRequest()\r\n        f.onreadystatechange = () => {\r\n          if (4 === f.readyState && 200 === f.status) {\r\n            site.map._raw[source.url] = f.responseText\r\n            if (source.name) {\r\n              site.map._queue[mapId].retrieved = true\r\n            }\r\n            if (site.map._queue[mapId].callbacks) {\r\n              if (callback) site.map._queue[mapId].callbacks.push(callback)\r\n              site.map._queue[mapId].callbacks.forEach(f => f())\r\n            } else callback && callback()\r\n          }\r\n        }\r\n        f.open('GET', source.url, true)\r\n        f.send()\r\n      }\r\n    }\r\n  }\r\n\r\n  function process_layer(source, u) {\r\n    let p, id\r\n    const has_time = 'time' in source,\r\n      layerId = source.name + (has_time ? source.time : '')\r\n    site.map[u.id]._layers[layerId] = L.geoJSON(JSON.parse(site.map._raw[source.url]), {\r\n      onEachFeature: (f, l) => {\r\n        l.on({\r\n          mouseover: elements.map.mouseover.bind(u),\r\n          mouseout: elements.map.mouseout.bind(u),\r\n          click: elements.map.click.bind(u),\r\n        })\r\n        l.setStyle({weight: 0, fillOpacity: 0})\r\n        l.source = source\r\n        p = l.feature.properties\r\n        id = p[source.id_property]\r\n        if (!(id in site.data.entities) && patterns.leading_zeros.test(id))\r\n          id = p[source.id_property] = id.replace(patterns.leading_zeros, '')\r\n        if (id in site.data.entities) {\r\n          if (!('layer' in site.data.entities[id])) site.data.entities[id].layer = {}\r\n        } else {\r\n          site.data.entities[id] = {layer: {}, features: {id: id}}\r\n        }\r\n        if (has_time) {\r\n          if (!(u.id in site.data.entities[id].layer)) site.data.entities[id].layer[u.id] = {has_time: true}\r\n          site.data.entities[id].layer[u.id][source.time] = l\r\n        } else site.data.entities[id].layer[u.id] = l\r\n        l.entity = site.data.entities[id]\r\n        if (site.data.entities[id].features)\r\n          Object.keys(p).forEach(f => {\r\n            if (!(f in site.data.entities[id].features)) {\r\n              if (\r\n                'name' === f.toLowerCase() &&\r\n                (!('name' in site.data.entities[id].features) ||\r\n                  site.data.entities[id].features.id === site.data.entities[id].features.name)\r\n              ) {\r\n                site.data.entities[id].features[f.toLowerCase()] = p[f]\r\n              } else {\r\n                site.data.entities[id].features[f] = p[f]\r\n              }\r\n            }\r\n          })\r\n      },\r\n    })\r\n    site.data.inited[layerId + u.id] = true\r\n    if (site.map._waiting && site.map._waiting[source.name]) {\r\n      for (let i = site.map._waiting[source.name].length; i--; ) {\r\n        request_queue(site.map._waiting[source.name][i])\r\n      }\r\n    }\r\n  }\r\n\r\n  function show_overlay(u, o, time) {\r\n    let i = 0,\r\n      source = 'string' === typeof o.source ? o.source : ''\r\n    if (!source && o.source) {\r\n      for (i = o.source.length; i--; ) {\r\n        if (!o.source[i].time || time === o.source[i].time) {\r\n          if (o.source[i].name) delete o.source[i].name\r\n          source = o.source[i].url\r\n          break\r\n        }\r\n      }\r\n    }\r\n    if (source) {\r\n      if (source in site.map._raw) {\r\n        if (!(source in site.map[u.id]._layers)) {\r\n          const s = {}\r\n          if (!site.map._queue[source].processed) {\r\n            site.map._queue[source].property_summaries = s\r\n          }\r\n          site.map[u.id]._layers[source] = L.geoJSON(JSON.parse(site.map._raw[source]), {\r\n            pointToLayer: (point, coords) => L.circleMarker(coords),\r\n            onEachFeature: l => {\r\n              const props = l.properties\r\n              if (props) {\r\n                Object.keys(props).forEach(f => {\r\n                  const v = props[f]\r\n                  if ('number' === typeof v) {\r\n                    if (!(f in s)) s[f] = [Infinity, -Infinity]\r\n                    if (v < s[f][0]) s[f][0] = v\r\n                    if (v > s[f][1]) s[f][1] = v\r\n                  }\r\n                })\r\n              }\r\n            },\r\n          }).on('mouseover', l => {\r\n            const layer = l.layer\r\n            if (layer && !layer._tooltip) {\r\n              const props = layer.feature && layer.feature.properties\r\n              if (props) {\r\n                const e = document.createElement('table')\r\n                Object.keys(props).forEach(f => {\r\n                  const v = props[f],\r\n                    r = document.createElement('tr')\r\n                  r.appendChild(document.createElement('td'))\r\n                  r.appendChild(document.createElement('td'))\r\n                  r.firstElementChild.innerText = f\r\n                  r.lastElementChild.innerText = v\r\n                  e.appendChild(r)\r\n                })\r\n                layer.bindTooltip(e)\r\n                layer.openTooltip()\r\n              }\r\n            }\r\n          })\r\n          Object.keys(s).forEach(f => {\r\n            s[f].push(s[f][1] - s[f][0])\r\n            if (!s[f][2]) delete s[f]\r\n          })\r\n          site.map._overlay_property_selectors.forEach(u => {\r\n            if (!(source in u.option_sets)) {\r\n              fill_overlay_properties_options(u, source, u.option_sets)\r\n              u.dataset = source\r\n              u.variable = ''\r\n            }\r\n          })\r\n        }\r\n        site.map._overlay_property_selectors.forEach(u => {\r\n          u.dataset = source\r\n          conditionals.options(u)\r\n        })\r\n        u.overlay.clearLayers()\r\n        let n = 0\r\n        const summaries = site.settings.circle_property && site.map._queue[source].property_summaries,\r\n          prop_summary = summaries && summaries[site.settings.circle_property]\r\n        site.map[u.id]._layers[source].eachLayer(l => {\r\n          if (o.filter) {\r\n            for (let i = o.filter.length; i--; ) {\r\n              if (!o.filter[i].check(l.feature.properties[o.filter[i].feature], o.filter[i].value)) return\r\n            }\r\n          }\r\n          n++\r\n          l.setRadius(\r\n            prop_summary\r\n              ? ((l.feature.properties[site.settings.circle_property] - prop_summary[0]) / prop_summary[2] + 0.5) *\r\n                  site.settings.circle_radius\r\n              : site.settings.circle_radius\r\n          ).setStyle({\r\n            weight: site.settings.polygon_outline,\r\n            color: 'white',\r\n            opacity: 0.5,\r\n            fillOpacity: 0.5,\r\n            fillColor: 'black',\r\n          })\r\n          l.addTo(u.overlay)\r\n        })\r\n        if (n) u.overlay_control.addTo(u.map)\r\n      } else return retrieve_layer(u, o.source[i], show_overlay.bind(null, u, o, time))\r\n    }\r\n  }\r\n  function component_fun(c) {\r\n    if ('string' === typeof c && patterns.number.test(c)) {\r\n      c = site.data.meta.overall.value.indexOf(Number(c))\r\n      if (-1 === c)\r\n        return function () {\r\n          return NaN\r\n        }\r\n    }\r\n    return 'number' === typeof c\r\n      ? time_funs.number.bind(c)\r\n      : c in time_funs\r\n      ? time_funs[c]\r\n      : function () {\r\n          return NaN\r\n        }\r\n  }\r\n  function compile_dataview(v) {\r\n    v.times = []\r\n    if (v.time_filters) {\r\n      v.time_filters = [\r\n        {variable: defaults.time, type: '>=', value: 'filter.time_min'},\r\n        {variable: defaults.time, type: '<=', value: 'filter.time_max'},\r\n      ]\r\n      add_dependency(v.id + '_time', {type: 'min', id: 'filter.time_min'})\r\n      add_dependency(v.id + '_time', {type: 'max', id: 'filter.time_max'})\r\n      v.time_filters.forEach(f => {\r\n        if (f.value in _u) {\r\n          add_dependency(f.value, {type: 'time_filters', id: v.id})\r\n        }\r\n      })\r\n    }\r\n    v.selection = {ids: {}, features: {}, variables: [], dataset: {}, filtered: {}, full_filter: {}, all: {}}\r\n    v.n_selected = {ids: 0, features: 0, variables: 0, dataset: 0, filtered: 0, full_filter: 0, all: 0}\r\n    v.get = {\r\n      dataset: function () {\r\n        let d = defaults.dataset\r\n        if ('string' === typeof v.dataset && v.dataset in _u) {\r\n          d = valueOf(_u[v.dataset].value())\r\n          if (!(d in site.data.data_queue)) {\r\n            d = defaults.dataset\r\n            _u[v.dataset].set(d)\r\n          }\r\n        } else {\r\n          d = valueOf(v.dataset)\r\n        }\r\n        return d in site.data.data_queue ? d : defaults.dataset\r\n      },\r\n      ids: function (single) {\r\n        const id = valueOf('string' === typeof v.ids && v.ids in _u ? _u[v.ids].value() : v.ids)\r\n        if ('' !== id && -1 != id) {\r\n          if (single) return id\r\n          const ids = {},\r\n            e = site.data.entities[id]\r\n          ids[id] = true\r\n          if (e && e.relations) Object.keys(e.relations.children).forEach(k => (ids[k] = true))\r\n          return ids\r\n        } else if (!single && _u._entity_filter.selected.length) {\r\n          return _u._entity_filter.select_ids\r\n        }\r\n        return false\r\n      },\r\n      features: function () {\r\n        let s = ''\r\n        v.features &&\r\n          Object.keys(v.features).forEach(k => {\r\n            s += k + valueOf(v.features[k])\r\n          })\r\n        return s\r\n      },\r\n      variables: function () {\r\n        if (v.variables || _u._base_filter.c.size) {\r\n          if (!v.parsed.variable_values.length) v.reparse()\r\n          let s = ''\r\n          v.parsed.variable_values.forEach(vi => {\r\n            s += vi.name + vi.operator + vi.component + vi.value + vi.active\r\n          })\r\n          return s\r\n        } else return ''\r\n      },\r\n      time_filters: function () {\r\n        let s = ''\r\n        v.time_filters &&\r\n          v.time_filters.forEach(f => {\r\n            s += f.value in _u ? valueOf(f.value) : f.value\r\n          })\r\n        return s\r\n      },\r\n    }\r\n    v.ids_check = function (a, b) {\r\n      return !a || b in a\r\n    }\r\n    v.parsed = {\r\n      dataset: '',\r\n      ids: '',\r\n      features: '',\r\n      variables: '',\r\n      time_filters: '',\r\n      time_agg: 0,\r\n      id_source: '',\r\n      variable_values: [],\r\n      feature_values: {},\r\n    }\r\n    v.reparse = function () {\r\n      this.parsed.dataset = this.get.dataset()\r\n      this.parsed.ids = this.get.ids()\r\n      this.parsed.time_filters = this.get.time_filters()\r\n      this.parsed.time_agg =\r\n        this.parsed.dataset in site.data.meta.times\r\n          ? valueOf(this.time_agg) - site.data.meta.times[this.parsed.dataset].range[0]\r\n          : 0\r\n      if (\r\n        'string' === typeof this.ids &&\r\n        this.ids in _u &&\r\n        (('virtual' === _u[this.ids].type && _u[this.ids].source in _u) ||\r\n          ('depends' in _u[this.ids] && _u[this.ids].depends in _u))\r\n      ) {\r\n        this.parsed.id_source =\r\n          'virtual' === _u[this.ids].type ? valueOf(_u[_u[this.ids].source].dataset) : _u[_u[this.ids].depends].value()\r\n      }\r\n      if (this.features) {\r\n        this.parsed.feature_values = {}\r\n        for (let k in this.features)\r\n          if (k in this.features) {\r\n            this.parsed.feature_values[k] = {value: valueOf(this.features[k])}\r\n            this.parsed.feature_values[k].operator =\r\n              'string' === typeof this.parsed.feature_values[k].value ? 'equals' : 'includes'\r\n          }\r\n        this.parsed.features = this.get.features()\r\n      } else this.parsed.features = ''\r\n      this.parsed.variable_values = []\r\n      if (_u._base_filter.c.size)\r\n        _u._base_filter.c.forEach(f => {\r\n          this.parsed.variable_values.push({\r\n            filter: f,\r\n            name: f.variable,\r\n            range: site.data.variables[f.variable].info[this.parsed.dataset].time_range,\r\n            operator: f.operator,\r\n            value: f.value ? Number(f.value) : NaN,\r\n            value_type: 'number',\r\n            component: f.component,\r\n            active: f.active,\r\n            comp_fun: component_fun(f.component),\r\n          })\r\n        })\r\n      if (this.variables || this.parsed.variable_values.length) {\r\n        if (this.variables)\r\n          for (let i = this.variables.length, v; i--; ) {\r\n            v = valueOf(this.variables[i].value)\r\n            this.parsed.variable_values.push({\r\n              name: valueOf(this.variables[i].variable),\r\n              operator: valueOf(this.variables[i].type),\r\n              value: v,\r\n              value_type: typeof v,\r\n            })\r\n          }\r\n        this.parsed.variables = this.get.variables()\r\n      } else this.parsed.variables = ''\r\n    }.bind(v)\r\n    v.checks = {\r\n      dataset: function (e) {\r\n        return this.parsed.dataset === e.group\r\n      }.bind(v),\r\n      ids: function (e) {\r\n        return e.features && this.ids_check(this.parsed.ids, e.features.id)\r\n      }.bind(v),\r\n      features: function (e) {\r\n        if (e.features) {\r\n          let k,\r\n            v,\r\n            pass = true\r\n          for (k in this.parsed.feature_values) {\r\n            if (k in this.parsed.feature_values) {\r\n              v = this.parsed.feature_values[k]\r\n              pass = DataHandler.checks[v.operator](v.value, valueOf(e.features[k]))\r\n              if (!pass) break\r\n            }\r\n          }\r\n          return pass\r\n        } else return true\r\n      }.bind(v),\r\n      variables: function (e) {\r\n        if (e.data) {\r\n          let pass = true\r\n          for (let i = this.parsed.variable_values.length; i--; ) {\r\n            const v = this.parsed.variable_values[i]\r\n            if (v.active && !isNaN(v.value)) {\r\n              const ev = e.get_value(v.name, v.comp_fun(v, this.parsed)),\r\n                ck = !isNaN(ev) && DataHandler.checks[v.operator](ev, v.value)\r\n              v.filter[ck ? 'passed' : 'failed']++\r\n              if (pass && !ck) pass = false\r\n            } else {\r\n              v.filter.failed++\r\n            }\r\n          }\r\n          return pass\r\n        } else return true\r\n      }.bind(v),\r\n    }\r\n    v.check = function (e) {\r\n      return {\r\n        ids: !this.ids || this.checks.ids(e),\r\n        features: !this.features || this.checks.features(e),\r\n        variables: (!this.variables && !_u._base_filter.c.size) || this.checks.variables(e),\r\n        dataset: !this.dataset || this.checks.dataset(e),\r\n      }\r\n    }.bind(v)\r\n  }\r\n\r\n  function global_update() {\r\n    meta.retain_state = false\r\n    keys._u.forEach(request_queue)\r\n  }\r\n\r\n  function global_reset() {\r\n    meta.retain_state = false\r\n    keys._u.forEach(k => {\r\n      if (!_u[k].setting && _u[k].reset) {\r\n        _u[k].reset()\r\n        request_queue(k)\r\n      }\r\n    })\r\n  }\r\n\r\n  function request_queue(id) {\r\n    queue[id] = true\r\n    if (queue._timeout > 0) clearTimeout(queue._timeout)\r\n    queue._timeout = setTimeout(run_queue, 20)\r\n    meta.lock_after = id\r\n  }\r\n\r\n  function run_queue() {\r\n    if (queue._timeout > 0) clearTimeout(queue._timeout)\r\n    queue._timeout = -1\r\n    keys._u.forEach(k => {\r\n      if (queue[k]) {\r\n        const d = refresh_conditions(k)\r\n        if (d) {\r\n          if (!(k in site.data.data_queue[d])) site.data.data_queue[d][k] = run_queue\r\n          return false\r\n        }\r\n        queue[k] = false\r\n      }\r\n    })\r\n    let k = get_options_url()\r\n    if (site.data.inited.first && k !== site.state) {\r\n      site.state = k\r\n      Object.keys(site.url_options).forEach(s => {\r\n        if (patterns.embed_setting.test(s))\r\n          k +=\r\n            '&' +\r\n            s +\r\n            '=' +\r\n            ('navcolor' === s ? site.url_options[s].replace(patterns.hashes, '%23') : site.url_options[s])\r\n      })\r\n      if (!site.settings.hide_url_parameters) {\r\n        window.history.replaceState(Date.now(), '', k)\r\n      }\r\n      setTimeout(content_resize, 50)\r\n    }\r\n  }\r\n\r\n  function refresh_conditions(id) {\r\n    if (id in _c) {\r\n      const c = _u[id],\r\n        d = _c[id],\r\n        r = [],\r\n        v = c && c.value() + ''\r\n      if (c && (!meta.retain_state || c.state !== v)) {\r\n        const view = site.dataviews[c.view],\r\n          dd = c.dataset ? valueOf(c.dataset) : view ? view.get.dataset() : v\r\n        if (site.data.info && dd in site.data.loaded && !site.data.loaded[dd]) {\r\n          if (!c.deferred) site.data.retrieve(dd, site.data.info[dd].site_file)\r\n          return dd\r\n        }\r\n        c.state = v\r\n        d.forEach(di => {\r\n          if ('rule' === di.type) {\r\n            if (-1 === r.indexOf(di.rule)) {\r\n              r.push(di.rule)\r\n            }\r\n          } else {\r\n            if ('function' === typeof _u[di.id][di.type]) {\r\n              _u[di.id][di.type]()\r\n            } else {\r\n              conditionals[di.type](_u[di.id], c)\r\n            }\r\n          }\r\n        })\r\n        r.forEach(i => {\r\n          let pass = false\r\n          const ri = site.rules[i],\r\n            n = ri.condition.length\r\n          for (let i = 0; i < n; i++) {\r\n            const ck = ri.condition[i]\r\n            pass = ck.check()\r\n            if (ck.any ? pass : !pass) break\r\n          }\r\n          Object.keys(ri.effects).forEach(k => {\r\n            const e = ri.effects[k]\r\n            if (pass) {\r\n              if ('display' === k) {\r\n                e.e.classList.remove('hidden')\r\n              } else if ('lock' === k) {\r\n                e.forEach(u => {\r\n                  u.e.classList.remove('locked')\r\n                  toggle_input(u, true)\r\n                })\r\n              } else if (k in _u) {\r\n                _u[k].set(valueOf(e))\r\n              }\r\n            } else if ('display' === k) {\r\n              if (!e.e.classList.contains('hidden')) {\r\n                e.e.classList.add('hidden')\r\n                if (e.u && e.u.reset) e.u.reset()\r\n                e.e.querySelectorAll('.auto-input').forEach(c => {\r\n                  if (c.id in _u && _u[c.id].reset) _u[c.id].reset()\r\n                })\r\n              }\r\n            } else if ('lock' === k) {\r\n              e.forEach(u => {\r\n                u.e.classList.add('locked')\r\n                toggle_input(u)\r\n              })\r\n            } else if ('default' in ri) {\r\n              if (k in _u) {\r\n                _u[k].set(valueOf(ri.default))\r\n              }\r\n            }\r\n          })\r\n        })\r\n        if (id === meta.lock_after) meta.retain_state = true\r\n      }\r\n    }\r\n  }\r\n}\r\nif ('undefined' === typeof module) {\r\n  community(window, document, site)\r\n} else module.exports = community\r\n","import {MeasureInfo} from '../types'\r\nimport {patterns} from './patterns'\r\nexport function set_description(e: HTMLElement, info: MeasureInfo) {\r\n  const description = info.long_description || info.description || info.short_description || ''\r\n  let has_equation = patterns.has_equation.test(description)\r\n  if (has_equation) {\r\n    const tags = description.split(patterns.bracket_content)\r\n    for (let i = tags.length; i--; ) {\r\n      const t = tags[i]\r\n      if (t && '/' !== t.substring(0, 1)) {\r\n        const p = t.split(patterns.space),\r\n          n = p.length\r\n        has_equation = patterns.math_tags.test(p[0])\r\n        if (!has_equation) break\r\n        for (let a = 1; a < n; a++) {\r\n          has_equation = patterns.math_attributes.test(p[a])\r\n          if (!has_equation) break\r\n        }\r\n        if (!has_equation) break\r\n      }\r\n    }\r\n  }\r\n  e[has_equation ? 'innerHTML' : 'innerText'] = description\r\n}\r\n"],"names":["palettes","rdylbu7","name","type","colors","orrd7","gnbu7","brbg7","puor7","prgn6","reds5","greens5","paired4","greys4","grey","brown","purple","prgn","puor","rdbu","vik","lajolla","patterns","seps","period","all_periods","word_start","settings","features","filter","data","variables","properties","palette","datasets","variable","levels","ids","minmax","int_types","end_punct","mustache","measure_name","http","bool","number","leading_zeros","url_spaces","hashes","embed_setting","median","location_string","time_ref","pre_colon","exclude_query","space","has_equation","bracket_content","math_tags","math_attributes","escapes","value_types","percent","v","minutes","dollar","defaults","time","dataview","background_highlight","border","border_highlight_true","border_highlight_false","missing","summary_levels","dataset","filtered","children","all","TutorialManager","tutorials","elements","resetter","_this","this","container","document","createElement","backdrop","highlight","menu","frame","header","dialog","timer","progress","continue","in_progress","waiting","current_step","current_time","site_elements","site_reset","start_tutorial","bind","progress_tutorial","execute_step","end_tutorial","body","appendChild","id","className","tabIndex","e","innerText","close","insertAdjacentElement","setAttribute","l","lastElementChild","Object","keys","forEach","t","description","start","manager","n_steps","steps","length","p","title","firstElementChild","before","Array","isArray","before_1","setting_display_1","k","i","row","part","replace","addEventListener","style","left","role","prototype","retrieve_element","current_site_element","test","text_1","querySelectorAll","item","querySelector","error","event","click","target","console","classList","remove","reset","isClick","code","clearTimeout","focuser","clearInterval","running_timer","step_1","handle_object","obj","do_action_1","set","action","String","option","toggle","expanded","current_element","substring","trimStart","after","focus","scrollIntoView","setTimeout","wait","step","disabled","disable_continue","b","getBoundingClientRect","f","top","width","height","y","screen","availHeight","marginLeft","setInterval","add","community","window","site","tooltip_icon_rule","conditionals","setting","u","value","theme","plotly","update_plot_theme","map","tiles","removeFrom","addTo","history","replaceState","Date","now","hide_url_parameters","location","protocol","host","pathname","get_options_url","page","script_style","sheet","insertRule","removeRule","update","overlay","clearLayers","overlay_control","tag_id","dataLayer","gtag","analytics_storage","global_update","event_category","event_label","storage","options","no_view","view","dataviews","selection","d","valueOf","va","combobox","option_sets","optionSource","fill_variables_options","fill_levels_options","fill_ids_options","fresh","current_set","sensitive","c","selection_subset","innerHTML","values","display","ns","subset","_u","rel","entity_tree","parents","si","groups","toggle_input","source","selectedIndex","url_options","state","set_current","min","async","cv","uv","parsed","time_range","Math","max","parseFloat","isFinite","min_indicator","max_indicator","_entity_filter","registered","inited","valid","n_selected","full_filter","_base_filter","passed","failed","entities","check","request_queue","data_queue","time_filters","Infinity","get","meta","times","current","filtered_index","n","pass","index","tf","DataHandler","checks","_c","ci","passive","tv","info","s","r","get_variable","su","retain_state","current_default","id_filter","selected","select_ids","metadata","modal","entity_inputs","cs","push","relations","button","init","o","getAttribute","endpoint","notification","parentElement","add_dependency","effects","query","include","api","q","join","size","time_agg","href","navigator","clipboard","writeText","then","text","export","global_reset","clear_storage","Number","active","buttongroup","retrieve","checked","setter","previous","current_index","indexOf","undefined","listener","adder","noadd","autocomplete","format_label","radio","childElementCount","checkbox","off_default","split","splice","switch","up","down","nextElementSibling","intext","condition","depends","Map","oi","init_text","parts","reference_options","ki","has","select","short_description","create","label","elementCount","clearable","tabindex","init_input","by_name","g","listbox","hover_index","cleared_selection","group","input_element","contains","multi","default","set_selected","removeEventListener","resize","x","bottom","tagName","ou","accordion","previousElementSibling","port","scrollTo","scrollTop","clear_highlight","filter_reset","filter_index","search","filterer","toLowerCase","includes","keymap","preventDefault","strict","value_type","firstChild","textContent","onchange","previous_span","color","clickto","traces","tab","getElementById","trigger_resize","show","revert","trace","make_data_entry","theme_dark","line","marker","Plotly","addTraces","deleteTraces","es","pl","ei","textfont","hoverinfo","JSON","stringify","base_trace","queue","queue_init","showing","deferred","newPlot","on","mouseover","mouseout","points","fullData","restyle","update_subs","layout","varx","vary","varcol","x_range","y_range","range","summary","views","summaries","display_time","rank","order","jump","fn","lim","trace_limit","summary_selection","color_scale_center","color_by_order","show_empty_times","ceil","boxplots","iqr_box","parse","box","q3","q1","upperfence","lowerfence","isNaN","med","_","get_value","yaxis","xaxis","autorange","any_skipped","is_time","end","adj","log","dtick","config","react","layer","highlight_style","weight","polygon_outline","fillOpacity","setStyle","match_time","overall","default_style","dep","overlays_from_measures","variable_info","overlays","temp","ranges","url","lastIndex","feature","L","featureGroup","displaying","control","layers","setPosition","addOverlay","tileLayer","_raw","_queue","_layers","by_time","shapes","shape","has_time","mapId","loaded","background_shapes","retrieve_layer","sort","triggers","overlay_summaries","processed","property_summaries","fs","fa","operator","id_property","entity","caller","map_time","vstate","background_top","background_polygon_outline","a","map_overlay","show_overlay","ys","parseInt","varc","_zoomAnimated","map_animations","fresh_shapes","skl","fg","cl","interactive","bringToBack","bringToFront","flyToBounds","getBounds","fitBounds","cstate","ls","lsi","fillColor","pal","_waiting","parse_part","parent","ref","format_value","NaN","value_source","show_summary","h","has_default","add_subs","floating","content","base","show_variable_info","rows","op","minHeight","var","parse_variables","subto","filter_components","ss","result","short_name","component","make_variable_source","datatable","time_index","rowIds","head","table_autoscroll","table_scroll_behavior","pending","node","variable_source","single_variable","is_single","variable_header","render","retrievers","row_time","wide","filters","current_filter","offset","int","jQuery","DataTable","columns","table","$","vn","digits","clear","destroy","empty","nshowing","column","visible","selector","varstate","renderer","draw","dark_highlight","rules","table_autosort","w","scroll","behavior","_DT_CellIndex","scrollHeight","createHeader","tr","appendRows","dn","current_variable","td","col","legend","lock","cooldown","trigger","ticks","scale","center","string","level_ids","integer","po","var_info","ep","pn","refresh","bins","odd","remake","current_palette","of","prop","backgroundColor","right","floor","background","norm_median","clientX","relatedTarget","credits","credit_output","exclude","version","note","input","wrapper","tooltip_trigger","tooltip_clear","listen","loader","init_output","perm","localStorage","setItem","getItem","removeItem","opt","Enter","NumpadEnter","ArrowUp","Home","ArrowDown","End","Escape","Tab","Time","time_funs","first","last","load_screen","wrap","navbar","menus","getElementsByClassName","panels","_timeout","subs","rule_conditions","agg","as_state","time_component","tree","which","total","centered","fixed","center_source","upper","m","out","onend","sets","disp","ck","ee","for","url_set","ck_suffix","schema","fields","lk","enable","removeAttribute","sort_tree_children","_n","uid","fun","dark_theme","getComputedStyle","font","modebar","paper_bgcolor","plot_bgcolor","bgcolor","_fullLayout","showgrid","gridcolor","borderColor","relayout","yr","xr","make_variable_reference","author","j","family","given","year","journal","volume","doi","date_accessed","location_url","long_name","long_description","tags","set_description","sources","citations","references","_references","reference","element","exec","hide_logo","hide_title","hide_navcontent","hide_panels","close_menus","panel","content_bounds","outer_right","content_resize","navcolor","hash","copy","poly_channel","ch","pos","coefs","pow","drop_load_screen","visibility","tutorial","reload","full","top_menu","left_menu","right_menu","bottom_menu","module","dispatchEvent","Event","add_filter_condition","presets","comp_select","removeChild","selectedOptions","value_select","reparse","variable_values","comp_fun","delete","variable_filters","_overlay_property_selectors","new_display","min_ref","max_ref","default_max","default_min","id_source","single","vi","ids_check","feature_values","component_fun","ev","compile_dataview","entity_filters","reverse","site_file","parsed_query","parse_query","conditions","tracking","arguments","hide_tooltips","tooltip","callback","layerId","geoJSON","onEachFeature","process_layer","retrieved","callbacks","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","send","pointToLayer","point","coords","circleMarker","props","_tooltip","bindTooltip","openTooltip","fill_overlay_properties_options","circle_property","prop_summary","eachLayer","setRadius","circle_radius","opacity","run_queue","lock_after","dd","di","rule","ri","any","refresh_conditions","onload","menu_toggler","hide","timeout","ariaHidden","autoType","side","marginTop","bw","has_toggler","states","us","data_load","exports"],"mappings":"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"}